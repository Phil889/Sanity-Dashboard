import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating IAM Management page with FAQ batch 1...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'iam-management' })
    
    if (!existingDoc) {
      throw new Error('Document "iam-management" not found')
    }
    
    // Create new FAQs for IAM Management fundamentals
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 1),
        question: 'Was macht professionelles IAM Management zu einem kritischen Erfolgsfaktor f√ºr moderne Unternehmen und wie unterscheidet es sich von traditioneller Identit√§tsverwaltung?',
        answer: "Professionelles IAM Management ist das operative Nervensystem moderner Unternehmen und transformiert fragmentierte Identit√§tsverwaltung in eine strategische, automatisierte Orchestrierung aller Identit√§ts- und Zugriffsprozesse. Anders als traditionelle, reaktive Ans√§tze schafft modernes IAM Management eine proaktive, intelligente Governance-Struktur, die Sicherheit, Compliance und operative Effizienz nahtlos miteinander verbindet.\n\nüéØ Strategic Business Integration und Operational Excellence:\n‚Ä¢ Zentrale Governance-Orchestrierung f√ºr alle Identit√§ts-Lifecycle-Prozesse von Onboarding bis Offboarding\n‚Ä¢ Business-Process-Integration mit automatisierten Workflows f√ºr HR-Systeme, Anwendungen und Infrastrukturen\n‚Ä¢ Risk-based Decision Making durch intelligente Analytics und kontinuierliche Risikobewertung\n‚Ä¢ Compliance-by-Design mit automatisierter Erf√ºllung regulatorischer Anforderungen und Audit-Bereitschaft\n‚Ä¢ Performance-driven Operations mit kontinuierlicher Optimierung und Effizienzsteigerung\n\nüõ°Ô∏è Advanced Security und Proactive Risk Management:\n‚Ä¢ Intelligent Identity Lifecycle Management mit automatisierter Erkennung von √Ñnderungen und Anomalien\n‚Ä¢ Behavioral Analytics f√ºr kontinuierliche √úberwachung von Benutzeraktivit√§ten und Zugriffsmuster\n‚Ä¢ Predictive Security Intelligence zur Vorhersage und Pr√§vention potenzieller Sicherheitsrisiken\n‚Ä¢ Automated Incident Response mit sofortiger Reaktion auf verd√§chtige Aktivit√§ten\n‚Ä¢ Continuous Security Assessment f√ºr dynamische Anpassung an neue Bedrohungslagen\n\n‚ö° Intelligent Automation und Process Optimization:\n‚Ä¢ Smart Provisioning mit Business-Rule-Integration und automatisierten Approval-Workflows\n‚Ä¢ Dynamic Role Management mit kontinuierlicher Optimierung basierend auf tats√§chlicher Nutzung\n‚Ä¢ Self-Service Capabilities f√ºr Benutzer mit intelligenten Empfehlungen und Guided Workflows\n‚Ä¢ Exception Handling mit automatisierter Eskalation und Resolution-Tracking\n‚Ä¢ Performance Analytics f√ºr kontinuierliche Prozessverbesserung und Bottleneck-Elimination\n\nüîç Data-driven Insights und Strategic Decision Support:\n‚Ä¢ Identity Analytics f√ºr tiefe Einblicke in Benutzerverhalten und Zugriffsmuster\n‚Ä¢ Compliance Dashboards mit Real-time Monitoring und proaktiven Warnungen\n‚Ä¢ Risk Scoring mit Machine Learning f√ºr intelligente Priorisierung von Sicherheitsma√ünahmen\n‚Ä¢ Operational Metrics f√ºr kontinuierliche Leistungs√ºberwachung und ROI-Optimierung\n‚Ä¢ Predictive Insights f√ºr strategische Kapazit√§tsplanung und Ressourcenallokation\n\nüöÄ Scalability und Enterprise-Grade Operations:\n‚Ä¢ Cloud-native Architecture f√ºr elastische Skalierung und globale Verf√ºgbarkeit\n‚Ä¢ Multi-tenant Support f√ºr komplexe Organisationsstrukturen und Tochtergesellschaften\n‚Ä¢ API-driven Integration f√ºr nahtlose Anbindung moderner Anwendungslandschaften\n‚Ä¢ Disaster Recovery und Business Continuity f√ºr kritische Gesch√§ftsprozesse\n‚Ä¢ Global Deployment mit lokaler Compliance f√ºr internationale Gesch√§ftst√§tigkeit\n\nüåê Future-ready Innovation und Continuous Evolution:\n‚Ä¢ AI/ML-Integration f√ºr intelligente Automatisierung und pr√§diktive Entscheidungen\n‚Ä¢ Zero-Trust-Architecture-Support f√ºr moderne Sicherheitsanforderungen\n‚Ä¢ DevOps-Integration f√ºr sichere CI/CD-Pipelines und Infrastructure as Code\n‚Ä¢ IoT und Edge Computing Support f√ºr moderne Arbeitspl√§tze und vernetzte Ger√§te\n‚Ä¢ Continuous Innovation mit regelm√§√üigen Updates und Feature-Erweiterungen"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 2),
        question: 'Welche kritischen Komponenten und Prozesse umfasst ein comprehensive IAM Management System und wie arbeiten sie zusammen f√ºr maximale operative Effizienz?',
        answer: "Ein comprehensive IAM Management System ist ein hochintegriertes √ñkosystem intelligenter Komponenten und Prozesse, die nahtlos zusammenarbeiten, um eine vollst√§ndige Kontrolle √ºber alle Identit√§ts- und Zugriffsprozesse zu gew√§hrleisten. Diese Architektur muss sowohl operative Exzellenz als auch strategische Flexibilit√§t bieten, w√§hrend sie gleichzeitig h√∂chste Sicherheitsstandards und Compliance-Anforderungen erf√ºllt.\n\nüèóÔ∏è Core Identity Lifecycle Management Infrastructure:\n‚Ä¢ Identity Repository als zentrale, hochverf√ºgbare Datenbank f√ºr alle Identit√§tsinformationen und Attribute\n‚Ä¢ Automated Provisioning Engine mit Business-Rule-Integration und Workflow-Orchestrierung\n‚Ä¢ Dynamic Deprovisioning mit intelligenter Cleanup-Logik und Compliance-Sicherstellung\n‚Ä¢ Profile Synchronization mit Real-time Updates √ºber alle verbundenen Systeme\n‚Ä¢ Lifecycle Analytics f√ºr kontinuierliche √úberwachung und Optimierung aller Prozesse\n\n‚öôÔ∏è Intelligent Governance und Policy Management:\n‚Ä¢ Policy Engine f√ºr granulare Regelwerke und kontextbasierte Entscheidungen\n‚Ä¢ Role Management mit Business-orientierten Hierarchien und dynamischen Zuweisungen\n‚Ä¢ Access Governance mit automatisierten Reviews und intelligenten Empfehlungen\n‚Ä¢ Segregation of Duties mit automatischer Erkennung und Verhinderung von Konflikten\n‚Ä¢ Compliance Monitoring mit kontinuierlicher √úberwachung regulatorischer Anforderungen\n\nüîê Advanced Access Control und Security Framework:\n‚Ä¢ Attribute-Based Access Control f√ºr granulare, kontextbasierte Autorisierung\n‚Ä¢ Risk-based Authentication mit adaptiven Sicherheitsanforderungen\n‚Ä¢ Session Management mit intelligenter Timeout-Steuerung und Security-Monitoring\n‚Ä¢ Privileged Access Management f√ºr kritische Systemzugriffe und administrative Funktionen\n‚Ä¢ Emergency Access Procedures mit umfassender Protokollierung und Audit-Trail\n\nüìä Analytics und Intelligence Platform:\n‚Ä¢ Behavioral Analytics f√ºr Erkennung anomaler Aktivit√§tsmuster und Insider-Threats\n‚Ä¢ Risk Analytics mit Machine Learning f√ºr datengetriebene Sicherheitsentscheidungen\n‚Ä¢ Performance Metrics f√ºr kontinuierliche √úberwachung operativer Effizienz\n‚Ä¢ Compliance Reporting mit automatisierter Erstellung regulatorischer Berichte\n‚Ä¢ Predictive Insights f√ºr proaktive Kapazit√§tsplanung und Risikomanagement\n\nüîó Integration und Orchestration Layer:\n‚Ä¢ API Gateway f√ºr sichere und skalierbare Integration mit allen Unternehmenssystemen\n‚Ä¢ Event-driven Architecture f√ºr Real-time Synchronisation und Benachrichtigungen\n‚Ä¢ Workflow Engine f√ºr komplexe Business-Prozesse und Approval-Chains\n‚Ä¢ Data Connectors f√ºr nahtlose Anbindung von HR-Systemen, Anwendungen und Infrastrukturen\n‚Ä¢ Message Queue f√ºr zuverl√§ssige Verarbeitung und Delivery von Identity-Events\n\nüõ°Ô∏è Security und Compliance Framework:\n‚Ä¢ Audit Trail Management mit umfassender Protokollierung aller IAM-Aktivit√§ten\n‚Ä¢ Encryption Services f√ºr sichere Speicherung und √úbertragung sensibler Daten\n‚Ä¢ Threat Detection mit Integration von Security Intelligence und Anomaly Detection\n‚Ä¢ Vulnerability Management f√ºr kontinuierliche Sicherheitsbewertung und Patch-Management\n‚Ä¢ Incident Response mit automatisierten Workflows und Eskalationsprozessen"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 3),
        question: 'Wie implementiert man eine effektive Identity Lifecycle Management Strategie und welche Automatisierungsans√§tze maximieren operative Effizienz?',
        answer: "Eine effektive Identity Lifecycle Management Strategie orchestriert den gesamten Lebenszyklus digitaler Identit√§ten durch intelligente Automatisierung und proaktive Governance. Diese Strategie muss sowohl operative Exzellenz als auch strategische Flexibilit√§t gew√§hrleisten, w√§hrend sie gleichzeitig Sicherheitsrisiken minimiert und Compliance-Anforderungen automatisiert erf√ºllt.\n\nüéØ Strategic Lifecycle Design und Business-Process-Integration:\n‚Ä¢ Comprehensive Lifecycle Mapping mit detaillierter Analyse aller Identit√§ts-Touchpoints\n‚Ä¢ Business-Rule-Definition f√ºr automatisierte Entscheidungen basierend auf HR-Daten und Organisationsstrukturen\n‚Ä¢ Role-based Provisioning mit intelligenten Templates und Business-orientierten Berechtigungsmodellen\n‚Ä¢ Exception Handling mit automatisierten Eskalationsprozessen und Manual-Override-Capabilities\n‚Ä¢ Continuous Process Optimization basierend auf Performance-Metriken und Feedback-Loops\n\n‚ö° Intelligent Onboarding und Automated Provisioning:\n‚Ä¢ Pre-boarding Automation mit Integration in HR-Systeme und automatischer Account-Vorbereitung\n‚Ä¢ Smart Account Creation mit Business-Rule-basierter Zuweisung von Rollen und Berechtigungen\n‚Ä¢ Self-Service Onboarding mit Guided Workflows und automatischer Validierung\n‚Ä¢ Manager Approval Integration mit intelligenten Routing-Algorithmen und Delegation-Support\n‚Ä¢ Welcome Package Automation mit personalisierten Informationen und Training-Materialien\n\nüîÑ Dynamic Change Management und Adaptive Provisioning:\n‚Ä¢ Real-time HR Integration f√ºr sofortige Verarbeitung von Organisations√§nderungen\n‚Ä¢ Intelligent Role Transition mit automatischer Anpassung von Berechtigungen bei Positionswechseln\n‚Ä¢ Temporary Access Management f√ºr Projektarbeit und zeitlich begrenzte Zuweisungen\n‚Ä¢ Delegation Workflows f√ºr Urlaubsvertretungen und tempor√§re Verantwortungs√ºbertragungen\n‚Ä¢ Audit Trail f√ºr alle √Ñnderungen mit umfassender Dokumentation und Compliance-Nachweis\n\nüõ°Ô∏è Proactive Risk Management und Security Integration:\n‚Ä¢ Risk-based Provisioning mit automatischer Bewertung von Sicherheitsrisiken bei Berechtigungszuweisungen\n‚Ä¢ Anomaly Detection f√ºr ungew√∂hnliche Zugriffsmuster und verd√§chtige Aktivit√§ten\n‚Ä¢ Segregation of Duties Enforcement mit automatischer Erkennung und Verhinderung von Interessenkonflikten\n‚Ä¢ Continuous Monitoring mit Real-time Alerts und automatisierten Response-Mechanismen\n‚Ä¢ Threat Intelligence Integration f√ºr proaktive Anpassung an neue Sicherheitsbedrohungen\n\nüîö Intelligent Offboarding und Secure Deprovisioning:\n‚Ä¢ Automated Termination Processing mit sofortiger Deaktivierung aller Zugriffe\n‚Ä¢ Graceful Transition f√ºr geplante Abg√§nge mit Knowledge-Transfer-Support\n‚Ä¢ Asset Recovery Management mit automatischer Verfolgung und R√ºckgabe von Unternehmensressourcen\n‚Ä¢ Data Retention Compliance mit automatischer Archivierung und L√∂schung nach regulatorischen Vorgaben\n‚Ä¢ Exit Interview Integration mit Feedback-Sammlung und Process-Improvement-Insights\n\nüåê Enterprise-Scale Operations und Global Deployment:\n‚Ä¢ Multi-region Support f√ºr globale Organisationen mit lokalen Compliance-Anforderungen\n‚Ä¢ Scalable Architecture f√ºr Millionen von Identit√§ten und Transaktionen\n‚Ä¢ High Availability Design mit Disaster Recovery und Business Continuity\n‚Ä¢ Performance Optimization mit Load Balancing und Caching-Strategien\n‚Ä¢ Cloud-native Deployment f√ºr elastische Skalierung und Cost-Optimization"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 4),
        question: 'Welche Rolle spielt Access Governance in einer modernen IAM Management Strategie und wie gew√§hrleistet sie kontinuierliche Compliance und Risikominimierung?',
        answer: "Access Governance ist das strategische Kontrollzentrum moderner IAM Management Systeme und bildet das Fundament f√ºr kontinuierliche Compliance, proaktive Risikominimierung und operative Exzellenz. Durch intelligente √úberwachung, automatisierte Kontrollen und datengetriebene Entscheidungen transformiert Access Governance traditionelle, reaktive Sicherheitsans√§tze in proaktive, selbstoptimierende Governance-Strukturen.\n\nüéØ Strategic Governance Framework und Policy Orchestration:\n‚Ä¢ Comprehensive Policy Management mit Business-orientierten Regelwerken und automatisierter Durchsetzung\n‚Ä¢ Risk-based Governance mit intelligenten Algorithmen f√ºr kontinuierliche Risikobewertung\n‚Ä¢ Regulatory Compliance Integration mit automatisierter √úberwachung aller relevanten Standards\n‚Ä¢ Business-aligned Controls mit direkter Verbindung zu Gesch√§ftsprozessen und Organisationszielen\n‚Ä¢ Continuous Policy Evolution basierend auf Threat Intelligence und Regulatory Changes\n\nüîç Intelligent Access Reviews und Automated Certification:\n‚Ä¢ Smart Review Campaigns mit KI-gest√ºtzten Empfehlungen und Risk-based Priorisierung\n‚Ä¢ Automated Attestation mit Business-Rule-Integration und Exception-Handling\n‚Ä¢ Manager Self-Service mit intuitiven Dashboards und Guided Decision-Making\n‚Ä¢ Bulk Operations f√ºr effiziente Verarbeitung gro√üer Datenmengen\n‚Ä¢ Continuous Monitoring mit Real-time Alerts bei kritischen √Ñnderungen\n\n‚ö° Proactive Risk Detection und Mitigation:\n‚Ä¢ Anomaly Detection f√ºr ungew√∂hnliche Zugriffsmuster und verd√§chtige Aktivit√§ten\n‚Ä¢ Segregation of Duties Monitoring mit automatischer Erkennung von Interessenkonflikten\n‚Ä¢ Toxic Combinations Analysis f√ºr gef√§hrliche Berechtigungskombinationen\n‚Ä¢ Insider Threat Detection mit Behavioral Analytics und Machine Learning\n‚Ä¢ Automated Remediation mit sofortiger Reaktion auf identifizierte Risiken\n\nüìä Advanced Analytics und Intelligence Platform:\n‚Ä¢ Access Analytics f√ºr tiefe Einblicke in Benutzerverhalten und Zugriffsmuster\n‚Ä¢ Risk Scoring mit Machine Learning f√ºr datengetriebene Priorisierung\n‚Ä¢ Compliance Dashboards mit Real-time Monitoring und Executive Reporting\n‚Ä¢ Trend Analysis f√ºr proaktive Identifikation von Governance-Herausforderungen\n‚Ä¢ Predictive Insights f√ºr strategische Entscheidungen und Kapazit√§tsplanung\n\nüõ°Ô∏è Comprehensive Compliance Management:\n‚Ä¢ Regulatory Framework Integration f√ºr automatisierte Erf√ºllung von SOX, GDPR, HIPAA und anderen Standards\n‚Ä¢ Audit Trail Management mit umfassender Dokumentation aller Governance-Aktivit√§ten\n‚Ä¢ Evidence Collection f√ºr Audit-Bereitschaft und Regulatory Reporting\n‚Ä¢ Control Testing mit automatisierten Validierungen und Exception-Reporting\n‚Ä¢ Remediation Tracking f√ºr vollst√§ndige Nachverfolgung aller Korrekturma√ünahmen\n\nüåê Enterprise Integration und Operational Excellence:\n‚Ä¢ Business System Integration f√ºr nahtlose Anbindung an HR, ERP und andere Kernsysteme\n‚Ä¢ Workflow Automation f√ºr komplexe Approval-Prozesse und Eskalationsverfahren\n‚Ä¢ Self-Service Capabilities f√ºr Endbenutzer und Manager mit intelligenten Empfehlungen\n‚Ä¢ Performance Optimization mit kontinuierlicher √úberwachung und Verbesserung\n‚Ä¢ Global Deployment Support f√ºr internationale Organisationen mit lokalen Compliance-Anforderungen"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 1 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
