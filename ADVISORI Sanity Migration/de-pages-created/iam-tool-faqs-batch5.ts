import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating IAM Tool page with FAQ batch 5...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'iam-tool' })
    
    if (!existingDoc) {
      throw new Error('Document "iam-tool" not found')
    }
    
    // Create new FAQs for IAM Tool security, compliance utilities, and governance platforms
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 17),
        question: 'Welche Security-Tools und Threat Detection Systeme sind f√ºr die umfassende Absicherung von IAM Tool Infrastrukturen unerl√§sslich?',
        answer: "Security-Tools und Threat Detection Systeme bilden die erste Verteidigungslinie f√ºr IAM Tool Infrastrukturen und sind entscheidend f√ºr den Schutz vor modernen Cyberbedrohungen. Eine mehrschichtige Sicherheitsarchitektur mit spezialisierten Tools gew√§hrleistet proaktive Bedrohungserkennung, schnelle Incident Response und kontinuierlichen Schutz kritischer Identity-Assets.\n\nüõ°Ô∏è Advanced Threat Detection und Analytics:\n‚Ä¢ User Entity Behavior Analytics f√ºr Anomaly Detection und Insider Threat Identification\n‚Ä¢ Machine Learning-basierte Threat Intelligence f√ºr Predictive Security und Pattern Recognition\n‚Ä¢ Real-time Risk Scoring f√ºr Dynamic Authentication Decisions und Adaptive Security\n‚Ä¢ Behavioral Biometrics f√ºr Advanced User Verification und Account Takeover Prevention\n‚Ä¢ Deception Technology f√ºr Early Attack Detection und Threat Actor Profiling\n\nüîç Identity-focused Security Monitoring:\n‚Ä¢ Privileged Access Monitoring f√ºr Administrative Activity Surveillance und Abuse Detection\n‚Ä¢ Authentication Analytics f√ºr Brute Force Detection und Credential Stuffing Prevention\n‚Ä¢ Session Monitoring f√ºr Concurrent Session Analysis und Session Hijacking Detection\n‚Ä¢ Access Pattern Analysis f√ºr Unusual Permission Usage und Privilege Escalation Detection\n‚Ä¢ Identity Correlation Engines f√ºr Cross-system Activity Tracking und Threat Correlation\n\nüö® Incident Response und Forensic Tools:\n‚Ä¢ Security Orchestration Platforms f√ºr Automated Threat Response und Incident Coordination\n‚Ä¢ Digital Forensics Tools f√ºr Identity-related Incident Investigation und Evidence Collection\n‚Ä¢ Threat Hunting Platforms f√ºr Proactive Security Investigation und Advanced Persistent Threat Detection\n‚Ä¢ Incident Timeline Reconstruction f√ºr Comprehensive Attack Analysis und Impact Assessment\n‚Ä¢ Evidence Management Systems f√ºr Legal Compliance und Chain of Custody Maintenance\n\nüîí Vulnerability Management und Assessment:\n‚Ä¢ Identity Security Scanners f√ºr IAM-specific Vulnerability Detection und Configuration Assessment\n‚Ä¢ Penetration Testing Tools f√ºr Realistic Attack Simulation und Security Validation\n‚Ä¢ Configuration Assessment f√ºr Security Baseline Compliance und Hardening Verification\n‚Ä¢ Dependency Scanning f√ºr Third-party Component Vulnerability Identification\n‚Ä¢ Continuous Security Monitoring f√ºr Real-time Vulnerability Detection und Risk Assessment\n\nüåê Network Security und Perimeter Defense:\n‚Ä¢ Web Application Firewalls f√ºr IAM Portal Protection und Attack Prevention\n‚Ä¢ Network Segmentation Tools f√ºr Identity Infrastructure Isolation und Traffic Control\n‚Ä¢ DDoS Protection f√ºr Service Availability und Business Continuity Assurance\n‚Ä¢ Intrusion Prevention Systems f√ºr Real-time Attack Blocking und Network Defense\n‚Ä¢ Zero Trust Network Access f√ºr Secure Remote Access und Micro-segmentation\n\nüìä Security Intelligence und Reporting:\n‚Ä¢ Security Information Integration f√ºr Centralized Threat Visibility und Correlation\n‚Ä¢ Threat Intelligence Feeds f√ºr Known Bad Actor Detection und IOC Matching\n‚Ä¢ Security Metrics Dashboards f√ºr Executive Visibility und Risk Communication\n‚Ä¢ Compliance Reporting f√ºr Regulatory Requirement Fulfillment und Audit Support\n‚Ä¢ Risk Assessment Tools f√ºr Quantitative Security Risk Analysis und Business Impact Evaluation\n\nüéØ Proactive Security Measures:\n‚Ä¢ Threat Modeling f√ºr Systematic Risk Identification und Mitigation Planning\n‚Ä¢ Security Awareness Integration f√ºr User Education und Phishing Prevention\n‚Ä¢ Red Team Exercises f√ºr Realistic Security Testing und Defense Validation\n‚Ä¢ Security Automation f√ºr Rapid Response und Consistent Policy Enforcement\n‚Ä¢ Continuous Improvement f√ºr Security Posture Enhancement und Threat Adaptation"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 18),
        question: 'Wie implementiert man effektive Compliance-Utilities und Governance-Plattformen f√ºr regulatorische Anforderungen im IAM-Bereich?',
        answer: "Compliance-Utilities und Governance-Plattformen sind essentiell f√ºr die Einhaltung regulatorischer Anforderungen und die Implementierung effektiver Identity Governance. Diese Tools automatisieren Compliance-Prozesse, gew√§hrleisten kontinuierliche √úberwachung und schaffen die notwendige Transparenz f√ºr Audit-Readiness und regulatorische Berichterstattung.\n\nüìã Regulatory Compliance Frameworks:\n‚Ä¢ GDPR Compliance Tools f√ºr Data Privacy Protection und Consent Management\n‚Ä¢ SOX Compliance Utilities f√ºr Financial Controls und Segregation of Duties\n‚Ä¢ HIPAA Compliance Platforms f√ºr Healthcare Data Protection und Access Controls\n‚Ä¢ PCI DSS Tools f√ºr Payment Card Industry Security Standards\n‚Ä¢ ISO 27001 Compliance Management f√ºr Information Security Management Systems\n\nüîç Identity Governance und Administration:\n‚Ä¢ Access Governance Platforms f√ºr Comprehensive Permission Management und Review Processes\n‚Ä¢ Role Mining und Analytics f√ºr Optimal Role Definition und Privilege Optimization\n‚Ä¢ Segregation of Duties Enforcement f√ºr Conflict Prevention und Risk Mitigation\n‚Ä¢ Entitlement Management f√ºr Granular Permission Control und Lifecycle Management\n‚Ä¢ Identity Analytics f√ºr Risk-based Access Decisions und Anomaly Detection\n\nüìä Automated Compliance Monitoring:\n‚Ä¢ Real-time Policy Violation Detection f√ºr Immediate Risk Identification und Remediation\n‚Ä¢ Continuous Compliance Assessment f√ºr Ongoing Regulatory Adherence Verification\n‚Ä¢ Exception Management f√ºr Policy Deviation Handling und Approval Workflows\n‚Ä¢ Compliance Dashboard Integration f√ºr Executive Visibility und Strategic Oversight\n‚Ä¢ Automated Remediation f√ºr Policy Violation Correction und Risk Mitigation\n\nüìù Audit und Reporting Automation:\n‚Ä¢ Automated Audit Trail Generation f√ºr Comprehensive Activity Documentation\n‚Ä¢ Compliance Report Automation f√ºr Regular Regulatory Reporting und Stakeholder Communication\n‚Ä¢ Evidence Collection f√ºr Audit Preparation und Regulatory Examination Support\n‚Ä¢ Certification Campaigns f√ºr Periodic Access Reviews und Compliance Validation\n‚Ä¢ Risk Assessment Reporting f√ºr Quantitative Compliance Risk Analysis\n\nüîÑ Lifecycle Management und Governance:\n‚Ä¢ Identity Lifecycle Governance f√ºr Comprehensive User Journey Management\n‚Ä¢ Access Request Workflows f√ºr Controlled Permission Provisioning und Approval Processes\n‚Ä¢ Recertification Automation f√ºr Regular Access Validation und Compliance Maintenance\n‚Ä¢ Orphaned Account Detection f√ºr Inactive User Identification und Cleanup\n‚Ä¢ Privilege Escalation Monitoring f√ºr Unauthorized Permission Increase Detection\n\n‚öñÔ∏è Legal und Regulatory Integration:\n‚Ä¢ Data Retention Management f√ºr Legal Compliance und Storage Optimization\n‚Ä¢ Right to be Forgotten Implementation f√ºr GDPR Article 17 Compliance\n‚Ä¢ Cross-border Data Transfer Controls f√ºr International Privacy Regulation Compliance\n‚Ä¢ Breach Notification Automation f√ºr Regulatory Reporting Requirements\n‚Ä¢ Legal Hold Management f√ºr Litigation Support und Evidence Preservation\n\nüéØ Governance Strategy und Implementation:\n‚Ä¢ Policy Management Platforms f√ºr Centralized Governance Rule Definition und Enforcement\n‚Ä¢ Risk-based Governance f√ºr Dynamic Policy Adjustment und Threat-aware Controls\n‚Ä¢ Business Process Integration f√ºr Seamless Governance Workflow Integration\n‚Ä¢ Stakeholder Collaboration f√ºr Cross-functional Governance Participation\n‚Ä¢ Continuous Improvement f√ºr Governance Process Refinement und Regulatory Adaptation"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 19),
        question: 'Welche Backup- und Disaster Recovery Tools sind f√ºr die Gesch√§ftskontinuit√§t von IAM Tool Umgebungen kritisch?',
        answer: "Backup- und Disaster Recovery Tools sind fundamentale Komponenten f√ºr die Gesch√§ftskontinuit√§t von IAM Tool Umgebungen und gew√§hrleisten die Verf√ºgbarkeit kritischer Identity-Services auch bei Systemausf√§llen oder Katastrophen. Eine umfassende Business Continuity Strategie erfordert spezialisierte Tools f√ºr Datenbackup, Systemreplikation und schnelle Wiederherstellung.\n\nüíæ Identity Data Backup und Protection:\n‚Ä¢ Incremental Backup Systems f√ºr Efficient Storage Utilization und Rapid Backup Completion\n‚Ä¢ Real-time Data Replication f√ºr Continuous Data Protection und Minimal Data Loss\n‚Ä¢ Cross-site Backup f√ºr Geographic Redundancy und Disaster Protection\n‚Ä¢ Encrypted Backup Storage f√ºr Data Security und Compliance Requirements\n‚Ä¢ Automated Backup Verification f√ºr Backup Integrity Assurance und Recovery Readiness\n\nüîÑ System Replication und High Availability:\n‚Ä¢ Active-Active Clustering f√ºr Load Distribution und Seamless Failover\n‚Ä¢ Database Replication f√ºr Real-time Data Synchronization und Availability\n‚Ä¢ Application-level Replication f√ºr Complete System Redundancy und Service Continuity\n‚Ä¢ Load Balancer Integration f√ºr Traffic Distribution und Health Monitoring\n‚Ä¢ Geographic Distribution f√ºr Multi-site Availability und Disaster Resilience\n\n‚ö° Rapid Recovery und Restoration:\n‚Ä¢ Point-in-time Recovery f√ºr Precise Data Restoration und Minimal Business Impact\n‚Ä¢ Automated Recovery Procedures f√ºr Fast System Restoration und Reduced Downtime\n‚Ä¢ Recovery Testing Automation f√ºr Regular DR Validation und Process Verification\n‚Ä¢ Granular Recovery Options f√ºr Selective Data Restoration und Efficient Recovery\n‚Ä¢ Recovery Time Optimization f√ºr Minimal Business Disruption und Service Restoration\n\nüèóÔ∏è Infrastructure Resilience und Redundancy:\n‚Ä¢ Multi-cloud Deployment f√ºr Vendor Independence und Risk Distribution\n‚Ä¢ Infrastructure as Code f√ºr Rapid Environment Reconstruction und Consistent Deployment\n‚Ä¢ Container Orchestration f√ºr Scalable Recovery und Resource Optimization\n‚Ä¢ Network Redundancy f√ºr Communication Path Diversity und Connectivity Assurance\n‚Ä¢ Power und Cooling Redundancy f√ºr Physical Infrastructure Protection\n\nüìä Business Continuity Planning und Management:\n‚Ä¢ Recovery Time Objective Planning f√ºr Business-aligned Recovery Targets\n‚Ä¢ Recovery Point Objective Definition f√ºr Acceptable Data Loss Thresholds\n‚Ä¢ Business Impact Analysis f√ºr Critical Process Identification und Priority Setting\n‚Ä¢ Disaster Recovery Runbooks f√ºr Structured Recovery Procedures und Team Coordination\n‚Ä¢ Communication Plans f√ºr Stakeholder Notification und Status Updates\n\nüîç Monitoring und Testing:\n‚Ä¢ Continuous Health Monitoring f√ºr Proactive Issue Detection und Prevention\n‚Ä¢ Automated Failover Testing f√ºr Regular DR Capability Validation\n‚Ä¢ Recovery Performance Metrics f√ºr Continuous Improvement und Optimization\n‚Ä¢ Compliance Testing f√ºr Regulatory Requirement Fulfillment\n‚Ä¢ Lessons Learned Integration f√ºr Process Improvement und Knowledge Sharing\n\nüéØ Strategic Continuity Considerations:\n‚Ä¢ Cost-Benefit Analysis f√ºr Optimal DR Investment und Resource Allocation\n‚Ä¢ Vendor Management f√ºr Third-party Service Continuity und Dependency Management\n‚Ä¢ Regulatory Compliance f√ºr Industry-specific Continuity Requirements\n‚Ä¢ Insurance Integration f√ºr Financial Risk Mitigation und Coverage Optimization\n‚Ä¢ Continuous Improvement f√ºr DR Capability Enhancement und Technology Evolution"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 20),
        question: 'Wie etabliert man umfassende Tool-Lifecycle-Management Strategien f√ºr nachhaltige IAM Tool Governance und kontinuierliche Optimierung?',
        answer: "Tool-Lifecycle-Management Strategien sind entscheidend f√ºr die nachhaltige Governance von IAM Tools und gew√§hrleisten kontinuierliche Optimierung, Kosteneffizienz und strategische Ausrichtung. Ein systematischer Lifecycle-Ansatz umfasst alle Phasen von der initialen Planung bis zur eventuellen Abl√∂sung und schafft die Grundlage f√ºr langfristige IAM-Exzellenz.\n\nüìã Strategic Planning und Tool Portfolio Management:\n‚Ä¢ IAM Tool Roadmap Development f√ºr Strategic Alignment und Future Planning\n‚Ä¢ Portfolio Assessment f√ºr Tool Redundancy Identification und Optimization Opportunities\n‚Ä¢ Technology Lifecycle Tracking f√ºr Vendor Support und End-of-Life Planning\n‚Ä¢ Investment Planning f√ºr Budget Allocation und Resource Optimization\n‚Ä¢ Strategic Alignment f√ºr Business Objective Integration und Value Maximization\n\nüîÑ Continuous Assessment und Optimization:\n‚Ä¢ Performance Benchmarking f√ºr Tool Effectiveness Measurement und Improvement Identification\n‚Ä¢ Cost-Benefit Analysis f√ºr ROI Validation und Investment Justification\n‚Ä¢ User Satisfaction Surveys f√ºr Adoption Assessment und Experience Improvement\n‚Ä¢ Security Assessment f√ºr Ongoing Risk Evaluation und Mitigation Planning\n‚Ä¢ Compliance Validation f√ºr Regulatory Requirement Adherence und Gap Identification\n\nüõ†Ô∏è Maintenance und Support Management:\n‚Ä¢ Vendor Relationship Management f√ºr Optimal Support und Strategic Partnership\n‚Ä¢ Update und Patch Management f√ºr Security Maintenance und Feature Enhancement\n‚Ä¢ Configuration Management f√ºr Consistent Setup und Change Control\n‚Ä¢ Documentation Maintenance f√ºr Knowledge Preservation und Transfer\n‚Ä¢ Training Program Management f√ºr User Competency und Adoption\n\nüìä Performance Monitoring und Analytics:\n‚Ä¢ Tool Utilization Analytics f√ºr Usage Pattern Analysis und Optimization Opportunities\n‚Ä¢ Performance Metrics Tracking f√ºr Efficiency Measurement und Improvement Planning\n‚Ä¢ Integration Health Monitoring f√ºr System Interoperability und Data Flow Validation\n‚Ä¢ User Adoption Metrics f√ºr Training Need Identification und Change Management\n‚Ä¢ Business Value Measurement f√ºr Strategic Contribution Assessment\n\nüîÑ Evolution und Modernization:\n‚Ä¢ Technology Refresh Planning f√ºr Capability Enhancement und Competitive Advantage\n‚Ä¢ Migration Strategy Development f√ºr Tool Replacement und Upgrade Planning\n‚Ä¢ Legacy Tool Retirement f√ºr Cost Reduction und Complexity Minimization\n‚Ä¢ Emerging Technology Evaluation f√ºr Innovation Opportunity Assessment\n‚Ä¢ Pilot Program Management f√ºr New Tool Validation und Risk Mitigation\n\n‚öñÔ∏è Governance und Risk Management:\n‚Ä¢ Tool Governance Framework f√ºr Consistent Management und Oversight\n‚Ä¢ Risk Assessment f√ºr Tool-related Vulnerabilities und Mitigation Strategies\n‚Ä¢ Compliance Monitoring f√ºr Regulatory Adherence und Audit Readiness\n‚Ä¢ Change Management f√ºr Controlled Evolution und Impact Minimization\n‚Ä¢ Quality Assurance f√ºr Tool Reliability und Performance Standards\n\nüéØ Strategic Optimization und Future-Proofing:\n‚Ä¢ Capability Gap Analysis f√ºr Tool Enhancement und Strategic Investment\n‚Ä¢ Market Trend Analysis f√ºr Technology Evolution und Competitive Positioning\n‚Ä¢ Scalability Planning f√ºr Growth Accommodation und Performance Maintenance\n‚Ä¢ Innovation Integration f√ºr Cutting-edge Capability Adoption\n‚Ä¢ Continuous Improvement f√ºr Lifecycle Process Refinement und Excellence Achievement"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 5 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
