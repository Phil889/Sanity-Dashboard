import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating PAM vs IAM page with FAQ batch 2...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'pam-vs-iam' })
    
    if (!existingDoc) {
      throw new Error('Document "pam-vs-iam" not found')
    }
    
    // Create new FAQs for PAM vs IAM implementation and best practices
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 5),
        question: 'Welche konkreten Anwendungsf√§lle und Use Cases rechtfertigen eine PAM-L√∂sung gegen√ºber einer reinen IAM-Implementierung?',
        answer: "Die Entscheidung f√ºr PAM-spezifische L√∂sungen basiert auf kritischen Anwendungsf√§llen, die √ºber die Capabilities traditioneller IAM-Systeme hinausgehen und spezialisierte Sicherheitskontrollen f√ºr hochprivilegierte Zugriffe erfordern. PAM wird essentiell, wenn Organisationen kritische Infrastrukturen, sensitive Daten oder regulatorische Compliance-Anforderungen sch√ºtzen m√ºssen, die erweiterte √úberwachung und Kontrolle privilegierter Aktivit√§ten verlangen.\n\nüè≠ Critical Infrastructure Protection f√ºr systemkritische Umgebungen:\n‚Ä¢ Industrielle Steuerungssysteme und SCADA-Umgebungen mit direktem Impact auf physische Prozesse\n‚Ä¢ Energieversorgungsnetze und kritische Infrastrukturen mit nationaler Sicherheitsrelevanz\n‚Ä¢ Produktionsanlagen mit hohen Sicherheits- und Verf√ºgbarkeitsanforderungen\n‚Ä¢ Medizinische Ger√§te und Healthcare-Systeme mit direktem Patientenbezug\n‚Ä¢ Finanzielle Handelssysteme mit Real-time Transaction-Processing\n\nüí∞ High-Value Asset Protection f√ºr gesch√§ftskritische Ressourcen:\n‚Ä¢ Datenbanken mit Kunden- und Finanzdaten von strategischer Bedeutung\n‚Ä¢ Intellectual Property Repositories mit Forschungs- und Entwicklungsdaten\n‚Ä¢ Backup-Systeme und Disaster-Recovery-Infrastrukturen\n‚Ä¢ Kryptographische Schl√ºsselverwaltung und Certificate-Authorities\n‚Ä¢ Core-Banking-Systeme und Payment-Processing-Infrastrukturen\n\nüîê Advanced Threat Scenarios mit erh√∂hten Sicherheitsanforderungen:\n‚Ä¢ Umgebungen mit bekannten Advanced Persistent Threat Expositionen\n‚Ä¢ Organisationen mit hohem Insider-Threat-Risiko durch privilegierte Benutzer\n‚Ä¢ Multi-Tenant-Umgebungen mit strikten Isolation-Anforderungen\n‚Ä¢ Cloud-Hybrid-Szenarien mit komplexen Vertrauensgrenzen\n‚Ä¢ DevOps-Umgebungen mit automatisierten Deployment-Pipelines\n\n‚öñÔ∏è Regulatory Compliance-Szenarien mit spezifischen Audit-Anforderungen:\n‚Ä¢ SOX-Compliance mit detaillierter Nachverfolgung finanzieller Systemzugriffe\n‚Ä¢ HIPAA-Umgebungen mit umfassender PHI-Access-Dokumentation\n‚Ä¢ PCI-DSS-Anforderungen f√ºr Cardholder-Data-Environment-Zugriffe\n‚Ä¢ GDPR-Compliance mit detaillierter Protokollierung von Datenzugriffen\n‚Ä¢ Branchenspezifische Regulierungen wie NERC-CIP oder FFIEC-Guidelines\n\nüö® Emergency Access und Break-Glass-Szenarien:\n‚Ä¢ Notfallzugriffe auf kritische Systeme au√üerhalb regul√§rer Gesch√§ftszeiten\n‚Ä¢ Disaster-Recovery-Situationen mit tempor√§ren Privilegien-Eskalationen\n‚Ä¢ Security-Incident-Response mit forensischen Untersuchungsanforderungen\n‚Ä¢ System-Recovery-Szenarien nach Cyber-Angriffen oder Systemausf√§llen\n‚Ä¢ Vendor-Support-Zugriffe mit zeitlich begrenzten und √ºberwachten Berechtigungen\n\nüîÑ Operational Excellence f√ºr komplexe IT-Landschaften:\n‚Ä¢ Multi-Cloud-Umgebungen mit verschiedenen Privilegien-Modellen\n‚Ä¢ Legacy-System-Integration mit begrenzten nativen Sicherheitsfeatures\n‚Ä¢ Service-Account-Management f√ºr automatisierte Prozesse und Batch-Jobs\n‚Ä¢ Third-Party-Integration mit externen Dienstleistern und Partnern\n‚Ä¢ DevSecOps-Workflows mit sicherer Secrets-Verwaltung und Deployment-Automation"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 6),
        question: 'Wie k√∂nnen Unternehmen eine kosteneffiziente PAM-IAM-Integrationsstrategie entwickeln und welche ROI-Faktoren sollten ber√ºcksichtigt werden?',
        answer: "Eine kosteneffiziente PAM-IAM-Integrationsstrategie erfordert strategische Planung, die sowohl direkte Technologiekosten als auch indirekte Business-Benefits ber√ºcksichtigt. Erfolgreiche Organisationen entwickeln phasenweise Implementierungsans√§tze, die Quick Wins mit langfristigen strategischen Zielen kombinieren und dabei messbare ROI-Metriken etablieren, die sowohl Kosteneinsparungen als auch Risikoreduktion quantifizieren.\n\nüí° Strategic ROI-Framework f√ºr PAM-IAM-Integration:\n‚Ä¢ Risk Reduction Quantification durch Berechnung potenzieller Schadensvermeidung bei Sicherheitsvorf√§llen\n‚Ä¢ Operational Efficiency Gains durch Automatisierung manueller Sicherheitsprozesse\n‚Ä¢ Compliance Cost Avoidance durch automatisierte Audit-Bereitschaft und Reporting\n‚Ä¢ Productivity Enhancement durch verbesserte Benutzerfreundlichkeit und Self-Service-Capabilities\n‚Ä¢ Innovation Enablement durch sichere Unterst√ºtzung neuer Gesch√§ftsmodelle und Technologien\n\nüìä Phased Implementation-Approach f√ºr optimale Ressourcennutzung:\n‚Ä¢ Phase One fokussiert auf kritischste Assets und h√∂chste Risikobereiche f√ºr maximalen initialen Impact\n‚Ä¢ Phase Two erweitert Integration auf Standard-Business-Prozesse mit bew√§hrten Patterns\n‚Ä¢ Phase Three implementiert Advanced-Features und Innovation-Capabilities\n‚Ä¢ Continuous Optimization Phase f√ºr evolution√§re Anpassung an neue Anforderungen\n‚Ä¢ Success Metrics werden in jeder Phase gemessen und f√ºr n√§chste Phase optimiert\n\nüí∞ Cost-Optimization-Strategien f√ºr nachhaltige Budgetplanung:\n‚Ä¢ Cloud-native Solutions reduzieren Infrastruktur-Overhead und erm√∂glichen Pay-as-you-Scale-Modelle\n‚Ä¢ Vendor Consolidation minimiert Lizenzkosten und reduziert Integrationskomplexit√§t\n‚Ä¢ Automation-first Approach reduziert langfristige Betriebskosten und menschliche Fehlerquellen\n‚Ä¢ Open Standards Integration vermeidet Vendor-Lock-in und maximiert Flexibilit√§t\n‚Ä¢ Shared Services Architecture amortisiert Investitionen √ºber mehrere Business-Units\n\nüéØ Business-Value-Realization durch strategische Metriken:\n‚Ä¢ Mean Time to Detection und Response f√ºr Sicherheitsvorf√§lle als Risikoreduktions-Indikator\n‚Ä¢ User Productivity Metrics f√ºr Quantifizierung von Effizienzgewinnen\n‚Ä¢ Compliance Audit Success Rate als Indikator f√ºr regulatorische Exzellenz\n‚Ä¢ System Availability und Performance als Operational-Excellence-Metriken\n‚Ä¢ Innovation Velocity f√ºr Messung der Business-Enablement-Capabilities\n\nüîÑ Continuous Value-Optimization f√ºr langfristige ROI-Maximierung:\n‚Ä¢ Regular Business-Case-Reviews f√ºr Anpassung an ver√§nderte Gesch√§ftsanforderungen\n‚Ä¢ Technology-Refresh-Zyklen f√ºr Integration neuer Capabilities und Effizienzgewinne\n‚Ä¢ Stakeholder-Feedback-Loops f√ºr kontinuierliche Verbesserung der Benutzerfreundlichkeit\n‚Ä¢ Market-Benchmark-Analysen f√ºr Validierung der Wettbewerbsf√§higkeit\n‚Ä¢ Innovation-Pipeline-Management f√ºr proaktive Integration emerging Technologies\n\nüèÜ Success-Factor-Framework f√ºr nachhaltige Wertsch√∂pfung:\n‚Ä¢ Executive Sponsorship f√ºr strategische Unterst√ºtzung und Ressourcenbereitstellung\n‚Ä¢ Cross-functional Collaboration zwischen IT, Security, Compliance und Business-Teams\n‚Ä¢ Change Management f√ºr erfolgreiche Adoption und Akzeptanz neuer Prozesse\n‚Ä¢ Skills Development f√ºr Aufbau interner Expertise und Reduktion externer Abh√§ngigkeiten\n‚Ä¢ Vendor Partnership f√ºr langfristige strategische Zusammenarbeit und Innovation-Access"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 7),
        question: 'Welche spezifischen Herausforderungen entstehen bei der Integration von PAM und IAM in Cloud-nativen und Hybrid-Umgebungen?',
        answer: "Cloud-native und Hybrid-Umgebungen bringen einzigartige Herausforderungen f√ºr PAM-IAM-Integration mit sich, die traditionelle On-Premises-Ans√§tze √ºbersteigen. Die dynamische Natur von Cloud-Infrastrukturen, verschiedene Sicherheitsmodelle der Cloud-Provider und die Komplexit√§t von Hybrid-Architekturen erfordern innovative Integrations-Strategien, die Flexibilit√§t, Skalierbarkeit und konsistente Sicherheitsrichtlinien √ºber alle Umgebungen hinweg gew√§hrleisten.\n\n‚òÅÔ∏è Cloud-native Architecture-Challenges f√ºr traditionelle Sicherheitsmodelle:\n‚Ä¢ Ephemeral Infrastructure mit kurzlebigen Ressourcen erschwert traditionelle Asset-Inventarisierung\n‚Ä¢ Container-basierte Workloads erfordern neue Ans√§tze f√ºr Identit√§ts- und Privilegien-Management\n‚Ä¢ Serverless-Computing-Modelle ben√∂tigen event-driven Security-Orchestration\n‚Ä¢ Auto-Scaling-Umgebungen verlangen dynamische Sicherheitsrichtlinien-Anpassung\n‚Ä¢ Multi-Region-Deployments erfordern globale Konsistenz bei lokaler Compliance\n\nüîó Hybrid-Integration-Komplexit√§ten zwischen verschiedenen Umgebungen:\n‚Ä¢ Identity-Federation zwischen On-Premises und Cloud-Systemen mit verschiedenen Protokollen\n‚Ä¢ Network-Segmentation √ºber Hybrid-Grenzen hinweg f√ºr sichere Kommunikation\n‚Ä¢ Data-Sovereignty-Anforderungen mit geografischen Beschr√§nkungen f√ºr sensitive Daten\n‚Ä¢ Latency-Optimization f√ºr Real-time Security-Entscheidungen √ºber WAN-Verbindungen\n‚Ä¢ Disaster-Recovery-Szenarien mit Cross-Environment-Failover-Capabilities\n\nüõ°Ô∏è Multi-Cloud-Security-Orchestration f√ºr Provider-√ºbergreifende Konsistenz:\n‚Ä¢ Unterschiedliche Cloud-Provider-Sicherheitsmodelle erfordern Abstraktions-Layer\n‚Ä¢ API-Kompatibilit√§t zwischen verschiedenen Cloud-Plattformen f√ºr einheitliche Integration\n‚Ä¢ Credential-Management √ºber mehrere Cloud-Umgebungen mit verschiedenen Authentifizierungs-Mechanismen\n‚Ä¢ Compliance-Mapping f√ºr verschiedene geografische Regionen und Regulierungs-Frameworks\n‚Ä¢ Cost-Optimization bei Multi-Cloud-Sicherheits-Deployments\n\n‚ö° DevOps-Integration-Herausforderungen f√ºr sichere Automation:\n‚Ä¢ CI/CD-Pipeline-Security mit automatisierter Secrets-Verwaltung und Deployment-Validation\n‚Ä¢ Infrastructure-as-Code-Integration f√ºr Security-Policy-Automation\n‚Ä¢ Container-Registry-Security mit Image-Scanning und Vulnerability-Management\n‚Ä¢ Kubernetes-Security mit Pod-Security-Policies und Network-Policies\n‚Ä¢ GitOps-Workflows mit sicherer Configuration-Management und Change-Tracking\n\nüîÑ Dynamic-Scaling-Challenges f√ºr adaptive Sicherheitsarchitekturen:\n‚Ä¢ Just-in-Time-Provisioning von Sicherheitsrichtlinien f√ºr neue Ressourcen\n‚Ä¢ Auto-Discovery neuer Assets und automatische Integration in Sicherheits-Frameworks\n‚Ä¢ Performance-Optimization bei hochfrequenten Scaling-Events\n‚Ä¢ Resource-Tagging und Metadata-Management f√ºr automatisierte Policy-Anwendung\n‚Ä¢ Cost-Control f√ºr Security-Services bei elastischen Workloads\n\nüåê Edge-Computing-Integration f√ºr verteilte Sicherheitsarchitekturen:\n‚Ä¢ Offline-Capability f√ºr Edge-Devices mit intermittierender Konnektivit√§t\n‚Ä¢ Local-Decision-Making f√ºr latency-kritische Sicherheitsentscheidungen\n‚Ä¢ Centralized-Management mit dezentraler Enforcement f√ºr optimale Performance\n‚Ä¢ IoT-Device-Integration mit begrenzten Compute- und Storage-Ressourcen\n‚Ä¢ 5G-Network-Integration f√ºr neue Connectivity-Patterns und Sicherheitsanforderungen"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 8),
        question: 'Wie k√∂nnen Organisationen die Benutzerakzeptanz und Change Management f√ºr integrierte PAM-IAM-Systeme erfolgreich gestalten?',
        answer: "Erfolgreiche Benutzerakzeptanz f√ºr integrierte PAM-IAM-Systeme erfordert einen ganzheitlichen Change-Management-Ansatz, der technische Exzellenz mit menschenzentriertem Design kombiniert. Organisationen m√ºssen sowohl die funktionalen Anforderungen verschiedener Benutzergruppen als auch deren psychologische Barrieren gegen√ºber neuen Sicherheitsprozessen verstehen und adressieren, um nachhaltige Adoption und Compliance zu gew√§hrleisten.\n\nüë• User-Centric Design-Principles f√ºr intuitive Sicherheitserfahrungen:\n‚Ä¢ Persona-based Interface-Design f√ºr verschiedene Benutzergruppen mit spezifischen Workflows\n‚Ä¢ Progressive Disclosure von Sicherheitsfeatures basierend auf Benutzer-Expertise und Kontext\n‚Ä¢ Self-Service-Capabilities f√ºr h√§ufige Aufgaben zur Reduktion von IT-Abh√§ngigkeiten\n‚Ä¢ Mobile-first Design f√ºr moderne Arbeitspl√§tze und Remote-Work-Szenarien\n‚Ä¢ Accessibility-Compliance f√ºr inklusive Benutzererfahrungen √ºber alle F√§higkeiten hinweg\n\nüéì Comprehensive Training-Strategy f√ºr nachhaltige Kompetenzentwicklung:\n‚Ä¢ Role-based Training-Programme f√ºr verschiedene Verantwortlichkeiten und Privilegien-Level\n‚Ä¢ Hands-on Workshops mit realistischen Szenarien und praktischen √úbungen\n‚Ä¢ Microlearning-Modules f√ºr kontinuierliche Skill-Entwicklung ohne Produktivit√§tsverlust\n‚Ä¢ Gamification-Elemente f√ºr erh√∂hte Engagement und Retention\n‚Ä¢ Peer-to-Peer Learning-Networks f√ºr organischen Wissenstransfer\n\nüì¢ Strategic Communication-Framework f√ºr Stakeholder-Alignment:\n‚Ä¢ Executive-Messaging f√ºr strategische Unterst√ºtzung und Ressourcen-Commitment\n‚Ä¢ Business-Value-Communication f√ºr Demonstration konkreter Vorteile und ROI\n‚Ä¢ Technical-Deep-Dives f√ºr IT-Teams mit detaillierten Implementation-Guidance\n‚Ä¢ Success-Story-Sharing f√ºr Motivation und Best-Practice-Verbreitung\n‚Ä¢ Feedback-Channels f√ºr kontinuierliche Verbesserung und Benutzer-Input\n\nüîÑ Phased Rollout-Strategy f√ºr minimale Disruption:\n‚Ä¢ Pilot-Groups mit Early-Adopters f√ºr initiales Feedback und Refinement\n‚Ä¢ Department-by-Department-Rollout f√ºr manageable Change-Zyklen\n‚Ä¢ Feature-Flag-Approach f√ºr graduelle Einf√ºhrung neuer Capabilities\n‚Ä¢ Parallel-Running-Periods f√ºr sichere Transition ohne Business-Impact\n‚Ä¢ Rollback-Capabilities f√ºr schnelle Reaktion auf unvorhergesehene Probleme\n\nüéØ Incentive-Alignment f√ºr positive Verhaltens√§nderung:\n‚Ä¢ Performance-Metrics-Integration f√ºr Alignment mit individuellen Zielen\n‚Ä¢ Recognition-Programs f√ºr Security-Champions und Best-Practice-Adopters\n‚Ä¢ Career-Development-Opportunities f√ºr Sicherheits-Expertise und Zertifizierungen\n‚Ä¢ Productivity-Bonuses durch verbesserte Effizienz und reduzierte Friction\n‚Ä¢ Innovation-Challenges f√ºr kreative Nutzung neuer Sicherheits-Capabilities\n\nüõ†Ô∏è Support-Infrastructure f√ºr nachhaltige Adoption:\n‚Ä¢ Multi-Channel-Support mit Chat, Email, Phone und Self-Service-Optionen\n‚Ä¢ Knowledge-Base mit searchable Documentation und Video-Tutorials\n‚Ä¢ Community-Forums f√ºr Peer-Support und Best-Practice-Sharing\n‚Ä¢ Regular-Office-Hours mit Experten f√ºr direkte Unterst√ºtzung\n‚Ä¢ Proactive-Monitoring f√ºr fr√ºhzeitige Identifikation von Adoption-Barrieren"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 2 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
