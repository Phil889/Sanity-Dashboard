import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating DORA Governance page with FAQ batch 4...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'dora-governance' })
    
    if (!existingDoc) {
      throw new Error('Document "dora-governance" not found')
    }
    
    // Create new FAQs for DORA governance integration and coordination
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 13),
        question: 'Wie koordiniere ich DORA-Governance mit anderen regulatorischen Compliance-Anforderungen in meiner Organisation?',
        answer: "Die Koordination von DORA-Governance mit anderen regulatorischen Compliance-Anforderungen erfordert einen strategischen und integrierten Ansatz, der Synergien maximiert und Redundanzen minimiert. Erfolgreiche Koordination schafft ein koh√§rentes Compliance-√ñkosystem, das sowohl Effizienz als auch Effektivit√§t √ºber verschiedene regulatorische Dom√§nen hinweg gew√§hrleistet.\n\nüîó Regulatorisches Mapping und Overlap-Analyse:\n‚Ä¢ Systematische Identifikation und Mapping aller relevanten regulatorischen Anforderungen, die IKT-Governance-Aspekte ber√ºhren\n‚Ä¢ Durchf√ºhrung detaillierter Overlap-Analysen zwischen DORA und anderen Regulierungen wie Basel III, Solvency II, MiFID II, GDPR und NIS2\n‚Ä¢ Entwicklung von Compliance-Matrizen, die gemeinsame Anforderungen, Unterschiede und potenzielle Konflikte aufzeigen\n‚Ä¢ Identifikation von Synergien und M√∂glichkeiten f√ºr integrierte Compliance-Ans√§tze\n‚Ä¢ Ber√ºcksichtigung jurisdiktionsspezifischer Implementierungen und lokaler regulatorischer Besonderheiten\n\nüèóÔ∏è Integrierte Governance-Architektur:\n‚Ä¢ Design einer √ºbergreifenden Governance-Architektur, die DORA-Anforderungen nahtlos in bestehende Compliance-Frameworks integriert\n‚Ä¢ Etablierung gemeinsamer Governance-Strukturen und -Prozesse f√ºr √ºberlappende regulatorische Bereiche\n‚Ä¢ Entwicklung einheitlicher Terminologie und Standards f√ºr regulatorische Governance-Aktivit√§ten\n‚Ä¢ Schaffung zentraler Koordinationsmechanismen f√ºr regulatorische Entscheidungen und Policy-Entwicklung\n‚Ä¢ Sicherstellung konsistenter Governance-Prinzipien und -Standards √ºber alle regulatorischen Dom√§nen hinweg\n\nüìä Konsolidierte Berichterstattung und Monitoring:\n‚Ä¢ Entwicklung integrierter Reporting-Frameworks, die DORA-spezifische Metriken mit anderen regulatorischen KPIs kombinieren\n‚Ä¢ Etablierung gemeinsamer Datenquellen und -standards f√ºr verschiedene regulatorische Berichtspflichten\n‚Ä¢ Implementation von Cross-Regulatory-Dashboards f√ºr Senior Management und Board-Oversight\n‚Ä¢ Koordination von Aufsichtskommunikation und -engagement √ºber verschiedene regulatorische Bereiche hinweg\n‚Ä¢ Sicherstellung konsistenter Botschaften und Positionen gegen√ºber verschiedenen Aufsichtsbeh√∂rden\n\n‚öñÔ∏è Risikomanagement-Integration:\n‚Ä¢ Integration von DORA-spezifischen IKT-Risiken in bestehende Enterprise-Risk-Management-Frameworks\n‚Ä¢ Entwicklung einheitlicher Risiko-Assessment-Methoden, die verschiedene regulatorische Perspektiven ber√ºcksichtigen\n‚Ä¢ Koordination von Risiko-Mitigation-Strategien √ºber verschiedene Compliance-Bereiche hinweg\n‚Ä¢ Sicherstellung konsistenter Risiko-Appetit-Definitionen und -Toleranzen f√ºr √ºberlappende Risikokategorien\n‚Ä¢ Etablierung integrierter Stress-Testing und Scenario-Planning-Capabilities\n\nüîÑ Change Management und Regulatory Updates:\n‚Ä¢ Entwicklung koordinierter Ans√§tze f√ºr das Management regulatorischer √Ñnderungen √ºber verschiedene Dom√§nen hinweg\n‚Ä¢ Etablierung von Cross-Regulatory-Impact-Assessment-Prozessen f√ºr neue oder ge√§nderte Anforderungen\n‚Ä¢ Sicherstellung konsistenter Implementierungsans√§tze f√ºr √ºberlappende regulatorische Updates\n‚Ä¢ Koordination von Stakeholder-Engagement und Konsultationsaktivit√§ten\n‚Ä¢ Integration von Regulatory-Change-Management in strategische Planungs- und Budgetierungsprozesse"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 14),
        question: 'Welche Governance-Herausforderungen entstehen bei der grenz√ºberschreitenden Implementierung von DORA in internationalen Finanzgruppen?',
        answer: "Die grenz√ºberschreitende Implementierung von DORA in internationalen Finanzgruppen bringt komplexe Governance-Herausforderungen mit sich, die sowohl regulatorische Harmonisierung als auch operative Koordination erfordern. Erfolgreiche internationale DORA-Governance muss lokale Besonderheiten ber√ºcksichtigen, w√§hrend gleichzeitig konzernweite Konsistenz und Effizienz gew√§hrleistet wird.\n\nüåç Jurisdiktionale Komplexit√§t und Regulatorische Harmonisierung:\n‚Ä¢ Navigation unterschiedlicher nationaler Implementierungen von DORA in verschiedenen EU-Mitgliedstaaten\n‚Ä¢ Koordination mit lokalen IKT-Regulierungen und Aufsichtspraktiken in verschiedenen Jurisdiktionen\n‚Ä¢ Management von Konflikten zwischen DORA-Anforderungen und lokalen regulatorischen Bestimmungen\n‚Ä¢ Ber√ºcksichtigung von Drittland-Regulierungen f√ºr Tochtergesellschaften au√üerhalb der EU\n‚Ä¢ Entwicklung einheitlicher Interpretationen und Anwendungen von DORA-Anforderungen √ºber verschiedene M√§rkte hinweg\n\nüè¢ Konzernweite Governance-Koordination:\n‚Ä¢ Etablierung einheitlicher Governance-Standards und -Prinzipien √ºber verschiedene Rechtsordnungen hinweg\n‚Ä¢ Koordination zwischen Konzernzentrale und lokalen Entit√§ten bei Governance-Entscheidungen und -Implementierung\n‚Ä¢ Management von Spannungen zwischen zentraler Kontrolle und lokaler Autonomie\n‚Ä¢ Sicherstellung konsistenter Governance-Qualit√§t und -Standards in verschiedenen M√§rkten\n‚Ä¢ Entwicklung effektiver Kommunikations- und Koordinationsmechanismen f√ºr internationale Teams\n\nüìä Berichtswesen und Aufsichtskommunikation:\n‚Ä¢ Koordination von Berichtspflichten gegen√ºber verschiedenen nationalen Aufsichtsbeh√∂rden\n‚Ä¢ Management unterschiedlicher Reporting-Standards und -Anforderungen in verschiedenen Jurisdiktionen\n‚Ä¢ Sicherstellung konsistenter Datendefinitionen und -qualit√§t f√ºr grenz√ºberschreitende Berichterstattung\n‚Ä¢ Koordination von Aufsichtspr√ºfungen und -engagements in verschiedenen M√§rkten\n‚Ä¢ Entwicklung einheitlicher Kommunikationsstrategien f√ºr verschiedene Aufsichtsbeh√∂rden\n\nüîí Datenschutz und Datenlokalisierung:\n‚Ä¢ Navigation komplexer Datenschutz- und Datenlokalisierungsanforderungen in verschiedenen Jurisdiktionen\n‚Ä¢ Koordination zwischen DORA-Anforderungen und lokalen Datenschutzbestimmungen\n‚Ä¢ Management von Cross-Border-Datenfl√ºssen f√ºr konzernweite IKT-Systeme und -Services\n‚Ä¢ Sicherstellung angemessener Datensicherheit und -schutz √ºber verschiedene Rechtsordnungen hinweg\n‚Ä¢ Entwicklung einheitlicher Datengovernance-Standards f√ºr internationale Operationen\n\n‚öñÔ∏è Rechtliche und Compliance-Koordination:\n‚Ä¢ Management unterschiedlicher rechtlicher Frameworks und Compliance-Anforderungen\n‚Ä¢ Koordination zwischen verschiedenen lokalen Legal- und Compliance-Teams\n‚Ä¢ Sicherstellung konsistenter Vertragsstandards und -praktiken f√ºr internationale Drittanbieter-Arrangements\n‚Ä¢ Management von Haftungs- und Verantwortlichkeitsfragen in grenz√ºberschreitenden Strukturen\n‚Ä¢ Entwicklung einheitlicher Compliance-Monitoring und -Enforcement-Mechanismen\n\nüéØ Kulturelle und Organisatorische Herausforderungen:\n‚Ä¢ Management kultureller Unterschiede und lokaler Gesch√§ftspraktiken\n‚Ä¢ Koordination verschiedener Organisationskulturen und -strukturen\n‚Ä¢ Sicherstellung einheitlicher Governance-Standards trotz lokaler Besonderheiten\n‚Ä¢ Entwicklung effektiver Change-Management-Strategien f√ºr verschiedene M√§rkte\n‚Ä¢ Aufbau lokaler Expertise und Capabilities f√ºr DORA-Governance"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 15),
        question: 'Wie entwickle ich eine effektive Governance f√ºr die digitale Transformation unter Ber√ºcksichtigung von DORA-Anforderungen?',
        answer: "Die Entwicklung einer effektiven Governance f√ºr die digitale Transformation unter Ber√ºcksichtigung von DORA-Anforderungen erfordert eine strategische Integration von Innovation und Risikomanagement. Erfolgreiche Digital-Transformation-Governance erm√∂glicht es Organisationen, technologische Chancen zu nutzen, w√§hrend gleichzeitig robuste digitale operationelle Resilienz gew√§hrleistet wird.\n\nüöÄ Innovation-Risk-Balance und Strategic Alignment:\n‚Ä¢ Entwicklung einer ausgewogenen Governance-Philosophie, die Innovation f√∂rdert und gleichzeitig DORA-Compliance gew√§hrleistet\n‚Ä¢ Integration von Digital-Transformation-Zielen in IKT-Risikomanagement-Strategien und -Frameworks\n‚Ä¢ Etablierung von Innovation-Governance-Strukturen, die DORA-Anforderungen von Beginn an ber√ºcksichtigen\n‚Ä¢ Entwicklung von Risk-Appetite-Statements, die sowohl Transformations-Ambitionen als auch Resilienz-Anforderungen reflektieren\n‚Ä¢ Sicherstellung strategischer Alignment zwischen Gesch√§ftszielen, Technologie-Roadmaps und regulatorischen Anforderungen\n\nüî¨ Agile Governance und Regulatory Sandboxes:\n‚Ä¢ Implementation agiler Governance-Ans√§tze, die schnelle Iteration und Anpassung erm√∂glichen\n‚Ä¢ Entwicklung von Regulatory-Sandbox-Konzepten f√ºr die sichere Erprobung neuer Technologien\n‚Ä¢ Etablierung von Governance-Gates und Checkpoints f√ºr verschiedene Phasen der digitalen Transformation\n‚Ä¢ Integration von Continuous-Compliance-Prinzipien in agile Entwicklungs- und Deployment-Prozesse\n‚Ä¢ Sicherstellung angemessener Governance-Oversight ohne Behinderung von Innovation und Agilit√§t\n\nüèóÔ∏è Technology Governance und Architecture Oversight:\n‚Ä¢ Entwicklung von Technology-Governance-Frameworks, die DORA-Anforderungen in Architektur-Entscheidungen integrieren\n‚Ä¢ Etablierung von Architecture-Review-Boards mit Expertise in sowohl Innovation als auch Compliance\n‚Ä¢ Integration von Security-by-Design und Privacy-by-Design-Prinzipien in Transformations-Projekte\n‚Ä¢ Sicherstellung angemessener Governance f√ºr Cloud-Adoption, API-Management und Microservices-Architekturen\n‚Ä¢ Entwicklung von Standards und Guidelines f√ºr die sichere Implementierung neuer Technologien\n\nüìä Data Governance und Analytics-Oversight:\n‚Ä¢ Etablierung robuster Data-Governance-Frameworks, die sowohl Innovation als auch Compliance unterst√ºtzen\n‚Ä¢ Integration von Data-Quality und Data-Lineage-Management in Transformations-Initiativen\n‚Ä¢ Entwicklung von Governance-Mechanismen f√ºr Advanced-Analytics, AI und Machine-Learning-Anwendungen\n‚Ä¢ Sicherstellung angemessener Oversight f√ºr Data-Sharing und -Monetization-Strategien\n‚Ä¢ Implementation von Data-Ethics und Algorithmic-Governance-Frameworks\n\nüîÑ Change Management und Transformation Governance:\n‚Ä¢ Entwicklung umfassender Change-Management-Strategien, die sowohl technologische als auch Governance-Aspekte ber√ºcksichtigen\n‚Ä¢ Etablierung von Transformation-Governance-Strukturen mit klaren Rollen und Verantwortlichkeiten\n‚Ä¢ Integration von Stakeholder-Engagement und Communication-Strategien in Transformations-Governance\n‚Ä¢ Sicherstellung angemessener Training und Capability-Building f√ºr neue Governance-Anforderungen\n‚Ä¢ Entwicklung von Success-Metriken, die sowohl Transformations-Ziele als auch Compliance-Outcomes messen\n\nüéØ Vendor und Partnership Governance:\n‚Ä¢ Entwicklung spezialisierter Governance-Ans√§tze f√ºr FinTech-Partnerschaften und Technologie-Allianzen\n‚Ä¢ Integration von DORA-Anforderungen in Vendor-Selection und -Management-Prozesse f√ºr Transformations-Projekte\n‚Ä¢ Etablierung von Innovation-Partnership-Governance mit angemessenen Risk-Management-Mechanismen\n‚Ä¢ Sicherstellung angemessener Due-Diligence und Oversight f√ºr neue Technologie-Partner\n‚Ä¢ Entwicklung von Exit-Strategien und Contingency-Pl√§nen f√ºr kritische Transformations-Partnerships"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 16),
        question: 'Welche Governance-Mechanismen ben√∂tige ich f√ºr die √úberwachung und Steuerung von IKT-Investitionen unter DORA?',
        answer: "Die √úberwachung und Steuerung von IKT-Investitionen unter DORA erfordert spezialisierte Governance-Mechanismen, die sowohl finanzielle Verantwortung als auch regulatorische Compliance gew√§hrleisten. Effektive IKT-Investment-Governance stellt sicher, dass Technologie-Investitionen strategisch aligned, risikoad√§quat und DORA-konform sind.\n\nüí∞ Investment-Governance-Framework und Portfolio-Management:\n‚Ä¢ Entwicklung eines umfassenden IKT-Investment-Governance-Frameworks mit klaren Entscheidungskriterien und Approval-Prozessen\n‚Ä¢ Etablierung von IKT-Investment-Committees mit angemessener Repr√§sentation von Business, IT, Risk und Compliance\n‚Ä¢ Implementation von Portfolio-Management-Ans√§tzen f√ºr IKT-Investitionen mit Fokus auf strategische Alignment und Risiko-Return-Optimierung\n‚Ä¢ Integration von DORA-Compliance-Kosten und -Benefits in Investment-Bewertungen und -Entscheidungen\n‚Ä¢ Sicherstellung angemessener Governance f√ºr verschiedene Investment-Kategorien wie Infrastructure, Applications, Security und Compliance\n\nüìä Business Case und ROI-Governance:\n‚Ä¢ Entwicklung standardisierter Business-Case-Templates, die DORA-spezifische Anforderungen und Benefits ber√ºcksichtigen\n‚Ä¢ Integration von Compliance-Kosten, Risiko-Mitigation-Benefits und regulatorischen Anforderungen in ROI-Kalkulationen\n‚Ä¢ Etablierung von Investment-Approval-Kriterien, die sowohl finanzielle als auch Compliance-Metriken umfassen\n‚Ä¢ Sicherstellung angemessener Ber√ºcksichtigung von Total-Cost-of-Ownership und Lifecycle-Kosten\n‚Ä¢ Entwicklung von Value-Realization-Tracking und Post-Implementation-Reviews f√ºr IKT-Investitionen\n\nüéØ Strategic Alignment und Priority-Setting:\n‚Ä¢ Integration von IKT-Investment-Planung in strategische Gesch√§fts- und Technologie-Roadmaps\n‚Ä¢ Entwicklung von Prioritization-Frameworks, die Business-Value, Risiko-Mitigation und Compliance-Anforderungen balancieren\n‚Ä¢ Sicherstellung angemessener Alignment zwischen IKT-Investitionen und DORA-Compliance-Zielen\n‚Ä¢ Etablierung von Investment-Governance f√ºr sowohl strategische Transformations-Projekte als auch operative Maintenance-Aktivit√§ten\n‚Ä¢ Integration von Emerging-Technology-Investments in langfristige Resilienz-Strategien\n\nüîç Due Diligence und Vendor-Investment-Governance:\n‚Ä¢ Entwicklung spezialisierter Due-Diligence-Prozesse f√ºr IKT-Vendor-Investments mit DORA-spezifischen Bewertungskriterien\n‚Ä¢ Integration von Vendor-Financial-Health und -Stability-Assessments in Investment-Entscheidungen\n‚Ä¢ Sicherstellung angemessener Governance f√ºr Cloud-Investments und As-a-Service-Arrangements\n‚Ä¢ Etablierung von Vendor-Lock-in-Risiko-Bewertungen und Exit-Strategy-Planungen\n‚Ä¢ Implementation von Ongoing-Vendor-Performance-Monitoring und Investment-Optimization\n\nüìà Performance Monitoring und Investment Optimization:\n‚Ä¢ Entwicklung von IKT-Investment-KPIs, die sowohl finanzielle Performance als auch Compliance-Outcomes messen\n‚Ä¢ Etablierung regelm√§√üiger Investment-Portfolio-Reviews mit Fokus auf Performance, Risiko und Compliance\n‚Ä¢ Implementation von Investment-Rebalancing und -Optimization-Prozessen basierend auf sich √§ndernden Anforderungen\n‚Ä¢ Sicherstellung angemessener Governance f√ºr Investment-Lifecycle-Management und Asset-Retirement\n‚Ä¢ Integration von Investment-Performance-Daten in strategische Planungs- und Budgetierungsprozesse\n\n‚öñÔ∏è Risk-Adjusted Investment Governance:\n‚Ä¢ Integration von IKT-Risiko-Assessments in Investment-Bewertungen und -Entscheidungen\n‚Ä¢ Entwicklung von Risk-Adjusted-Return-Metriken f√ºr IKT-Investitionen\n‚Ä¢ Sicherstellung angemessener Ber√ºcksichtigung von Operational-Risk, Cyber-Risk und Compliance-Risk\n‚Ä¢ Etablierung von Investment-Risk-Limits und -Toleranzen aligned mit Gesamt-Risiko-Appetit\n‚Ä¢ Implementation von Stress-Testing und Scenario-Analysis f√ºr IKT-Investment-Portfolios"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 4 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
