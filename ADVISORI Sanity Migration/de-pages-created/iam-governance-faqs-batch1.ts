import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating IAM Governance page with FAQ batch 1...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'iam-governance' })
    
    if (!existingDoc) {
      throw new Error('Document "iam-governance" not found')
    }
    
    // Create new FAQs for IAM Governance fundamentals
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 1),
        question: 'Was macht IAM Governance zu einem strategischen Erfolgsfaktor f√ºr moderne Unternehmen und wie unterscheidet es sich von traditionellen Compliance-Ans√§tzen?',
        answer: "IAM Governance ist das strategische Nervensystem moderner Organisationen und transformiert Identit√§ts- und Zugriffsverwaltung von einem reaktiven Compliance-Instrument zu einem proaktiven Business-Enabler. Anders als traditionelle Ans√§tze, die sich auf punktuelle Kontrollen konzentrieren, etabliert moderne IAM-Governance ein ganzheitliches √ñkosystem aus strategischen Frameworks, organisatorischen Strukturen und intelligenten Automatisierungsmechanismen, das Sicherheit, Effizienz und Innovation harmonisch vereint.\n\nüéØ Strategische Transformation und Business-Impact:\n‚Ä¢ Enterprise-weite Governance-Frameworks mit direkter Ausrichtung auf Gesch√§ftsziele und strategische Initiativen\n‚Ä¢ Risk-based Decision Making durch kontinuierliche Bewertung und adaptive Kontrollen statt statischer Regelwerke\n‚Ä¢ Business-Process-Integration f√ºr nahtlose Workflows und optimierte Produktivit√§t ohne Sicherheitskompromisse\n‚Ä¢ Innovation-Enablement durch agile Governance-Strukturen, die digitale Transformation beschleunigen\n‚Ä¢ Stakeholder-Alignment mit klaren Verantwortlichkeiten und messbaren Erfolgsmetriken\n\nüèóÔ∏è Organizational Excellence und Strukturelle Transformation:\n‚Ä¢ Governance-Committee-Strukturen mit definierten Rollen, Verantwortlichkeiten und Entscheidungsprozessen\n‚Ä¢ Cross-functional Collaboration zwischen IT, Security, Compliance, HR und Business-Units\n‚Ä¢ Competency-Development-Programme f√ºr nachhaltige Governance-Expertise im gesamten Unternehmen\n‚Ä¢ Change-Management-Integration f√ºr kulturelle Transformation und Adoption-Excellence\n‚Ä¢ Performance-Management mit KPI-Frameworks und kontinuierlicher Optimierung\n\nü§ñ Intelligent Automation und Technology-Integration:\n‚Ä¢ Policy-as-Code-Implementation f√ºr automatisierte Durchsetzung und konsistente Anwendung\n‚Ä¢ AI-powered Risk Assessment f√ºr pr√§diktive Governance-Entscheidungen und proaktive Ma√ünahmen\n‚Ä¢ Workflow-Automation f√ºr effiziente Approval-Prozesse und Exception-Management\n‚Ä¢ Real-time Monitoring mit kontinuierlicher √úberwachung und sofortiger Anomaly-Detection\n‚Ä¢ Analytics-driven Insights f√ºr datengetriebene Governance-Optimierung\n\nüìä Compliance-Excellence und Regulatory-Alignment:\n‚Ä¢ Regulatory-Mapping mit automatischer Anpassung an sich √§ndernde Compliance-Anforderungen\n‚Ä¢ Audit-Readiness durch kontinuierliche Evidence-Collection und Documentation\n‚Ä¢ Exception-Management mit strukturierten Approval-Workflows und Risk-Assessment\n‚Ä¢ Continuous-Compliance-Monitoring statt periodischer √úberpr√ºfungen\n‚Ä¢ Proactive-Regulatory-Updates f√ºr vorausschauende Compliance-Vorbereitung\n\nüåê Enterprise-Scale Integration und Future-Readiness:\n‚Ä¢ Multi-Cloud-Governance f√ºr konsistente Kontrollen √ºber alle Cloud-Umgebungen\n‚Ä¢ Hybrid-Integration f√ºr nahtlose Verbindung von Legacy-Systemen und modernen Plattformen\n‚Ä¢ Ecosystem-Governance f√ºr Partner, Lieferanten und externe Stakeholder\n‚Ä¢ Scalability-by-Design f√ºr organisches Wachstum und globale Expansion\n‚Ä¢ Innovation-Integration f√ºr kontinuierliche Technologie-Evolution und Best-Practice-Adoption"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 2),
        question: 'Welche kritischen Komponenten und organisatorischen Strukturen bilden ein enterprise-grade IAM-Governance-Framework und wie arbeiten sie zusammen f√ºr maximale Effektivit√§t?',
        answer: "Ein enterprise-grade IAM-Governance-Framework ist ein hochkomplexes √ñkosystem strategischer Komponenten, organisatorischer Strukturen und intelligenter Prozesse, die nahtlos zusammenarbeiten, um eine robuste, skalierbare und adaptive Identit√§tsverwaltung zu erm√∂glichen. Diese Architektur muss sowohl strategische Gesch√§ftsziele als auch operative Exzellenz unterst√ºtzen, w√§hrend sie gleichzeitig h√∂chste Sicherheitsstandards und regulatorische Compliance gew√§hrleistet.\n\nüèõÔ∏è Strategic Governance Architecture und Framework-Foundation:\n‚Ä¢ Governance-Charter mit klarer Vision, Mission und strategischen Zielsetzungen f√ºr die IAM-Organisation\n‚Ä¢ Policy-Framework mit hierarchischen Richtlinienstrukturen von High-Level-Prinzipien bis zu detaillierten Implementierungsrichtlinien\n‚Ä¢ Risk-Management-Framework mit quantitativen Bewertungsmethoden und adaptiven Kontrollmechanismen\n‚Ä¢ Compliance-Framework mit automatisierter Regulatory-Mapping und kontinuierlicher √úberwachung\n‚Ä¢ Performance-Framework mit messbaren KPIs und kontinuierlichen Verbesserungszyklen\n\nüë• Organizational Structure und Role-based Governance:\n‚Ä¢ IAM-Steering-Committee mit C-Level-Sponsorship und strategischer Entscheidungsbefugnis\n‚Ä¢ Identity-Governance-Office als zentrale Koordinationsstelle f√ºr alle IAM-Governance-Aktivit√§ten\n‚Ä¢ Business-Identity-Owners mit Verantwortung f√ºr fachspezifische Identit√§ts- und Zugriffsanforderungen\n‚Ä¢ Technical-Identity-Administrators f√ºr operative Implementierung und System-Management\n‚Ä¢ Compliance-Officers mit Expertise in regulatorischen Anforderungen und Audit-Vorbereitung\n\n‚öôÔ∏è Process Excellence und Workflow-Orchestration:\n‚Ä¢ Identity-Lifecycle-Management mit automatisierten Workflows von Onboarding bis Offboarding\n‚Ä¢ Access-Request-Management mit intelligenten Approval-Workflows und Risk-based-Decisions\n‚Ä¢ Recertification-Processes mit regelm√§√üiger √úberpr√ºfung und Optimierung von Zugriffsrechten\n‚Ä¢ Exception-Management mit strukturierten Prozessen f√ºr Sonderf√§lle und Notfallzugriffe\n‚Ä¢ Incident-Response-Procedures f√ºr schnelle Reaktion auf Sicherheitsvorf√§lle und Anomalien\n\nüîç Risk Intelligence und Continuous Monitoring:\n‚Ä¢ Risk-Assessment-Engine mit kontinuierlicher Bewertung von Identit√§ts- und Zugriffsrisiken\n‚Ä¢ Threat-Intelligence-Integration f√ºr proaktive Abwehr bekannter Angriffsmuster\n‚Ä¢ Behavioral-Analytics f√ºr Erkennung anomaler Benutzeraktivit√§ten und Insider-Threats\n‚Ä¢ Compliance-Monitoring mit Real-time-√úberwachung regulatorischer Anforderungen\n‚Ä¢ Performance-Analytics f√ºr kontinuierliche Optimierung der Governance-Effektivit√§t\n\nüìã Policy Management und Enforcement-Automation:\n‚Ä¢ Policy-Development-Lifecycle mit strukturierten Prozessen f√ºr Erstellung, Review und Approval\n‚Ä¢ Automated-Policy-Enforcement mit Real-time-Durchsetzung und Violation-Detection\n‚Ä¢ Policy-Exception-Management mit kontrollierten Abweichungen und Kompensationsma√ünahmen\n‚Ä¢ Policy-Analytics f√ºr Bewertung der Richtlinien-Effektivit√§t und Optimierungspotentiale\n‚Ä¢ Regulatory-Alignment mit automatischer Anpassung an sich √§ndernde Compliance-Anforderungen\n\nüåê Technology Integration und Platform-Orchestration:\n‚Ä¢ Governance-Platform mit zentralisierter Verwaltung aller Governance-Aktivit√§ten\n‚Ä¢ Integration-Layer f√ºr nahtlose Anbindung aller IAM-Systeme und Business-Anwendungen\n‚Ä¢ Analytics-Engine f√ºr datengetriebene Insights und pr√§diktive Governance-Entscheidungen\n‚Ä¢ Automation-Framework f√ºr intelligente Workflow-Orchestrierung und Process-Optimization\n‚Ä¢ Reporting-Infrastructure f√ºr umfassende Transparenz und Stakeholder-Communication"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 3),
        question: 'Wie entwickelt man eine effektive IAM-Governance-Strategie und welche kritischen Erfolgsfaktoren bestimmen die nachhaltige Transformation einer Organisation?',
        answer: "Die Entwicklung einer effektiven IAM-Governance-Strategie erfordert einen ganzheitlichen, business-orientierten Ansatz, der strategische Vision mit operativer Exzellenz verbindet und dabei organisatorische Transformation mit technologischer Innovation harmonisch vereint. Diese Strategie muss sowohl kurzfristige Quick-Wins als auch langfristige strategische Ziele adressieren, w√§hrend sie gleichzeitig Flexibilit√§t f√ºr kontinuierliche Anpassung und Evolution gew√§hrleistet.\n\nüéØ Strategic Vision Development und Business-Alignment:\n‚Ä¢ Business-Case-Development mit quantifizierbaren ROI-Metriken und strategischen Wertbeitr√§gen\n‚Ä¢ Stakeholder-Engagement mit umfassender Einbindung aller relevanten Gesch√§ftsbereiche\n‚Ä¢ Vision-Articulation mit klarer Kommunikation der Governance-Ziele und erwarteten Outcomes\n‚Ä¢ Success-Metrics-Definition mit messbaren KPIs f√ºr kontinuierliche Erfolgsbewertung\n‚Ä¢ Roadmap-Development mit priorisierten Initiativen und realistischen Zeitpl√§nen\n\nüìä Current-State Assessment und Maturity-Evaluation:\n‚Ä¢ Comprehensive-Governance-Assessment mit detaillierter Analyse bestehender Strukturen und Prozesse\n‚Ä¢ Gap-Analysis mit Identifikation von Schwachstellen und Verbesserungspotenzialen\n‚Ä¢ Risk-Assessment mit Bewertung aktueller Sicherheits- und Compliance-Risiken\n‚Ä¢ Technology-Evaluation mit Analyse der bestehenden IAM-Infrastruktur und Integration-M√∂glichkeiten\n‚Ä¢ Organizational-Readiness-Assessment mit Bewertung der Change-Management-Kapazit√§ten\n\nüèóÔ∏è Framework Design und Architecture-Development:\n‚Ä¢ Governance-Model-Selection mit Auswahl des optimalen Governance-Ansatzes f√ºr die Organisation\n‚Ä¢ Policy-Framework-Design mit hierarchischen Richtlinienstrukturen und Enforcement-Mechanismen\n‚Ä¢ Organizational-Structure-Design mit klaren Rollen, Verantwortlichkeiten und Entscheidungsprozessen\n‚Ä¢ Process-Architecture-Development mit effizienten Workflows und Automation-M√∂glichkeiten\n‚Ä¢ Technology-Architecture-Planning mit Integration-Strategien und Platform-Selection\n\nüöÄ Implementation Strategy und Execution-Excellence:\n‚Ä¢ Phased-Implementation-Approach mit risikominimierten Rollout-Strategien\n‚Ä¢ Quick-Wins-Identification f√ºr fr√ºhe Erfolge und Stakeholder-Buy-in\n‚Ä¢ Change-Management-Strategy mit umfassender Kommunikation und Training-Programmen\n‚Ä¢ Risk-Mitigation-Planning mit proaktiven Ma√ünahmen f√ºr potenzielle Herausforderungen\n‚Ä¢ Success-Measurement-Framework mit kontinuierlicher √úberwachung und Anpassung\n\nüîÑ Continuous Improvement und Evolution-Management:\n‚Ä¢ Maturity-Assessment-Cycles mit regelm√§√üiger Bewertung der Governance-Reife\n‚Ä¢ Performance-Optimization mit datengetriebenen Verbesserungsma√ünahmen\n‚Ä¢ Innovation-Integration mit kontinuierlicher Adoption neuer Technologien und Best-Practices\n‚Ä¢ Regulatory-Adaptation mit proaktiver Anpassung an sich √§ndernde Compliance-Anforderungen\n‚Ä¢ Stakeholder-Feedback-Integration mit kontinuierlicher Verbesserung basierend auf Nutzererfahrungen\n\nüåü Critical Success Factors und Sustainability-Elements:\n‚Ä¢ Executive-Sponsorship mit starker Unterst√ºtzung durch die Unternehmensf√ºhrung\n‚Ä¢ Cross-functional-Collaboration mit effektiver Zusammenarbeit zwischen allen Bereichen\n‚Ä¢ Cultural-Transformation mit nachhaltiger Ver√§nderung der Organisationskultur\n‚Ä¢ Competency-Development mit kontinuierlicher Weiterbildung und Skill-Building\n‚Ä¢ Technology-Excellence mit Investition in moderne, skalierbare IAM-Plattformen"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 4),
        question: 'Welche Rolle spielen Risk Intelligence und Continuous Monitoring in einer modernen IAM-Governance-Architektur und wie erm√∂glichen sie proaktive Sicherheitsentscheidungen?',
        answer: "Risk Intelligence und Continuous Monitoring bilden das intelligente Nervensystem moderner IAM-Governance-Architekturen und transformieren traditionelle reaktive Sicherheitsans√§tze in proaktive, adaptive Systeme, die Bedrohungen antizipieren, Risiken quantifizieren und automatisierte Schutzma√ünahmen orchestrieren. Diese fortschrittlichen Capabilities erm√∂glichen es Organisationen, von statischen Compliance-Modellen zu dynamischen, risikobasierten Governance-Frameworks zu evolvieren.\n\nüß† Intelligent Risk Assessment und Predictive Analytics:\n‚Ä¢ Multi-dimensional Risk Modeling mit Ber√ºcksichtigung von Benutzer, Kontext, Anwendung und Umgebung\n‚Ä¢ Machine Learning-powered Risk Scoring mit kontinuierlicher Verfeinerung basierend auf historischen Daten\n‚Ä¢ Behavioral Analytics f√ºr Erkennung subtiler Anomalien und Abweichungen von normalen Aktivit√§tsmustern\n‚Ä¢ Threat Intelligence Integration mit Real-time-Updates zu aktuellen Bedrohungslandschaften\n‚Ä¢ Predictive Risk Modeling f√ºr Vorhersage potenzieller Sicherheitsvorf√§lle und proaktive Ma√ünahmen\n\nüìä Real-time Monitoring und Event-Correlation:\n‚Ä¢ Continuous Activity Monitoring mit umfassender √úberwachung aller Identit√§ts- und Zugriffsaktivit√§ten\n‚Ä¢ Event-Correlation-Engine f√ºr intelligente Verkn√ºpfung scheinbar unabh√§ngiger Sicherheitsereignisse\n‚Ä¢ Anomaly Detection mit KI-gest√ºtzter Erkennung ungew√∂hnlicher Muster und Verhaltensweisen\n‚Ä¢ Real-time Alerting mit sofortiger Benachrichtigung bei kritischen Sicherheitsereignissen\n‚Ä¢ Contextual Analysis mit Ber√ºcksichtigung von Gesch√§ftskontext und Benutzerverhalten\n\n‚ö° Adaptive Controls und Dynamic Response:\n‚Ä¢ Risk-based Access Controls mit dynamischer Anpassung von Sicherheitsanforderungen\n‚Ä¢ Automated Response Mechanisms f√ºr sofortige Reaktion auf erkannte Bedrohungen\n‚Ä¢ Adaptive Authentication mit intelligenter Anpassung der Authentifizierungsanforderungen\n‚Ä¢ Dynamic Policy Enforcement mit kontextbasierter Anwendung von Sicherheitsrichtlinien\n‚Ä¢ Escalation Procedures mit strukturierten Prozessen f√ºr kritische Sicherheitsvorf√§lle\n\nüîç Advanced Analytics und Intelligence-Generation:\n‚Ä¢ Identity Analytics f√ºr tiefgreifende Einblicke in Benutzerverhalten und Zugriffsmuster\n‚Ä¢ Risk Trend Analysis mit Identifikation langfristiger Risikoentwichlungen und Trends\n‚Ä¢ Compliance Analytics f√ºr kontinuierliche √úberwachung regulatorischer Anforderungen\n‚Ä¢ Performance Analytics f√ºr Bewertung der Governance-Effektivit√§t und Optimierungspotentiale\n‚Ä¢ Business Intelligence Integration f√ºr strategische Entscheidungsunterst√ºtzung\n\nüõ°Ô∏è Proactive Threat Mitigation und Prevention:\n‚Ä¢ Early Warning Systems mit Vorhersage potenzieller Sicherheitsbedrohungen\n‚Ä¢ Preventive Controls mit proaktiven Ma√ünahmen zur Risikominimierung\n‚Ä¢ Threat Hunting Capabilities f√ºr aktive Suche nach versteckten Bedrohungen\n‚Ä¢ Vulnerability Assessment mit kontinuierlicher Bewertung von Sicherheitsl√ºcken\n‚Ä¢ Attack Pattern Recognition mit Erkennung bekannter Angriffsmuster und Taktiken\n\nüåê Enterprise-wide Risk Orchestration:\n‚Ä¢ Centralized Risk Dashboard mit umfassender Sichtbarkeit auf alle Risikofaktoren\n‚Ä¢ Cross-system Risk Correlation mit Verkn√ºpfung von Risikoinformationen aus verschiedenen Quellen\n‚Ä¢ Risk Communication Framework mit strukturierter Kommunikation an relevante Stakeholder\n‚Ä¢ Risk Governance Integration mit Einbindung in √ºbergeordnete Risikomanagement-Prozesse\n‚Ä¢ Continuous Risk Optimization mit datengetriebener Verbesserung der Risikomanagement-Strategien"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 1 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
