import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating DORA Governance page with FAQ batch 3...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'dora-governance' })
    
    if (!existingDoc) {
      throw new Error('Document "dora-governance" not found')
    }
    
    // Create new FAQs for DORA governance risk oversight
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 9),
        question: 'Wie entwickle ich eine effektive Risiko-Governance f√ºr IKT-Risiken unter DORA?',
        answer: "Die Entwicklung einer effektiven Risiko-Governance f√ºr IKT-Risiken unter DORA erfordert eine systematische Integration von IKT-spezifischen Risikomanagement-Prinzipien in bestehende Enterprise-Risk-Management-Frameworks. Erfolgreiche IKT-Risiko-Governance kombiniert strategische Oversight mit operativer Effektivit√§t und gew√§hrleistet angemessene Behandlung der einzigartigen Charakteristika digitaler Risiken.\n\nüéØ IKT-Risiko-Taxonomie und Klassifizierung:\n‚Ä¢ Entwicklung einer umfassenden IKT-Risiko-Taxonomie, die verschiedene Risikokategorien wie Cyber-Risiken, operationelle IKT-Risiken, Drittanbieter-Risiken und technologische Obsoleszenz-Risiken umfasst\n‚Ä¢ Etablierung klarer Risiko-Definitionen und -Abgrenzungen zur Vermeidung von √úberschneidungen und L√ºcken\n‚Ä¢ Integration von emerging Risks wie KI-Risiken, Quantum-Computing-Bedrohungen und IoT-Sicherheitsrisiken\n‚Ä¢ Ber√ºcksichtigung von Interdependenzen zwischen verschiedenen IKT-Risikokategorien und deren Auswirkungen auf das Gesamtrisikoprofil\n‚Ä¢ Regelm√§√üige √úberpr√ºfung und Aktualisierung der Risiko-Taxonomie basierend auf sich entwickelnden Bedrohungslandschaften\n\nüìä Risiko-Appetit und Toleranz-Framework:\n‚Ä¢ Definition spezifischer Risiko-Appetit-Statements f√ºr verschiedene IKT-Risikokategorien, die mit der Gesamtgesch√§ftsstrategie und regulatorischen Anforderungen aligned sind\n‚Ä¢ Entwicklung quantitativer und qualitativer Risiko-Toleranz-Schwellenwerte f√ºr kritische IKT-Services und -Systeme\n‚Ä¢ Etablierung von Risiko-Limits und Trigger-Points f√ºr verschiedene Risiko-Szenarien und Gesch√§ftskontexte\n‚Ä¢ Integration von Stakeholder-Erwartungen und regulatorischen Anforderungen in Risiko-Appetit-Definitionen\n‚Ä¢ Sicherstellung regelm√§√üiger Reviews und Anpassungen des Risiko-Appetits basierend auf sich √§ndernden Gesch√§fts- und Regulierungsanforderungen\n\nüîç Risiko-Assessment und -Bewertung-Governance:\n‚Ä¢ Implementierung standardisierter Risiko-Assessment-Methoden, die sowohl quantitative als auch qualitative Bewertungsans√§tze kombinieren\n‚Ä¢ Etablierung regelm√§√üiger Risiko-Assessment-Zyklen mit klaren Verantwortlichkeiten und Qualit√§tssicherungsmechanismen\n‚Ä¢ Entwicklung von Scenario-Planning und Stress-Testing-Capabilities f√ºr IKT-Risiken\n‚Ä¢ Integration von Threat-Intelligence und Vulnerability-Management in Risiko-Assessment-Prozesse\n‚Ä¢ Sicherstellung angemessener Dokumentation und Nachvollziehbarkeit von Risiko-Bewertungen f√ºr Audit- und Regulierungszwecke\n\n‚öñÔ∏è Risiko-Behandlung und Mitigation-Governance:\n‚Ä¢ Entwicklung strukturierter Entscheidungsprozesse f√ºr Risiko-Behandlungsoptionen wie Akzeptanz, Mitigation, Transfer oder Vermeidung\n‚Ä¢ Etablierung von Risiko-Mitigation-Pl√§nen mit klaren Verantwortlichkeiten, Zeitpl√§nen und Erfolgskriterien\n‚Ä¢ Implementation von Risiko-Monitoring und -Reporting-Mechanismen zur √úberwachung der Effektivit√§t von Mitigation-Ma√ünahmen\n‚Ä¢ Integration von Business-Impact-Analysen in Risiko-Behandlungsentscheidungen\n‚Ä¢ Sicherstellung angemessener Ressourcenallokation f√ºr Risiko-Mitigation-Aktivit√§ten\n\nüîÑ Kontinuierliches Risiko-Monitoring und -Reporting:\n‚Ä¢ Implementierung von Real-Time-Risiko-Monitoring-Capabilities f√ºr kritische IKT-Systeme und -Services\n‚Ä¢ Entwicklung von Risiko-Dashboards und -Reports f√ºr verschiedene Stakeholder-Gruppen\n‚Ä¢ Etablierung von Fr√ºhwarnsystemen und Eskalationsmechanismen f√ºr emerging Risks\n‚Ä¢ Integration von Risiko-Indikatoren in Business-Performance-Management-Systeme\n‚Ä¢ Sicherstellung regelm√§√üiger Risiko-Reviews und strategischer Diskussionen auf Board- und Senior-Management-Ebene"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 10),
        question: 'Welche Governance-Mechanismen ben√∂tige ich f√ºr effektives Incident-Management unter DORA?',
        answer: "Effektives Incident-Management unter DORA erfordert robuste Governance-Mechanismen, die sowohl operative Responsiveness als auch strategische Oversight gew√§hrleisten. Erfolgreiche Incident-Governance kombiniert klare Entscheidungsstrukturen mit flexiblen Response-Capabilities und stellt sicher, dass kritische IKT-Incidents angemessen eskaliert und behandelt werden.\n\nüö® Incident-Governance-Strukturen und Entscheidungshierarchien:\n‚Ä¢ Etablierung eines mehrstufigen Incident-Command-Systems mit klaren Rollen, Verantwortlichkeiten und Entscheidungsbefugnissen\n‚Ä¢ Definition von Incident-Severity-Leveln und entsprechenden Governance-Anforderungen f√ºr verschiedene Incident-Kategorien\n‚Ä¢ Schaffung spezialisierter Crisis-Management-Teams f√ºr kritische IKT-Incidents mit direkter Eskalation an Senior Management und Board\n‚Ä¢ Integration von Business-Continuity-Management in Incident-Governance-Strukturen\n‚Ä¢ Sicherstellung angemessener Repr√§sentation verschiedener Fachbereiche in Incident-Response-Teams\n\nüìã Incident-Classification und Prioritization-Governance:\n‚Ä¢ Entwicklung umfassender Incident-Klassifizierungs-Schemas, die sowohl technische als auch Business-Impact-Kriterien ber√ºcksichtigen\n‚Ä¢ Etablierung klarer Prioritization-Frameworks basierend auf Criticality, Impact und Urgency von IKT-Incidents\n‚Ä¢ Integration von regulatorischen Reporting-Anforderungen in Incident-Classification-Prozesse\n‚Ä¢ Ber√ºcksichtigung von Stakeholder-Impact und Reputationsrisiken in Incident-Prioritization\n‚Ä¢ Sicherstellung konsistenter Anwendung von Classification-Kriterien √ºber verschiedene Incident-Typen hinweg\n\nüîÑ Incident-Response-Prozess-Governance:\n‚Ä¢ Definition standardisierter Incident-Response-Workflows mit klaren Checkpoints und Governance-Gates\n‚Ä¢ Etablierung von Time-to-Response und Time-to-Resolution-Standards f√ºr verschiedene Incident-Kategorien\n‚Ä¢ Implementation von Incident-Escalation-Mechanismen mit automatisierten Triggern und manuellen Override-Capabilities\n‚Ä¢ Integration von Forensic-Capabilities und Evidence-Preservation-Anforderungen in Response-Prozesse\n‚Ä¢ Sicherstellung angemessener Dokumentation und Audit-Trails f√ºr alle Incident-Response-Aktivit√§ten\n\nüìû Kommunikations-Governance und Stakeholder-Management:\n‚Ä¢ Entwicklung umfassender Kommunikations-Pl√§ne f√ºr verschiedene Incident-Szenarien und Stakeholder-Gruppen\n‚Ä¢ Etablierung klarer Kommunikations-Hierarchien und Approval-Prozesse f√ºr externe Kommunikation\n‚Ä¢ Integration von regulatorischen Notification-Anforderungen in Kommunikations-Workflows\n‚Ä¢ Sicherstellung koordinierter Kommunikation zwischen internen Teams, Drittanbietern und externen Stakeholdern\n‚Ä¢ Implementation von Media-Relations und Public-Communications-Governance f√ºr reputationskritische Incidents\n\nüîç Post-Incident-Governance und Lessons Learned:\n‚Ä¢ Etablierung strukturierter Post-Incident-Review-Prozesse mit klaren Verantwortlichkeiten und Zeitpl√§nen\n‚Ä¢ Implementation von Root-Cause-Analysis-Methoden und Corrective-Action-Planning\n‚Ä¢ Integration von Lessons Learned in Risikomanagement-Frameworks und Pr√§ventionsma√ünahmen\n‚Ä¢ Sicherstellung angemessener Follow-up und Monitoring von Corrective Actions\n‚Ä¢ Entwicklung von Incident-Trend-Analysen und strategischen Insights f√ºr kontinuierliche Verbesserung"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 11),
        question: 'Wie gestalte ich Governance-Strukturen f√ºr Business Continuity und Disaster Recovery unter DORA?',
        answer: "Die Gestaltung von Governance-Strukturen f√ºr Business Continuity und Disaster Recovery unter DORA erfordert eine strategische Integration von Resilienz-Planung in die Gesamtunternehmensf√ºhrung. Effektive BCM-Governance gew√§hrleistet, dass Kontinuit√§ts- und Recovery-Capabilities nicht nur technisch robust sind, sondern auch strategisch aligned und operativ effektiv implementiert werden.\n\nüèõÔ∏è BCM-Governance-Framework und Organisationsstrukturen:\n‚Ä¢ Etablierung eines Senior-Level Business Continuity Committee mit direkter Board-Oversight und klaren Mandaten\n‚Ä¢ Integration von BCM-Verantwortlichkeiten in bestehende Risk-Committee-Strukturen und Governance-Hierarchien\n‚Ä¢ Schaffung spezialisierter BCM-Rollen und -Verantwortlichkeiten auf verschiedenen Organisationsebenen\n‚Ä¢ Entwicklung klarer Berichtslinien und Eskalationswege f√ºr Kontinuit√§ts- und Recovery-Themen\n‚Ä¢ Sicherstellung angemessener Ressourcenallokation und Budget-Governance f√ºr BCM-Aktivit√§ten\n\nüìä Business Impact Analysis und Criticality-Assessment-Governance:\n‚Ä¢ Implementation systematischer BIA-Prozesse mit standardisierten Methoden und Qualit√§tssicherungsmechanismen\n‚Ä¢ Etablierung klarer Kriterien f√ºr die Bewertung von Business-Criticality und Recovery-Priorit√§ten\n‚Ä¢ Integration von Stakeholder-Input und regulatorischen Anforderungen in BIA-Prozesse\n‚Ä¢ Entwicklung von Service-Dependency-Mapping und Impact-Propagation-Analysen\n‚Ä¢ Sicherstellung regelm√§√üiger Updates und Validierung von BIA-Ergebnissen\n\nüéØ Recovery-Strategie und -Ziele-Governance:\n‚Ä¢ Definition von Recovery Time Objectives und Recovery Point Objectives basierend auf Business-Impact-Analysen\n‚Ä¢ Etablierung von Recovery-Strategien f√ºr verschiedene Disruption-Szenarien und Service-Kategorien\n‚Ä¢ Integration von Kosten-Nutzen-Analysen in Recovery-Strategie-Entscheidungen\n‚Ä¢ Ber√ºcksichtigung von Drittanbieter-Dependencies und Supply-Chain-Risiken in Recovery-Planung\n‚Ä¢ Sicherstellung Alignment zwischen Recovery-Strategien und Gesamtgesch√§ftsstrategie\n\nüîß BCM-Plan-Entwicklung und -Management-Governance:\n‚Ä¢ Etablierung standardisierter Methoden f√ºr BCM-Plan-Entwicklung mit klaren Templates und Qualit√§tsstandards\n‚Ä¢ Implementation von Plan-Review und -Approval-Prozessen mit angemessenen Governance-Checkpoints\n‚Ä¢ Integration von Change-Management-Prozessen f√ºr BCM-Plan-Updates und -Modifikationen\n‚Ä¢ Sicherstellung konsistenter Plan-Strukturen und -Formate √ºber verschiedene Gesch√§ftsbereiche hinweg\n‚Ä¢ Entwicklung von Plan-Maintenance und -Lifecycle-Management-Prozessen\n\nüß™ Testing und Validation-Governance:\n‚Ä¢ Entwicklung umfassender Testing-Programme mit verschiedenen Test-Typen und -Frequenzen\n‚Ä¢ Etablierung von Test-Planning und -Execution-Governance mit klaren Rollen und Verantwortlichkeiten\n‚Ä¢ Integration von Test-Ergebnissen in kontinuierliche Verbesserungsprozesse\n‚Ä¢ Sicherstellung angemessener Dokumentation und Reporting von Test-Aktivit√§ten\n‚Ä¢ Implementation von Test-Failure-Management und Corrective-Action-Prozessen\n\nüîÑ Crisis-Management und Activation-Governance:\n‚Ä¢ Etablierung von Crisis-Management-Strukturen mit klaren Activation-Kriterien und -Prozessen\n‚Ä¢ Definition von Crisis-Leadership-Rollen und -Verantwortlichkeiten mit angemessenen Entscheidungsbefugnissen\n‚Ä¢ Integration von Kommunikations-Governance und Stakeholder-Management in Crisis-Response\n‚Ä¢ Sicherstellung koordinierter Response zwischen verschiedenen Recovery-Teams und -Funktionen\n‚Ä¢ Implementation von Crisis-Decision-Making-Frameworks und -Dokumentation"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 12),
        question: 'Wie etabliere ich effektive Governance f√ºr IKT-Risiko-Kultur und Awareness in meiner Organisation?',
        answer: "Die Etablierung effektiver Governance f√ºr IKT-Risiko-Kultur und Awareness erfordert einen strategischen Ansatz, der sowohl Top-Down-Leadership als auch Bottom-Up-Engagement kombiniert. Erfolgreiche Kultur-Governance schafft ein Umfeld, in dem IKT-Risikobewusstsein und -Verantwortung in alle Organisationsebenen und -prozesse integriert sind.\n\nüéØ Kultur-Governance-Framework und Leadership-Commitment:\n‚Ä¢ Etablierung klarer Kultur-Ziele und -Werte f√ºr IKT-Risikomanagement mit sichtbarem Board- und Senior-Management-Commitment\n‚Ä¢ Integration von IKT-Risiko-Kultur-Elementen in Unternehmenswerte, Mission-Statements und strategische Pl√§ne\n‚Ä¢ Entwicklung von Kultur-Assessment-Methoden zur Messung und √úberwachung der IKT-Risiko-Kultur-Reife\n‚Ä¢ Etablierung von Kultur-Champions und Change-Agents auf verschiedenen Organisationsebenen\n‚Ä¢ Sicherstellung konsistenter Kultur-Botschaften und -Verhaltensweisen von der F√ºhrungsebene\n\nüìö Awareness und Training-Governance:\n‚Ä¢ Entwicklung umfassender IKT-Risiko-Awareness-Programme mit zielgruppenspezifischen Inhalten und Delivery-Methoden\n‚Ä¢ Etablierung von Training-Governance mit klaren Standards, Qualit√§tssicherung und Effektivit√§tsmessung\n‚Ä¢ Integration von IKT-Risiko-Training in Onboarding-Prozesse und kontinuierliche Weiterbildungsprogramme\n‚Ä¢ Implementation von Role-Based-Training f√ºr verschiedene Funktionen und Verantwortlichkeitsebenen\n‚Ä¢ Sicherstellung regelm√§√üiger Updates und Anpassungen von Training-Inhalten basierend auf sich entwickelnden Bedrohungslandschaften\n\nüîÑ Verhaltens-Governance und Incentive-Alignment:\n‚Ä¢ Integration von IKT-Risiko-Verhaltenserwartungen in Job-Descriptions, Performance-Management und Bewertungssysteme\n‚Ä¢ Entwicklung von Incentive-Strukturen, die gew√ºnschte IKT-Risiko-Verhaltensweisen f√∂rdern und belohnen\n‚Ä¢ Etablierung von Consequence-Management f√ºr IKT-Risiko-bezogene Verst√∂√üe oder Nachl√§ssigkeiten\n‚Ä¢ Implementation von Recognition-Programmen f√ºr positive IKT-Risiko-Verhaltensweisen und -Beitr√§ge\n‚Ä¢ Sicherstellung fairer und konsistenter Anwendung von Verhaltens-Standards √ºber alle Organisationsebenen hinweg\n\nüìä Kultur-Monitoring und -Messung:\n‚Ä¢ Implementation von Kultur-Surveys und -Assessments zur regelm√§√üigen Bewertung der IKT-Risiko-Kultur-Reife\n‚Ä¢ Entwicklung von Kultur-KPIs und -Metriken zur √úberwachung von Fortschritt und Trends\n‚Ä¢ Etablierung von Feedback-Mechanismen zur kontinuierlichen Verbesserung von Kultur-Initiativen\n‚Ä¢ Integration von Kultur-Indikatoren in Management-Reporting und Board-Dashboards\n‚Ä¢ Sicherstellung angemessener Benchmarking und Vergleiche mit Branchenstandards und Best Practices\n\nüó£Ô∏è Kommunikations-Governance und Engagement:\n‚Ä¢ Entwicklung umfassender Kommunikations-Strategien f√ºr IKT-Risiko-Kultur-Initiativen\n‚Ä¢ Etablierung regelm√§√üiger Kommunikations-Kan√§le und -Formate f√ºr IKT-Risiko-Themen\n‚Ä¢ Integration von IKT-Risiko-Kommunikation in bestehende interne Kommunikations-Frameworks\n‚Ä¢ Implementation von Two-Way-Kommunikation und Employee-Engagement-Mechanismen\n‚Ä¢ Sicherstellung kulturell sensibler und inklusiver Kommunikations-Ans√§tze f√ºr diverse Organisationen"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 3 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
