import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating FIDA Gap-Analyse page with FAQs batch 2...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'fida-gap-analysis' })
    
    if (!existingDoc) {
      throw new Error('Document "fida-gap-analysis" not found')
    }
    
    // Create new FAQs
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 5),
        question: 'Wie bewertet ADVISORI die technische Infrastruktur und API-Readiness im Rahmen einer FIDA-Gap-Analyse?',
        answer: "Die technische Bewertung der FIDA-Readiness erfordert eine umfassende Analyse bestehender IT-Architekturen, API-Landschaften und Dateninfrastrukturen. ADVISORI hat spezialisierte Assessment-Frameworks entwickelt, die technische Compliance-L√ºcken pr√§zise identifizieren und dabei sowohl aktuelle Anforderungen als auch zuk√ºnftige Skalierungsbedarfe ber√ºcksichtigen.\n\nüèóÔ∏è API Architecture Assessment:\n‚Ä¢ Comprehensive API Inventory: Vollst√§ndige Erfassung und Bewertung bestehender API-Landschaften, einschlie√ülich interner und externer Schnittstellen, Dokumentationsqualit√§t und Compliance mit aktuellen Standards.\n‚Ä¢ FIDA-Specific API Requirements Mapping: Detaillierte Analyse der spezifischen API-Anforderungen unter FIDA, einschlie√ülich Datenformate, Authentifizierung, Autorisierung und Performance-Standards.\n‚Ä¢ Security Architecture Evaluation: Umfassende Bewertung der API-Sicherheitsarchitekturen, einschlie√ülich OAuth-Implementation, Token-Management, Verschl√ºsselung und Threat-Protection-Mechanismen.\n‚Ä¢ Scalability und Performance Analysis: Bewertung der Skalierbarkeit bestehender API-Infrastrukturen unter erwarteten FIDA-Compliance-Lasten und Identifikation von Performance-Bottlenecks.\n‚Ä¢ Integration Complexity Assessment: Analyse der Komplexit√§t erforderlicher API-Integrationen mit bestehenden Core-Banking-Systemen und Drittanbieter-Plattformen.\n\nüíæ Data Infrastructure Evaluation:\n‚Ä¢ Data Quality Assessment: Systematische Bewertung der Datenqualit√§t anhand FIDA-spezifischer Kriterien, einschlie√ülich Vollst√§ndigkeit, Genauigkeit, Konsistenz und Aktualit√§t der f√ºr Datenfreigabe relevanten Informationen.\n‚Ä¢ Data Availability und Accessibility Analysis: Bewertung der Verf√ºgbarkeit und Zug√§nglichkeit von Kundendaten f√ºr FIDA-konforme Freigabe, einschlie√ülich Real-Time-Zugriff und historischer Datenarchive.\n‚Ä¢ Data Governance Framework Review: Analyse bestehender Data-Governance-Strukturen und deren Anpassungsf√§higkeit an FIDA-Anforderungen f√ºr Datenklassifikation, -schutz und -freigabe.\n‚Ä¢ Master Data Management Evaluation: Bewertung der Master-Data-Management-Systeme und deren F√§higkeit zur Bereitstellung konsistenter, hochwertiger Kundendaten f√ºr FIDA-Compliance.\n‚Ä¢ Data Lineage und Traceability Assessment: Analyse der Datenherkunft und -verfolgbarkeit zur Sicherstellung der Transparenz und Nachvollziehbarkeit von Datenfreigabe-Prozessen.\n\nüîí Security und Privacy Infrastructure:\n‚Ä¢ Privacy-by-Design Assessment: Bewertung der Integration von Datenschutzprinzipien in bestehende Systemarchitekturen und Identifikation erforderlicher Anpassungen f√ºr FIDA-konforme Datenverarbeitung.\n‚Ä¢ Consent Management System Evaluation: Analyse bestehender Einverst√§ndnismanagement-Systeme und deren F√§higkeit zur granularen Verwaltung von Kundenzustimmungen f√ºr verschiedene Datenfreigabe-Szenarien.\n‚Ä¢ Data Encryption und Protection Mechanisms: Bewertung bestehender Verschl√ºsselungs- und Datenschutzmechanismen f√ºr Daten in Ruhe und w√§hrend der √úbertragung.\n‚Ä¢ Identity und Access Management Review: Analyse der IAM-Systeme und deren Anpassungsf√§higkeit an FIDA-spezifische Authentifizierungs- und Autorisierungsanforderungen.\n‚Ä¢ Audit Trail und Monitoring Capabilities: Bewertung der F√§higkeiten zur umfassenden Protokollierung und √úberwachung von Datenfreigabe-Aktivit√§ten f√ºr Compliance-Nachweise.\n\n‚ö° Performance und Scalability Analysis:\n‚Ä¢ Load Testing und Capacity Planning: Durchf√ºhrung umfassender Load-Tests zur Bewertung der System-Performance unter erwarteten FIDA-Compliance-Lasten und Entwicklung von Kapazit√§tsplanungsstrategien.\n‚Ä¢ Real-Time Processing Capabilities: Bewertung der F√§higkeiten f√ºr Echtzeit-Datenverarbeitung und -freigabe, die f√ºr bestimmte FIDA-Anwendungsf√§lle erforderlich sind.\n‚Ä¢ Disaster Recovery und Business Continuity: Analyse der Disaster-Recovery-F√§higkeiten und Business-Continuity-Pl√§ne im Kontext von FIDA-Compliance-Anforderungen.\n‚Ä¢ Cloud Readiness und Hybrid Architecture Assessment: Bewertung der Cloud-Readiness und Hybrid-Architektur-F√§higkeiten f√ºr flexible und skalierbare FIDA-Implementation.\n‚Ä¢ Technology Stack Modernization Needs: Identifikation von Modernisierungsbedarfen in der Technologie-Stack zur Unterst√ºtzung effizienter FIDA-Compliance."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 6),
        question: 'Welche Ans√§tze nutzt ADVISORI zur Bewertung der Datenqualit√§t und -verf√ºgbarkeit f√ºr FIDA-konforme Datenfreigabe?',
        answer: "Die Bewertung der Datenqualit√§t und -verf√ºgbarkeit ist ein kritischer Aspekt jeder FIDA-Gap-Analyse, da die Regulation hohe Standards f√ºr die Qualit√§t und Zug√§nglichkeit freigegebener Finanzdaten setzt. ADVISORI hat umfassende Bewertungsframeworks entwickelt, die sowohl technische als auch gesch√§ftliche Aspekte der Datenqualit√§t systematisch analysieren und bewerten.\n\nüìä Comprehensive Data Quality Framework:\n‚Ä¢ Multi-Dimensional Quality Assessment: Anwendung mehrdimensionaler Datenqualit√§ts-Frameworks, die Vollst√§ndigkeit, Genauigkeit, Konsistenz, Aktualit√§t, Relevanz und Integrit√§t von Finanzdaten systematisch bewerten.\n‚Ä¢ FIDA-Specific Quality Criteria: Entwicklung FIDA-spezifischer Qualit√§tskriterien, die regulatorische Anforderungen an Datenformate, -strukturen und -inhalte ber√ºcksichtigen.\n‚Ä¢ Automated Quality Monitoring: Implementation automatisierter Datenqualit√§ts-Monitoring-Systeme, die kontinuierliche √úberwachung und Bewertung der Datenqualit√§t erm√∂glichen.\n‚Ä¢ Data Profiling und Discovery: Durchf√ºhrung umfassender Data-Profiling-Aktivit√§ten zur Identifikation von Datenmustern, -anomalien und -qualit√§tsproblemen.\n‚Ä¢ Quality Scorecard Development: Entwicklung umfassender Quality-Scorecards, die Datenqualit√§t messbar und nachvollziehbar machen.\n\nüîç Data Availability und Accessibility Analysis:\n‚Ä¢ Real-Time Data Access Assessment: Bewertung der F√§higkeiten f√ºr Echtzeit-Datenzugriff und -freigabe, die f√ºr bestimmte FIDA-Anwendungsf√§lle erforderlich sind.\n‚Ä¢ Historical Data Archive Evaluation: Analyse der Verf√ºgbarkeit und Zug√§nglichkeit historischer Finanzdaten f√ºr umfassende Kundeneinblicke und regulatorische Anforderungen.\n‚Ä¢ Data Retrieval Performance Analysis: Bewertung der Performance von Datenabruf-Prozessen unter verschiedenen Lastszenarien und Optimierung f√ºr FIDA-Compliance-Anforderungen.\n‚Ä¢ Cross-System Data Integration: Analyse der F√§higkeiten zur Integration von Daten aus verschiedenen Quellsystemen f√ºr vollst√§ndige Kundendatenbilder.\n‚Ä¢ Data Freshness und Update Frequency: Bewertung der Aktualit√§t von Daten und der H√§ufigkeit von Updates zur Sicherstellung zeitnaher Datenfreigabe.\n\nüéØ Business Context und Semantic Analysis:\n‚Ä¢ Business Rule Validation: √úberpr√ºfung der Konsistenz von Gesch√§ftsregeln und deren Auswirkungen auf Datenqualit√§t und -verf√ºgbarkeit.\n‚Ä¢ Semantic Data Modeling: Analyse der semantischen Datenmodelle und deren Anpassungsf√§higkeit an FIDA-Anforderungen f√ºr standardisierte Datenfreigabe.\n‚Ä¢ Customer Data Journey Mapping: Verfolgung der Customer-Data-Journey durch verschiedene Systeme zur Identifikation von Qualit√§ts- und Verf√ºgbarkeitsl√ºcken.\n‚Ä¢ Data Lineage und Impact Analysis: Umfassende Analyse der Datenherkunft und Auswirkungen von Datenqualit√§tsproblemen auf nachgelagerte Prozesse.\n‚Ä¢ Regulatory Compliance Mapping: Zuordnung von Datenqualit√§ts- und -verf√ºgbarkeitsanforderungen zu spezifischen FIDA-Compliance-Verpflichtungen.\n\nüîß Technical Infrastructure Assessment:\n‚Ä¢ Data Pipeline Evaluation: Bewertung bestehender Datenverarbeitungs-Pipelines und deren F√§higkeit zur Bereitstellung hochwertiger Daten f√ºr FIDA-Compliance.\n‚Ä¢ ETL Process Analysis: Analyse von Extract-Transform-Load-Prozessen und deren Auswirkungen auf Datenqualit√§t und -verf√ºgbarkeit.\n‚Ä¢ Data Warehouse und Lake Assessment: Bewertung von Data-Warehouse- und Data-Lake-Architekturen f√ºr FIDA-konforme Datenspeicherung und -zugriff.\n‚Ä¢ API Data Quality Validation: Analyse der Datenqualit√§t an API-Endpunkten und Entwicklung von Validierungsmechanismen f√ºr ausgehende Daten.\n‚Ä¢ Monitoring und Alerting Systems: Bewertung bestehender Monitoring- und Alerting-Systeme f√ºr proaktive Identifikation von Datenqualit√§ts- und -verf√ºgbarkeitsproblemen."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 7),
        question: 'Wie identifiziert ADVISORI Legacy-System-Herausforderungen und entwickelt Integrationsstrategien f√ºr FIDA-Compliance?',
        answer: "Legacy-Systeme stellen oft die gr√∂√üten Herausforderungen bei der FIDA-Implementation dar, da sie nicht f√ºr moderne API-basierte Datenfreigabe konzipiert wurden. ADVISORI hat spezialisierte Ans√§tze entwickelt, um Legacy-System-Komplexit√§ten zu bewerten und pragmatische Integrationsstrategien zu entwickeln, die Compliance erm√∂glichen ohne bestehende Gesch√§ftsprozesse zu gef√§hrden.\n\nüèõÔ∏è Legacy System Assessment Framework:\n‚Ä¢ Comprehensive System Inventory: Vollst√§ndige Erfassung und Kategorisierung aller Legacy-Systeme, einschlie√ülich Core-Banking-Systeme, Mainframe-Anwendungen und propriet√§re L√∂sungen mit Relevanz f√ºr FIDA-Compliance.\n‚Ä¢ Technical Debt Analysis: Systematische Bewertung der technischen Schulden in Legacy-Systemen und deren Auswirkungen auf FIDA-Implementation-Komplexit√§t und -Kosten.\n‚Ä¢ Integration Capability Assessment: Bewertung bestehender Integrationsf√§higkeiten von Legacy-Systemen, einschlie√ülich verf√ºgbarer Schnittstellen, Datenexport-M√∂glichkeiten und API-Readiness.\n‚Ä¢ Data Extraction Complexity Evaluation: Analyse der Komplexit√§t von Datenextraktions-Prozessen aus Legacy-Systemen und Identifikation von Herausforderungen bei der Datenharmonisierung.\n‚Ä¢ Risk Assessment f√ºr System Modifications: Bewertung der Risiken und Auswirkungen erforderlicher Modifikationen an kritischen Legacy-Systemen.\n\nüîó Integration Strategy Development:\n‚Ä¢ API Gateway Implementation: Entwicklung von API-Gateway-Strategien, die Legacy-Systeme √ºber moderne Schnittstellen f√ºr FIDA-konforme Datenfreigabe zug√§nglich machen.\n‚Ä¢ Microservices Architecture Transition: Planung schrittweiser √úberg√§nge zu Microservices-Architekturen, die Legacy-Funktionalit√§ten kapseln und moderne API-Zugriffe erm√∂glichen.\n‚Ä¢ Data Virtualization Approaches: Implementation von Data-Virtualization-L√∂sungen, die einheitliche Datenansichten √ºber verschiedene Legacy-Systeme hinweg bereitstellen.\n‚Ä¢ Event-Driven Architecture Integration: Entwicklung event-getriebener Architekturen, die Legacy-Systeme √ºber asynchrone Messaging-Patterns integrieren.\n‚Ä¢ Hybrid Cloud Integration Strategies: Planung von Hybrid-Cloud-Integrationsans√§tzen, die Legacy-Systeme mit modernen Cloud-basierten FIDA-Compliance-L√∂sungen verbinden.\n\n‚ö° Modernization Roadmap Planning:\n‚Ä¢ Phased Modernization Approach: Entwicklung stufenweiser Modernisierungsans√§tze, die kritische FIDA-Compliance-Anforderungen priorisieren und Gesch√§ftsunterbrechungen minimieren.\n‚Ä¢ Strangler Fig Pattern Implementation: Anwendung des Strangler-Fig-Patterns zur schrittweisen Abl√∂sung von Legacy-Funktionalit√§ten durch moderne, FIDA-konforme L√∂sungen.\n‚Ä¢ Data Migration Strategy: Entwicklung umfassender Datenmigrationsstrategien, die Datenintegrit√§t und -verf√ºgbarkeit w√§hrend Modernisierungsprozessen gew√§hrleisten.\n‚Ä¢ Parallel System Operation: Planung paralleler Systembetriebe w√§hrend √úbergangsphasen zur Risikominimierung und Kontinuit√§tssicherung.\n‚Ä¢ Legacy System Retirement Planning: Strategische Planung der schrittweisen Au√üerbetriebnahme von Legacy-Systemen nach erfolgreicher FIDA-Compliance-Implementation.\n\nüõ°Ô∏è Risk Mitigation und Compliance Assurance:\n‚Ä¢ Business Continuity Planning: Entwicklung umfassender Business-Continuity-Pl√§ne, die Gesch√§ftskontinuit√§t w√§hrend Legacy-System-Integrationen gew√§hrleisten.\n‚Ä¢ Data Integrity Validation: Implementation robuster Datenintegrit√§ts-Validierungsprozesse zur Sicherstellung konsistenter Datenqualit√§t w√§hrend Integrationsprozessen.\n‚Ä¢ Regulatory Compliance Monitoring: Kontinuierliche √úberwachung der regulatorischen Compliance w√§hrend Legacy-System-Modernisierungsphasen.\n‚Ä¢ Security Assessment und Hardening: Bewertung und Verst√§rkung der Sicherheitsma√ünahmen f√ºr Legacy-Systeme im Kontext erweiterter FIDA-Konnektivit√§t.\n‚Ä¢ Performance Impact Analysis: Analyse der Performance-Auswirkungen von Legacy-System-Integrationen auf bestehende Gesch√§ftsprozesse und Entwicklung von Optimierungsstrategien."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 8),
        question: 'Welche Methoden verwendet ADVISORI zur Bewertung der Sicherheitsarchitektur und Identifikation von Sicherheitsl√ºcken f√ºr FIDA-Compliance?',
        answer: "Die Sicherheitsarchitektur-Bewertung ist ein kritischer Bestandteil jeder FIDA-Gap-Analyse, da die Regulation strenge Sicherheitsanforderungen f√ºr Datenfreigabe und -schutz stellt. ADVISORI hat umfassende Security-Assessment-Frameworks entwickelt, die sowohl technische als auch organisatorische Sicherheitsaspekte systematisch bewerten und FIDA-spezifische Sicherheitsl√ºcken identifizieren.\n\nüîê Comprehensive Security Architecture Review:\n‚Ä¢ Multi-Layer Security Assessment: Systematische Bewertung aller Sicherheitsebenen, von Netzwerk- und Infrastruktursicherheit bis hin zu Anwendungs- und Datensicherheit im Kontext von FIDA-Anforderungen.\n‚Ä¢ Zero Trust Architecture Evaluation: Bewertung bestehender Sicherheitsarchitekturen im Hinblick auf Zero-Trust-Prinzipien und deren Anwendbarkeit f√ºr sichere FIDA-Datenfreigabe.\n‚Ä¢ API Security Assessment: Detaillierte Analyse der API-Sicherheitsma√ünahmen, einschlie√ülich Authentifizierung, Autorisierung, Rate-Limiting und Threat-Protection-Mechanismen.\n‚Ä¢ Identity und Access Management Review: Umfassende Bewertung der IAM-Systeme und deren F√§higkeit zur granularen Zugriffskontrolle f√ºr FIDA-konforme Datenfreigabe.\n‚Ä¢ Encryption und Key Management Analysis: Bewertung der Verschl√ºsselungsstrategien und Schl√ºsselverwaltungssysteme f√ºr Daten in Ruhe und w√§hrend der √úbertragung.\n\nüõ°Ô∏è FIDA-Specific Security Requirements Assessment:\n‚Ä¢ Strong Customer Authentication Compliance: Bewertung der Compliance mit Strong-Customer-Authentication-Anforderungen und deren Integration in FIDA-Datenfreigabe-Prozesse.\n‚Ä¢ Data Minimization und Purpose Limitation: Analyse der Implementation von Datenminimierungs- und Zweckbindungsprinzipien in bestehenden Sicherheitsarchitekturen.\n‚Ä¢ Consent Management Security: Bewertung der Sicherheitsma√ünahmen f√ºr Einverst√§ndnismanagement-Systeme und deren Schutz vor Manipulation und unbefugtem Zugriff.\n‚Ä¢ Third-Party Access Control: Analyse der Sicherheitskontrollen f√ºr Drittanbieter-Zugriffe und deren Compliance mit FIDA-Sicherheitsanforderungen.\n‚Ä¢ Data Breach Prevention und Response: Bewertung der F√§higkeiten zur Verhinderung und Reaktion auf Datenschutzverletzungen im Kontext von FIDA-Datenfreigabe.\n\nüîç Vulnerability Assessment und Penetration Testing:\n‚Ä¢ Comprehensive Vulnerability Scanning: Durchf√ºhrung umfassender Vulnerability-Scans aller FIDA-relevanten Systeme und Infrastrukturen zur Identifikation von Sicherheitsl√ºcken.\n‚Ä¢ API-Specific Penetration Testing: Spezialisierte Penetration-Tests f√ºr APIs, die f√ºr FIDA-Datenfreigabe verwendet werden, einschlie√ülich OWASP-API-Top-Ten-Bewertungen.\n‚Ä¢ Social Engineering Assessment: Bewertung der Anf√§lligkeit f√ºr Social-Engineering-Angriffe im Kontext von FIDA-Compliance-Prozessen und Mitarbeiterschulungen.\n‚Ä¢ Red Team Exercises: Durchf√ºhrung von Red-Team-√úbungen zur Simulation realistischer Angriffszenarien auf FIDA-relevante Systeme und Prozesse.\n‚Ä¢ Continuous Security Monitoring Evaluation: Bewertung bestehender Security-Monitoring-Systeme und deren F√§higkeit zur Erkennung FIDA-spezifischer Sicherheitsbedrohungen.\n\nüéØ Organizational Security Assessment:\n‚Ä¢ Security Governance Framework Review: Bewertung der Security-Governance-Strukturen und deren Anpassungsf√§higkeit an FIDA-spezifische Sicherheitsanforderungen.\n‚Ä¢ Security Awareness und Training Programs: Analyse bestehender Sicherheitsbewusstseins- und Schulungsprogramme im Hinblick auf FIDA-spezifische Sicherheitsrisiken.\n‚Ä¢ Incident Response Plan Evaluation: Bewertung der Incident-Response-Pl√§ne und deren Anpassung an FIDA-spezifische Sicherheitsvorf√§lle und Meldepflichten.\n‚Ä¢ Vendor Security Management: Analyse der Sicherheitsmanagement-Prozesse f√ºr Drittanbieter und deren Compliance mit FIDA-Sicherheitsanforderungen.\n‚Ä¢ Security Metrics und KPI Assessment: Bewertung bestehender Sicherheitsmetriken und deren Relevanz f√ºr FIDA-Compliance-Monitoring und -Reporting."
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQs batch 2 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
