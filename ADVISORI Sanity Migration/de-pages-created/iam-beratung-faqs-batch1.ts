import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating IAM Beratung page with FAQ batch 1...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'iam-beratung' })
    
    if (!existingDoc) {
      throw new Error('Document "iam-beratung" not found')
    }
    
    // Create new FAQs for IAM Beratung fundamentals
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 1),
        question: 'Warum ist professionelle IAM-Beratung entscheidend f√ºr den Erfolg digitaler Transformationsprojekte und wie unterscheidet sie sich von reiner Technologie-Implementierung?',
        answer: "Professionelle IAM-Beratung ist das strategische Fundament erfolgreicher digitaler Transformation und geht weit √ºber technische Implementierung hinaus. Sie positioniert Identity & Access Management als Business-Enabler, der Gesch√§ftsprozesse beschleunigt, Compliance automatisiert und dabei h√∂chste Sicherheitsstandards gew√§hrleistet. Anders als reine Technologie-Implementierung fokussiert strategische IAM-Beratung auf nachhaltige Gesch√§ftswertsch√∂pfung und langfristige Wettbewerbsvorteile.\n\nüéØ Strategische Business-Transformation durch IAM-Beratung:\n‚Ä¢ Ganzheitliche Gesch√§ftsausrichtung mit IAM als strategischem Wettbewerbsvorteil und Innovation-Enabler\n‚Ä¢ Business-Case-Entwicklung mit messbaren ROI-Metriken und nachhaltiger Wertsch√∂pfung\n‚Ä¢ Stakeholder-Alignment f√ºr Executive-Sponsorship und organisationsweite Transformation\n‚Ä¢ Change-Management-Integration f√ºr nachhaltige Adoption und kulturelle Transformation\n‚Ä¢ Future-Readiness-Design f√ºr langfristige Skalierbarkeit und technologische Evolution\n\nüèóÔ∏è Enterprise-Architektur-Excellence und Design-Thinking:\n‚Ä¢ Zero-Trust-Architektur-Design mit modernen Sicherheitsprinzipien und adaptiven Kontrollen\n‚Ä¢ Cloud-native Strategien f√ºr Hybrid- und Multi-Cloud-Umgebungen mit optimaler Integration\n‚Ä¢ Herstellerunabh√§ngige Technologie-Bewertung f√ºr objektive Solution-Selection\n‚Ä¢ Enterprise-Integration-Patterns f√ºr nahtlose Anbindung bestehender Systemlandschaften\n‚Ä¢ Skalierbarkeits-Design f√ºr globale Expansion und elastische Ressourcennutzung\n\nüîç Risk-Management und Compliance-Excellence:\n‚Ä¢ Comprehensive Risk-Assessment mit Business-Impact-Analyse und Threat-Modeling\n‚Ä¢ Regulatory-Compliance-Integration f√ºr automatisierte Erf√ºllung gesetzlicher Anforderungen\n‚Ä¢ Governance-Framework-Design f√ºr kontinuierliche √úberwachung und Optimierung\n‚Ä¢ Audit-Readiness-Strategien f√ºr proaktive Compliance-Demonstration\n‚Ä¢ Incident-Response-Planning f√ºr schnelle Reaktion auf Sicherheitsvorf√§lle\n\nüí° Innovation-Integration und Technology-Leadership:\n‚Ä¢ Emerging-Technology-Assessment f√ºr KI, Machine Learning und Behavioral Analytics\n‚Ä¢ API-first Design f√ºr moderne Anwendungsarchitekturen und Ecosystem-Integration\n‚Ä¢ DevSecOps-Integration f√ºr sichere und agile Entwicklungsprozesse\n‚Ä¢ Identity-as-a-Service-Strategien f√ºr Cloud-native Transformation\n‚Ä¢ Continuous-Innovation-Frameworks f√ºr langfristige technologische F√ºhrerschaft\n\nüöÄ Organizational-Enablement und Capability-Building:\n‚Ä¢ Change-Management-Strategien f√ºr nachhaltige organisatorische Transformation\n‚Ä¢ Training-Program-Design f√ºr Skill-Development und User-Enablement\n‚Ä¢ Center-of-Excellence-Etablierung f√ºr interne IAM-Expertise-Aufbau\n‚Ä¢ Best-Practice-Transfer f√ºr kontinuierliche Verbesserung und Wissensmanagement\n‚Ä¢ Performance-Measurement-Frameworks f√ºr datengetriebene Optimierung"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 2),
        question: 'Welche strategischen Vorteile bietet herstellerunabh√§ngige IAM-Beratung und wie gew√§hrleistet sie optimale Technologie-Auswahl f√ºr spezifische Unternehmensanforderungen?',
        answer: "Herstellerunabh√§ngige IAM-Beratung ist der Schl√ºssel f√ºr objektive Technologie-Entscheidungen und optimale Solution-Selection, die ausschlie√ülich auf Ihren spezifischen Gesch√§ftsanforderungen basiert. Diese neutrale Beratungsexpertise eliminiert Vendor-Bias, maximiert Investitions-ROI und gew√§hrleistet langfristige strategische Flexibilit√§t durch technologieagnostische Architektur-Ans√§tze.\n\nüéØ Objektive Technology-Assessment und Vendor-Neutralit√§t:\n‚Ä¢ Comprehensive Market-Analysis mit unabh√§ngiger Bewertung aller verf√ºgbaren IAM-L√∂sungen\n‚Ä¢ Requirements-Engineering f√ºr pr√§zise Definition funktionaler und nicht-funktionaler Anforderungen\n‚Ä¢ Multi-Criteria-Decision-Analysis f√ºr datengetriebene Technologie-Auswahl\n‚Ä¢ Vendor-Assessment mit objektiver Bewertung von Capabilities, Roadmaps und Marktposition\n‚Ä¢ TCO-Analyse f√ºr ganzheitliche Kostenbetrachtung √ºber den gesamten Lifecycle\n\nüèóÔ∏è Strategic-Architecture-Design und Future-Readiness:\n‚Ä¢ Technology-agnostic Architecture-Patterns f√ºr maximale Flexibilit√§t und Vendor-Independence\n‚Ä¢ API-first Design f√ºr nahtlose Integration und einfache Technologie-Migration\n‚Ä¢ Hybrid-Cloud-Strategien f√ºr optimale Workload-Placement und Vendor-Diversifikation\n‚Ä¢ Microservices-Architecture f√ºr modulare Deployment-Optionen und Skalierbarkeit\n‚Ä¢ Standards-based Integration f√ºr Interoperabilit√§t und Zukunftssicherheit\n\nüí∞ Investment-Optimization und Risk-Mitigation:\n‚Ä¢ Business-Case-Development mit realistischen ROI-Projektionen und Payback-Perioden\n‚Ä¢ Risk-Assessment f√ºr Vendor-Lock-in-Vermeidung und strategische Flexibilit√§t\n‚Ä¢ Contract-Negotiation-Support f√ºr optimale Lizenzierung und Service-Level-Agreements\n‚Ä¢ Migration-Strategy-Development f√ºr risikoarme Technologie-Transitions\n‚Ä¢ Contingency-Planning f√ºr alternative L√∂sungsans√§tze und Exit-Strategien\n\nüîç Comprehensive-Evaluation und Proof-of-Concept-Management:\n‚Ä¢ Multi-Phase-Evaluation mit strukturierten Bewertungskriterien und Scoring-Modellen\n‚Ä¢ Proof-of-Concept-Design f√ºr realistische Technologie-Validierung unter Produktionsbedingungen\n‚Ä¢ Performance-Benchmarking f√ºr objektive Leistungsvergleiche und Skalierbarkeits-Tests\n‚Ä¢ Security-Assessment f√ºr umfassende Sicherheitsbewertung und Compliance-Validierung\n‚Ä¢ User-Experience-Evaluation f√ºr Adoption-Readiness und Change-Management-Planung\n\nüåê Market-Intelligence und Innovation-Tracking:\n‚Ä¢ Continuous-Market-Monitoring f√ºr Emerging-Technologies und Vendor-Entwicklungen\n‚Ä¢ Technology-Roadmap-Analysis f√ºr langfristige Investitions-Planung und Innovation-Integration\n‚Ä¢ Industry-Benchmark-Analysis f√ºr Best-Practice-Identification und Competitive-Positioning\n‚Ä¢ Regulatory-Impact-Assessment f√ºr Compliance-Readiness und Future-Regulation-Preparation\n‚Ä¢ Innovation-Lab-Partnerships f√ºr Early-Access zu neuen Technologien und Pilotprojekten\n\nüöÄ Strategic-Partnership und Ecosystem-Development:\n‚Ä¢ Multi-Vendor-Strategy f√ºr optimale Capability-Kombination und Risk-Distribution\n‚Ä¢ Partner-Ecosystem-Design f√ºr umfassende Solution-Coverage und Support-Excellence\n‚Ä¢ Integration-Partner-Selection f√ºr spezialisierte Implementierungs-Expertise\n‚Ä¢ Managed-Service-Provider-Evaluation f√ºr operative Exzellenz und Cost-Optimization\n‚Ä¢ Technology-Alliance-Management f√ºr strategische Partnerschaften und Innovation-Collaboration"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 3),
        question: 'Wie entwickelt professionelle IAM-Beratung eine ganzheitliche Zero-Trust-Strategie und welche Rolle spielt sie bei der Transformation traditioneller Sicherheitsarchitekturen?',
        answer: "Professionelle IAM-Beratung ist der Katalysator f√ºr erfolgreiche Zero-Trust-Transformation und orchestriert den strategischen Wandel von perimeter-basierten zu identit√§tszentrierten Sicherheitsarchitekturen. Diese fundamentale Paradigmenverschiebung erfordert spezialisierte Beratungsexpertise, die technische Innovation mit organisatorischer Transformation verbindet und dabei kontinuierliche Verifikation als neues Sicherheitsfundament etabliert.\n\nüéØ Strategic Zero-Trust-Vision und Transformation-Roadmap:\n‚Ä¢ Comprehensive Current-State-Assessment f√ºr Analyse bestehender Sicherheitsarchitekturen und Identifikation von Transformation-Opportunities\n‚Ä¢ Zero-Trust-Maturity-Model-Development f√ºr strukturierte Transformation mit messbaren Meilensteinen\n‚Ä¢ Business-Case-Entwicklung f√ºr Zero-Trust-Investment mit ROI-Projektion und Risk-Mitigation-Benefits\n‚Ä¢ Stakeholder-Alignment f√ºr Executive-Sponsorship und organisationsweite Transformation-Unterst√ºtzung\n‚Ä¢ Phased-Implementation-Strategy f√ºr risikoarme Migration mit kontinuierlicher Business-Continuity\n\nüõ°Ô∏è Identity-Centric-Security-Architecture und Adaptive-Controls:\n‚Ä¢ Identity-as-the-New-Perimeter-Design mit zentraler Identit√§tsverwaltung als Sicherheitsanker\n‚Ä¢ Continuous-Verification-Framework f√ºr dynamische Risikobewertung und adaptive Authentifizierung\n‚Ä¢ Behavioral-Analytics-Integration f√ºr KI-gest√ºtzte Anomaly-Detection und Threat-Intelligence\n‚Ä¢ Context-Aware-Access-Controls f√ºr granulare Autorisierung basierend auf Benutzer, Ger√§t, Standort und Anwendung\n‚Ä¢ Micro-Segmentation-Strategy f√ºr minimale Angriffsfl√§che und Lateral-Movement-Prevention\n\nüîç Risk-Based-Authentication und Intelligent-Decision-Making:\n‚Ä¢ Multi-Factor-Authentication-Strategy mit adaptiven Sicherheitsanforderungen und User-Experience-Optimierung\n‚Ä¢ Risk-Scoring-Engine-Design f√ºr Real-time-Risikobewertung und automatisierte Sicherheitsentscheidungen\n‚Ä¢ Device-Trust-Framework f√ºr Endpoint-Compliance-√úberpr√ºfung und Certificate-based-Authentication\n‚Ä¢ Privileged-Access-Management-Integration f√ºr Just-in-Time-Access und Session-Monitoring\n‚Ä¢ Threat-Intelligence-Integration f√ºr proaktive Abwehr bekannter Angriffsmuster\n\nüåê Cloud-Native-Zero-Trust und Hybrid-Integration:\n‚Ä¢ Cloud-Security-Posture-Management f√ºr konsistente Sicherheitsrichtlinien √ºber alle Cloud-Umgebungen\n‚Ä¢ API-Security-Framework f√ºr sichere Service-to-Service-Kommunikation und Microservices-Protection\n‚Ä¢ Container-Security-Integration f√ºr sichere Containerisierung und Kubernetes-Orchestrierung\n‚Ä¢ Edge-Computing-Security f√ºr IoT-Ger√§te und dezentrale Anwendungsarchitekturen\n‚Ä¢ Network-Security-Integration f√ºr Software-Defined-Perimeter und Secure-Access-Service-Edge\n\nüìä Continuous-Monitoring und Adaptive-Response:\n‚Ä¢ Security-Information-and-Event-Management-Integration f√ºr umfassende Visibility und Threat-Detection\n‚Ä¢ User-and-Entity-Behavior-Analytics f√ºr Advanced-Threat-Detection und Insider-Threat-Prevention\n‚Ä¢ Automated-Incident-Response f√ºr schnelle Reaktion auf Sicherheitsvorf√§lle und Threat-Containment\n‚Ä¢ Compliance-Automation f√ºr kontinuierliche Erf√ºllung regulatorischer Anforderungen\n‚Ä¢ Security-Metrics-and-KPI-Framework f√ºr datengetriebene Sicherheitsoptimierung\n\nüöÄ Organizational-Change und Culture-Transformation:\n‚Ä¢ Security-Awareness-Program-Design f√ºr Zero-Trust-Mindset-Entwicklung und User-Education\n‚Ä¢ DevSecOps-Integration f√ºr Security-by-Design und Shift-Left-Security-Practices\n‚Ä¢ Incident-Response-Team-Training f√ºr Zero-Trust-spezifische Threat-Scenarios\n‚Ä¢ Continuous-Security-Training f√ºr Skill-Development und Best-Practice-Adoption\n‚Ä¢ Security-Culture-Assessment f√ºr organisatorische Readiness und Change-Management-Planung"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 4),
        question: 'Welche Rolle spielt Change Management in der IAM-Beratung und wie gew√§hrleistet es nachhaltige Adoption neuer Identit√§tsverwaltungsprozesse?',
        answer: "Change Management ist das strategische Herzst√ºck erfolgreicher IAM-Transformation und entscheidet ma√ügeblich √ºber den langfristigen Projekterfolg. Professionelle IAM-Beratung integriert Change Management als fundamentalen Baustein, der technische Innovation mit organisatorischer Transformation verbindet und dabei nachhaltige Adoption, kulturelle Ver√§nderung und kontinuierliche Verbesserung gew√§hrleistet.\n\nüéØ Strategic-Change-Management und Organizational-Readiness:\n‚Ä¢ Comprehensive-Stakeholder-Analysis f√ºr Identifikation von Change-Champions, Resistors und Influencers\n‚Ä¢ Organizational-Readiness-Assessment f√ºr Bewertung der Transformations-Bereitschaft und Cultural-Maturity\n‚Ä¢ Change-Impact-Analysis f√ºr Verst√§ndnis der Auswirkungen auf Gesch√§ftsprozesse, Rollen und Verantwortlichkeiten\n‚Ä¢ Executive-Sponsorship-Development f√ºr Leadership-Commitment und Top-Down-Change-Support\n‚Ä¢ Change-Vision-Communication f√ºr klare Artikulation der Transformation-Ziele und Business-Benefits\n\nüó£Ô∏è Communication-Strategy und Stakeholder-Engagement:\n‚Ä¢ Multi-Channel-Communication-Plan f√ºr zielgruppenspezifische Messaging und Information-Delivery\n‚Ä¢ Stakeholder-Engagement-Framework f√ºr kontinuierliche Einbindung und Feedback-Integration\n‚Ä¢ Success-Story-Development f√ºr Motivation und Momentum-Building w√§hrend der Transformation\n‚Ä¢ Resistance-Management-Strategy f√ºr proaktive Adressierung von Bedenken und Widerst√§nden\n‚Ä¢ Feedback-Loop-Establishment f√ºr kontinuierliche Verbesserung und Anpassung der Change-Strategie\n\nüìö Training-Program-Design und Capability-Building:\n‚Ä¢ Role-based-Training-Curriculum f√ºr spezifische Skill-Development und Competency-Building\n‚Ä¢ Hands-on-Workshop-Design f√ºr praktische Erfahrung und Confidence-Building\n‚Ä¢ Train-the-Trainer-Program f√ºr nachhaltige interne Expertise-Entwicklung\n‚Ä¢ E-Learning-Platform-Development f√ºr flexible und skalierbare Wissensvermittlung\n‚Ä¢ Certification-Program-Design f√ºr formale Anerkennung und Career-Development-Opportunities\n\nüîÑ Adoption-Measurement und Continuous-Improvement:\n‚Ä¢ Adoption-Metrics-Framework f√ºr quantitative Messung des Change-Erfolgs und User-Engagement\n‚Ä¢ User-Experience-Monitoring f√ºr kontinuierliche Verbesserung der System-Usability\n‚Ä¢ Feedback-Collection-Mechanisms f√ºr User-Input und Process-Optimization-Opportunities\n‚Ä¢ Post-Implementation-Review f√ºr Lessons-Learned und Best-Practice-Documentation\n‚Ä¢ Continuous-Improvement-Process f√ºr iterative Optimierung und Innovation-Integration\n\nüè¢ Cultural-Transformation und Mindset-Change:\n‚Ä¢ Security-Culture-Development f√ºr Awareness und Responsibility-Building\n‚Ä¢ Collaboration-Framework-Design f√ºr Cross-Functional-Teamwork und Knowledge-Sharing\n‚Ä¢ Innovation-Mindset-Promotion f√ºr Continuous-Learning und Adaptability\n‚Ä¢ Risk-Awareness-Program f√ºr proaktive Security-Thinking und Threat-Recognition\n‚Ä¢ Digital-Literacy-Enhancement f√ºr Technology-Adoption und Future-Readiness\n\nüöÄ Sustainability-Strategy und Long-term-Success:\n‚Ä¢ Change-Sustainability-Framework f√ºr langfristige Verankerung neuer Prozesse und Verhaltensweisen\n‚Ä¢ Internal-Champion-Network f√ºr kontinuierliche Change-Advocacy und Peer-Support\n‚Ä¢ Governance-Structure-Establishment f√ºr ongoing Change-Management und Process-Evolution\n‚Ä¢ Knowledge-Management-System f√ºr Preservation und Transfer von Transformation-Expertise\n‚Ä¢ Future-Change-Readiness-Building f√ºr Vorbereitung auf kontinuierliche technologische Evolution"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 1 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
