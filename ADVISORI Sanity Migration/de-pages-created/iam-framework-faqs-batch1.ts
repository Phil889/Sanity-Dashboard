import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating IAM Framework page with FAQ batch 1...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'iam-framework' })
    
    if (!existingDoc) {
      throw new Error('Document "iam-framework" not found')
    }
    
    // Create new FAQs for IAM Framework fundamentals
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 1),
        question: 'Was macht ein IAM Framework zur strategischen Grundlage moderner Identit√§tsverwaltung und wie unterscheidet es sich von einzelnen IAM-Tools?',
        answer: "Ein IAM Framework ist das strategische Fundament, das fragmentierte Identit√§tssysteme in eine koh√§rente, orchestrierte Architektur transformiert und dabei weit √ºber die Funktionalit√§t einzelner Tools hinausgeht. Anders als isolierte IAM-L√∂sungen schafft ein Framework eine ganzheitliche Governance-Struktur, die alle Aspekte der Identit√§tsverwaltung systematisch integriert und dabei Sicherheit, Compliance und Business-Enablement in einer einheitlichen Architektur vereint.\n\nüèóÔ∏è Strategische Framework-Architektur und Enterprise-Integration:\n‚Ä¢ Ganzheitliche Identit√§ts-Governance mit zentralisierter Orchestrierung aller Identit√§tsprozesse und -systeme\n‚Ä¢ Enterprise-weite Standardisierung von Identit√§tsrichtlinien, Prozessen und Sicherheitskontrollen\n‚Ä¢ Skalierbare Architektur-Patterns f√ºr globale Deployment-Strategien und Multi-Cloud-Integration\n‚Ä¢ Business-Process-Integration f√ºr nahtlose Workflows und optimierte Produktivit√§tssteigerung\n‚Ä¢ Strategic Roadmap-Entwicklung f√ºr kontinuierliche Framework-Evolution und Innovation-Integration\n\nüîó Framework-Orchestrierung und System-Integration:\n‚Ä¢ API-first Architecture f√ºr moderne Anwendungsintegration und Ecosystem-Konnektivit√§t\n‚Ä¢ Microservices-basierte Framework-Komponenten f√ºr flexible Deployment-Optionen\n‚Ä¢ Event-driven Architecture f√ºr Real-time Synchronisation und intelligente Automatisierung\n‚Ä¢ Legacy-System-Integration ohne Disruption bestehender Gesch√§ftsprozesse\n‚Ä¢ Cloud-native Framework-Design f√ºr Hybrid- und Multi-Cloud-Strategien\n\nüõ°Ô∏è Advanced Security Framework und Zero-Trust-Integration:\n‚Ä¢ Zero-Trust-Framework-Design mit kontinuierlicher Verifikation und adaptiver Sicherheit\n‚Ä¢ Risk-based Authentication mit KI-gest√ºtzter Anomaly Detection und Behavioral Analytics\n‚Ä¢ Privileged Access Management Integration f√ºr kritische Asset-Protection\n‚Ä¢ Threat Intelligence Framework f√ºr proaktive Abwehr und Incident Response\n‚Ä¢ Security-by-Design-Prinzipien f√ºr inh√§rente Sicherheitsarchitektur\n\nüìä Governance Framework und Compliance-Automation:\n‚Ä¢ Identity Governance Framework mit Policy-Engine-Integration und Rule-Management\n‚Ä¢ Automated Compliance-Monitoring f√ºr kontinuierliche regulatorische Exzellenz\n‚Ä¢ Audit-Trail-Management mit umfassender Protokollierung und Forensic-Capabilities\n‚Ä¢ Risk Assessment Framework f√ºr datengetriebene Sicherheitsentscheidungen\n‚Ä¢ Segregation of Duties Framework f√ºr automatisierte Interessenkonflikt-Erkennung\n\nüöÄ Innovation-Enablement und Future-Proofing:\n‚Ä¢ AI-powered Framework-Components f√ºr intelligente Automatisierung und Entscheidungsfindung\n‚Ä¢ Machine Learning Integration f√ºr pr√§diktive Analytics und Anomaly Detection\n‚Ä¢ Blockchain-ready Architecture f√ºr dezentrale Identit√§tsverwaltung\n‚Ä¢ IoT-Framework-Support f√ºr moderne Device-Management-Strategien\n‚Ä¢ Quantum-resistant Cryptography-Integration f√ºr zukunftssichere Sicherheitsarchitektur"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 2),
        question: 'Welche kritischen Komponenten bilden ein enterprise-grade IAM Framework und wie arbeiten sie zusammen f√ºr optimale Governance und Sicherheit?',
        answer: "Ein enterprise-grade IAM Framework besteht aus hochintegrierten, intelligenten Komponenten, die nahtlos zusammenarbeiten, um eine robuste, skalierbare und adaptive Identit√§ts-Governance-Architektur zu schaffen. Diese Framework-Komponenten m√ºssen sowohl technische Exzellenz als auch strategische Gesch√§ftsintegration gew√§hrleisten, w√§hrend sie gleichzeitig h√∂chste Sicherheitsstandards und regulatorische Compliance automatisiert erf√ºllen.\n\nüèõÔ∏è Core Identity Governance Engine:\n‚Ä¢ Identity Repository Framework mit hochverf√ºgbarer, skalierender Datenarchitektur f√ºr alle Identit√§tsinformationen\n‚Ä¢ Policy Management Engine f√ºr zentrale Governance-Regeln und automatisierte Entscheidungsfindung\n‚Ä¢ Workflow Orchestration Framework f√ºr komplexe Gesch√§ftsprozess-Integration\n‚Ä¢ Identity Lifecycle Management mit automatisierten Provisioning- und Deprovisioning-Prozessen\n‚Ä¢ Role Management Framework mit dynamischen Rollenmodellen und Vererbungsstrukturen\n\nüîê Advanced Authentication und Authorization Framework:\n‚Ä¢ Multi-Factor Authentication Framework mit adaptiven Sicherheitsanforderungen\n‚Ä¢ Single Sign-On Framework f√ºr nahtlose Anwendungsintegration\n‚Ä¢ Adaptive Authentication Engine mit KI-gest√ºtzter Risikobewertung\n‚Ä¢ Authorization Framework mit granularen Zugriffskontrollen und kontextbasierter Entscheidungsfindung\n‚Ä¢ Session Management Framework mit intelligenter Timeout-Steuerung und Security-Monitoring\n\n‚öôÔ∏è Intelligent Provisioning und Automation Framework:\n‚Ä¢ Automated Provisioning Engine mit Business-Rule-Integration und Approval-Workflows\n‚Ä¢ Identity Synchronization Framework f√ºr Real-time Updates √ºber alle Systeme\n‚Ä¢ Recertification Framework mit intelligenten Empfehlungen und Risk-based Priorisierung\n‚Ä¢ Segregation of Duties Framework f√ºr automatisierte Compliance-√úberwachung\n‚Ä¢ Exception Management Framework f√ºr kontrollierte Abweichungen und Genehmigungsprozesse\n\nüõ°Ô∏è Enterprise Security und Privileged Access Framework:\n‚Ä¢ Privileged Access Management Framework f√ºr kritische System-Zugriffe\n‚Ä¢ Threat Detection Framework mit Machine Learning und Behavioral Analytics\n‚Ä¢ Security Monitoring Framework f√ºr kontinuierliche √úberwachung und Incident Response\n‚Ä¢ Vulnerability Assessment Framework f√ºr proaktive Sicherheitsbewertung\n‚Ä¢ Forensic Framework f√ºr detaillierte Analyse und Investigation-Support\n\nüìä Analytics und Intelligence Framework:\n‚Ä¢ Identity Analytics Engine f√ºr Einblicke in Benutzerverhalten und Zugriffsmuster\n‚Ä¢ Risk Analytics Framework mit Machine Learning f√ºr intelligente Risikobewertung\n‚Ä¢ Compliance Analytics f√ºr Real-time √úberwachung regulatorischer Anforderungen\n‚Ä¢ Performance Analytics f√ºr kontinuierliche Framework-Optimierung\n‚Ä¢ Predictive Analytics f√ºr proaktive Kapazit√§tsplanung und Sicherheitsma√ünahmen\n\nüåê Integration und API Framework:\n‚Ä¢ API Gateway Framework f√ºr sichere und skalierbare Anwendungsintegration\n‚Ä¢ Event Bus Framework f√ºr Real-time Kommunikation zwischen Framework-Komponenten\n‚Ä¢ Connector Framework f√ºr nahtlose Integration mit Drittsystemen\n‚Ä¢ Data Integration Framework f√ºr konsistente Identit√§tsdaten √ºber alle Systeme\n‚Ä¢ Cloud Integration Framework f√ºr Hybrid- und Multi-Cloud-Deployment"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 3),
        question: 'Wie entwickelt man eine strategische IAM Framework-Architektur, die sowohl aktuelle Gesch√§ftsanforderungen erf√ºllt als auch zukunftssicher skaliert?',
        answer: "Die Entwicklung einer strategischen IAM Framework-Architektur erfordert einen ganzheitlichen Ansatz, der aktuelle Gesch√§ftsanforderungen mit langfristiger Zukunftsvision verbindet und dabei technische Exzellenz mit strategischem Business-Alignment vereint. Eine erfolgreiche Framework-Architektur muss sowohl die komplexen Anforderungen moderner Unternehmen erf√ºllen als auch die Flexibilit√§t f√ºr kontinuierliche Evolution und Innovation bieten.\n\nüéØ Strategic Framework Assessment und Business-Alignment:\n‚Ä¢ Comprehensive Current-State-Assessment mit detaillierter Analyse bestehender Identit√§tssysteme und -prozesse\n‚Ä¢ Business Requirements Analysis f√ºr pr√§zise Erfassung strategischer Ziele und operativer Anforderungen\n‚Ä¢ Stakeholder Engagement Framework f√ºr systematische Einbindung aller relevanten Gesch√§ftsbereiche\n‚Ä¢ Gap Analysis mit Identifikation kritischer Schwachstellen und Verbesserungspotentiale\n‚Ä¢ ROI-Modelling f√ºr datengetriebene Investitionsentscheidungen und Business-Case-Entwicklung\n\nüèóÔ∏è Enterprise Architecture Design und Framework-Planung:\n‚Ä¢ Reference Architecture Development mit bew√§hrten Patterns und Best-Practice-Integration\n‚Ä¢ Scalability Planning f√ºr globale Expansion und elastische Ressourcennutzung\n‚Ä¢ Technology Stack Evaluation f√ºr optimale Tool- und Platform-Auswahl\n‚Ä¢ Integration Architecture Design f√ºr nahtlose Anbindung bestehender Systeme\n‚Ä¢ Security Architecture Framework mit Zero-Trust-Prinzipien und Defense-in-Depth\n\nüìã Framework Governance und Policy-Design:\n‚Ä¢ Governance Model Development f√ºr klare Verantwortlichkeiten und Entscheidungsstrukturen\n‚Ä¢ Policy Framework Design mit automatisierbaren Regeln und Compliance-Integration\n‚Ä¢ Risk Management Framework f√ºr systematische Risikobewertung und -mitigation\n‚Ä¢ Change Management Framework f√ºr kontrollierte Evolution und Anpassungsf√§higkeit\n‚Ä¢ Quality Assurance Framework f√ºr kontinuierliche Verbesserung und Optimierung\n\nüîÑ Implementation Strategy und Phased Rollout:\n‚Ä¢ Phased Implementation Planning mit Risk-Mitigation und Business-Continuity\n‚Ä¢ Pilot Program Design f√ºr kontrollierte Testing- und Validierungsphasen\n‚Ä¢ Migration Strategy Development f√ºr nahtlose √úberf√ºhrung bestehender Systeme\n‚Ä¢ Training und Adoption Framework f√ºr erfolgreiche Benutzer-Integration\n‚Ä¢ Success Metrics Definition f√ºr messbare Erfolgskontrolle und Optimierung\n\nüöÄ Future-Proofing und Innovation-Integration:\n‚Ä¢ Technology Roadmap Development f√ºr kontinuierliche Innovation-Integration\n‚Ä¢ Emerging Technology Assessment f√ºr proaktive Technologie-Adoption\n‚Ä¢ Flexibility Framework f√ºr adaptive Anpassung an ver√§nderte Anforderungen\n‚Ä¢ Cloud-native Architecture f√ºr moderne Deployment-Strategien\n‚Ä¢ AI-Readiness Framework f√ºr intelligente Automatisierung und Analytics\n\nüîç Continuous Optimization und Evolution:\n‚Ä¢ Performance Monitoring Framework f√ºr kontinuierliche Leistungs√ºberwachung\n‚Ä¢ Feedback Loop Integration f√ºr systematische Verbesserung basierend auf Benutzererfahrungen\n‚Ä¢ Innovation Pipeline f√ºr strukturierte Integration neuer Technologien und Methoden\n‚Ä¢ Strategic Review Processes f√ºr regelm√§√üige Alignment-√úberpr√ºfung und Anpassung\n‚Ä¢ Maturity Assessment Framework f√ºr systematische Weiterentwicklung und Reifegradsteigerung"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 4),
        question: 'Welche Governance-Strukturen sind essentiell f√ºr ein erfolgreiches IAM Framework und wie gew√§hrleisten sie kontinuierliche Compliance und Risikomanagement?',
        answer: "Effektive Governance-Strukturen bilden das strategische R√ºckgrat jedes erfolgreichen IAM Frameworks und gew√§hrleisten systematische Kontrolle, kontinuierliche Compliance und proaktives Risikomanagement. Diese Strukturen m√ºssen sowohl operative Exzellenz als auch strategische Ausrichtung sicherstellen, w√§hrend sie gleichzeitig Flexibilit√§t f√ºr Gesch√§ftswachstum und technologische Evolution bieten.\n\nüèõÔ∏è Enterprise Identity Governance Structure:\n‚Ä¢ Identity Governance Board mit C-Level-Sponsorship und strategischer Entscheidungsbefugnis\n‚Ä¢ Cross-functional Governance Teams f√ºr operative Koordination und fachliche Expertise\n‚Ä¢ Identity Stewardship Roles f√ºr dezentrale Verantwortlichkeiten und lokale Expertise\n‚Ä¢ Escalation Frameworks f√ºr strukturierte Konfliktl√∂sung und Entscheidungsfindung\n‚Ä¢ Governance Maturity Assessment f√ºr kontinuierliche Verbesserung der Governance-Effektivit√§t\n\nüìã Policy Management und Rule Engine:\n‚Ä¢ Centralized Policy Repository f√ºr konsistente Regelanwendung √ºber alle Systeme\n‚Ä¢ Policy Lifecycle Management mit Versionierung, Genehmigung und Rollout-Kontrolle\n‚Ä¢ Automated Policy Enforcement f√ºr Real-time Compliance und Regelanwendung\n‚Ä¢ Policy Exception Management f√ºr kontrollierte Abweichungen und Genehmigungsprozesse\n‚Ä¢ Policy Impact Analysis f√ºr Bewertung von √Ñnderungsauswirkungen vor Implementation\n\nüîç Risk Management Framework und Continuous Assessment:\n‚Ä¢ Risk Assessment Methodology f√ºr systematische Identifikation und Bewertung von Identit√§tsrisiken\n‚Ä¢ Risk Scoring Framework mit quantitativen Metriken und Priorisierungslogik\n‚Ä¢ Continuous Risk Monitoring f√ºr Real-time Risikobewertung und Anomaly Detection\n‚Ä¢ Risk Mitigation Strategies mit automatisierten Reaktionen und Eskalationsprozessen\n‚Ä¢ Risk Reporting Framework f√ºr transparente Kommunikation an Stakeholder und Management\n\nüìä Compliance Management und Regulatory Framework:\n‚Ä¢ Regulatory Mapping Framework f√ºr systematische Zuordnung von Compliance-Anforderungen\n‚Ä¢ Automated Compliance Monitoring mit kontinuierlicher √úberwachung und Alerting\n‚Ä¢ Audit Trail Management f√ºr l√ºckenlose Dokumentation aller Identit√§tsaktivit√§ten\n‚Ä¢ Evidence Collection Framework f√ºr automatisierte Audit-Vorbereitung und -unterst√ºtzung\n‚Ä¢ Compliance Reporting Engine f√ºr regelm√§√üige und Ad-hoc-Berichte an Regulatoren\n\n‚öñÔ∏è Segregation of Duties und Conflict Management:\n‚Ä¢ SoD Matrix Definition f√ºr systematische Identifikation kritischer Rollenkombinationen\n‚Ä¢ Automated Conflict Detection f√ºr Real-time Erkennung von Interessenkonflikten\n‚Ä¢ Compensating Controls Framework f√ºr alternative Sicherheitsma√ünahmen bei unvermeidbaren Konflikten\n‚Ä¢ Periodic SoD Reviews f√ºr regelm√§√üige √úberpr√ºfung und Anpassung der Konfliktregeln\n‚Ä¢ Business Justification Framework f√ºr dokumentierte Genehmigung notwendiger Ausnahmen\n\nüîÑ Continuous Improvement und Governance Evolution:\n‚Ä¢ Governance Metrics Framework f√ºr messbare Bewertung der Governance-Effektivit√§t\n‚Ä¢ Feedback Integration f√ºr systematische Einbindung von Stakeholder-Input\n‚Ä¢ Governance Maturity Model f√ºr strukturierte Weiterentwicklung der Governance-F√§higkeiten\n‚Ä¢ Best Practice Integration f√ºr kontinuierliche Verbesserung basierend auf Industry Standards\n‚Ä¢ Innovation Governance f√ºr kontrollierte Integration neuer Technologien und Methoden"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 1 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
