import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating IAM Standards page with FAQ batch 1...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'iam-standards' })
    
    if (!existingDoc) {
      throw new Error('Document "iam-standards" not found')
    }
    
    // Create new FAQs for IAM Standards fundamentals and framework overview
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 1),
        question: 'Warum sind IAM Standards das strategische Fundament f√ºr moderne Unternehmenssicherheit und wie transformieren sie regulatorische Compliance von einer Belastung zu einem Wettbewerbsvorteil?',
        answer: "IAM Standards bilden das regulatorische R√ºckgrat moderner Unternehmenssicherheit und erm√∂glichen es Organisationen, komplexe Compliance-Landschaften systematisch zu navigieren, w√§hrend sie gleichzeitig operative Exzellenz und strategische Differenzierung erreichen. Anders als ad-hoc Sicherheitsma√ünahmen schaffen standardsbasierte IAM-Implementierungen messbare Gesch√§ftsvorteile durch strukturierte Prozesse, nachweisbare Kontrollen und kontinuierliche Verbesserung.\n\nüéØ Strategische Transformation durch Standards-Excellence:\n‚Ä¢ Regulatory Confidence durch nachweisbare Konformit√§t mit internationalen Frameworks wie ISO 27001, NIST und branchenspezifischen Standards\n‚Ä¢ Stakeholder Trust durch transparente Governance-Strukturen und dokumentierte Sicherheitsprozesse\n‚Ä¢ Operational Efficiency durch standardisierte Prozesse, die manuelle Aufw√§nde reduzieren und Automatisierung erm√∂glichen\n‚Ä¢ Risk Mitigation durch bew√§hrte Kontrollmechanismen und kontinuierliche √úberwachung\n‚Ä¢ Market Access durch Compliance-Zertifizierungen, die neue Gesch√§ftsm√∂glichkeiten erschlie√üen\n\nüõ°Ô∏è Framework-Integration f√ºr Business-Enablement:\n‚Ä¢ ISO 27001 Information Security Management als Grundlage f√ºr systematische Risikobewertung und Kontrollimplementierung\n‚Ä¢ NIST Cybersecurity Framework f√ºr adaptive, risikobasierte Sicherheitsarchitekturen\n‚Ä¢ GDPR Privacy-by-Design f√ºr vertrauensvolle Datenverarbeitung und Kundenbeziehungen\n‚Ä¢ SOX Financial Controls f√ºr Integrit√§t und Transparenz in Finanzprozessen\n‚Ä¢ Branchenspezifische Standards f√ºr Sector-Excellence und Competitive Positioning\n\nüìä Messbare Business-Impact durch Standards-Konformit√§t:\n‚Ä¢ Reduced Compliance Costs durch automatisierte Kontrollen und effiziente Audit-Prozesse\n‚Ä¢ Enhanced Customer Confidence durch nachweisbare Sicherheitsstandards und Zertifizierungen\n‚Ä¢ Improved Operational Resilience durch strukturierte Incident-Response und Business-Continuity\n‚Ä¢ Accelerated Digital Transformation durch sichere, standards-konforme Cloud-Migration\n‚Ä¢ Competitive Differentiation durch Standards-Excellence als Marktpositionierung\n\nüöÄ Innovation-Enablement durch Standards-Framework:\n‚Ä¢ Secure-by-Design Development durch integrierte Sicherheitsstandards in Entwicklungsprozessen\n‚Ä¢ Cloud-native Compliance f√ºr moderne Anwendungsarchitekturen und Microservices\n‚Ä¢ AI-powered Compliance-Monitoring f√ºr proaktive Standards-√úberwachung\n‚Ä¢ Automated Audit-Readiness durch kontinuierliche Kontrollen und Real-time Reporting\n‚Ä¢ Future-Proofing durch adaptive Standards-Frameworks, die neue Technologien integrieren\n\nüåê Global Expansion und Cross-border Compliance:\n‚Ä¢ International Standards-Harmonization f√ºr globale Gesch√§ftst√§tigkeit\n‚Ä¢ Multi-jurisdictional Compliance durch flexible Framework-Implementierung\n‚Ä¢ Cross-border Data Transfer Controls f√ºr internationale Datenverarbeitung\n‚Ä¢ Regional Adaptation von globalen Standards f√ºr lokale Compliance-Anforderungen\n‚Ä¢ Scalable Governance-Strukturen f√ºr wachsende, internationale Organisationen"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 2),
        question: 'Welche kritischen Komponenten umfasst eine comprehensive ISO 27001-konforme IAM-Implementation und wie integriert sie sich in bestehende Unternehmensprozesse?',
        answer: "Eine ISO 27001-konforme IAM-Implementation ist ein systematisches Information Security Management System, das Identit√§ts- und Zugriffsverwaltung als zentrale Sicherheitskontrolle positioniert und dabei alle Annex A Controls strategisch integriert. Diese ganzheitliche Herangehensweise transformiert IAM von einer technischen Funktion zu einem strategischen Governance-Instrument, das Gesch√§ftsprozesse unterst√ºtzt und gleichzeitig h√∂chste Sicherheitsstandards gew√§hrleistet.\n\nüèóÔ∏è ISMS-Integration und Governance-Framework:\n‚Ä¢ Information Security Policy Integration mit IAM-spezifischen Richtlinien und Verfahren\n‚Ä¢ Risk Management Framework mit systematischer Identifikation, Bewertung und Behandlung identit√§tsbezogener Risiken\n‚Ä¢ Asset Management Integration f√ºr vollst√§ndige Inventarisierung aller identit√§tsbezogenen Assets\n‚Ä¢ Organizational Security mit klaren Rollen, Verantwortlichkeiten und Segregation of Duties\n‚Ä¢ Management Review und Continuous Improvement f√ºr strategische IAM-Governance\n\nüîê Technical Controls und Security Architecture:\n‚Ä¢ Access Control Management mit granularen Berechtigungsstrukturen und Least-Privilege-Prinzipien\n‚Ä¢ Cryptography Controls f√ºr sichere Authentifizierung und Daten√ºbertragung\n‚Ä¢ Systems Security Integration mit Endpoint-Protection und Network-Security\n‚Ä¢ Application Security Controls f√ºr sichere Anwendungsintegration und API-Management\n‚Ä¢ Network Security Controls f√ºr sichere Kommunikation und Segmentierung\n\nüìã Operational Controls und Process-Integration:\n‚Ä¢ Operations Security mit standardisierten Betriebsverfahren und Change-Management\n‚Ä¢ Communications Security f√ºr sichere Informations√ºbertragung und Collaboration\n‚Ä¢ System Acquisition und Development Controls f√ºr sichere IAM-Implementierung\n‚Ä¢ Supplier Relationship Security f√ºr Third-Party-Integration und Vendor-Management\n‚Ä¢ Information Security Incident Management mit spezialisierten Identity-Incident-Prozessen\n\nüîç Monitoring und Compliance-Validation:\n‚Ä¢ Continuous Monitoring mit Real-time √úberwachung aller IAM-Aktivit√§ten\n‚Ä¢ Internal Audit Programme mit spezialisierten IAM-Audit-Verfahren\n‚Ä¢ Management Review Processes f√ºr strategische IAM-Bewertung und Optimierung\n‚Ä¢ Corrective Action Management f√ºr systematische Verbesserung\n‚Ä¢ Performance Measurement mit KPIs f√ºr IAM-Effectiveness und Efficiency\n\nüìä Documentation und Evidence-Management:\n‚Ä¢ Policy und Procedure Documentation mit vollst√§ndiger IAM-Prozessbeschreibung\n‚Ä¢ Risk Assessment Documentation mit detaillierter Analyse identit√§tsbezogener Bedrohungen\n‚Ä¢ Control Implementation Evidence mit nachweisbarer Umsetzung aller Sicherheitskontrollen\n‚Ä¢ Training und Awareness Records f√ºr Mitarbeiterqualifikation und Compliance-Schulungen\n‚Ä¢ Audit Trail Management mit umfassender Protokollierung aller sicherheitsrelevanten Aktivit√§ten\n\nüöÄ Business Process Integration:\n‚Ä¢ HR Process Integration f√ºr automatisierte Lifecycle-Management und Onboarding/Offboarding\n‚Ä¢ IT Service Management Integration f√ºr effiziente Incident- und Change-Prozesse\n‚Ä¢ Business Continuity Integration f√ºr Disaster-Recovery und Emergency-Access\n‚Ä¢ Vendor Management Integration f√ºr sichere Third-Party-Access und Supplier-Onboarding\n‚Ä¢ Compliance Reporting Integration f√ºr automatisierte Regulatory-Reporting und Management-Dashboards"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 3),
        question: 'Wie implementiert man NIST Cybersecurity Framework-konforme IAM-Systeme f√ºr adaptive, risikobasierte Sicherheitsarchitekturen und kontinuierliche Threat-Response?',
        answer: "NIST Cybersecurity Framework-konforme IAM-Systeme implementieren eine adaptive, risikobasierte Sicherheitsarchitektur, die alle f√ºnf Core Functions systematisch integriert und dabei kontinuierliche Bedrohungsabwehr mit gesch√§ftsorientierter Flexibilit√§t verbindet. Diese Herangehensweise transformiert traditionelle, statische Zugriffskontrolle in ein intelligentes, selbstadaptierendes System, das Bedrohungen proaktiv erkennt und darauf reagiert.\n\nüéØ Identify Function und Asset-centric IAM:\n‚Ä¢ Asset Management mit vollst√§ndiger Inventarisierung aller identit√§tsbezogenen Assets und Datenfl√ºsse\n‚Ä¢ Business Environment Analysis f√ºr Verst√§ndnis der Rolle von IAM in kritischen Gesch√§ftsprozessen\n‚Ä¢ Governance Framework mit klaren IAM-Richtlinien, die Gesch√§ftsziele unterst√ºtzen\n‚Ä¢ Risk Assessment mit kontinuierlicher Bewertung identit√§tsbezogener Bedrohungen und Vulnerabilities\n‚Ä¢ Risk Management Strategy mit risikobasierten Entscheidungen f√ºr Zugriffskontrolle und Authentifizierung\n\nüõ°Ô∏è Protect Function und Proactive Security Controls:\n‚Ä¢ Identity Management und Authentication mit Multi-Factor-Authentication und Adaptive Controls\n‚Ä¢ Access Control mit dynamischen, kontextbasierten Autorisierungsentscheidungen\n‚Ä¢ Awareness und Training f√ºr Benutzer-Education und Security-Consciousness\n‚Ä¢ Data Security mit Identity-driven Data Protection und Privacy Controls\n‚Ä¢ Information Protection Processes mit integrierten IAM-Sicherheitsverfahren\n\nüîç Detect Function und Continuous Monitoring:\n‚Ä¢ Anomalies und Events Detection mit KI-gest√ºtzter Erkennung ungew√∂hnlicher Identit√§tsaktivit√§ten\n‚Ä¢ Security Continuous Monitoring mit Real-time √úberwachung aller IAM-Transaktionen\n‚Ä¢ Detection Processes mit automatisierten Alerting-Systemen und Threat-Intelligence-Integration\n‚Ä¢ Behavioral Analytics f√ºr Erkennung von Insider-Threats und Account-Compromise\n‚Ä¢ Identity Analytics mit Machine Learning f√ºr pr√§diktive Bedrohungserkennung\n\n‚ö° Respond Function und Incident Management:\n‚Ä¢ Response Planning mit spezialisierten Identity-Incident-Response-Verfahren\n‚Ä¢ Communications w√§hrend Sicherheitsvorf√§llen mit klaren Eskalationspfaden\n‚Ä¢ Analysis von Identity-related Incidents mit Forensic-Capabilities\n‚Ä¢ Mitigation Strategies f√ºr schnelle Eind√§mmung kompromittierter Identit√§ten\n‚Ä¢ Improvements basierend auf Lessons Learned aus Identity-Sicherheitsvorf√§llen\n\nüîÑ Recover Function und Business Continuity:\n‚Ä¢ Recovery Planning mit Identity-spezifischen Disaster-Recovery-Verfahren\n‚Ä¢ Improvements durch kontinuierliche Optimierung der IAM-Resilienz\n‚Ä¢ Communications w√§hrend Recovery-Phasen mit Stakeholder-Management\n‚Ä¢ Business Continuity f√ºr kritische Identit√§tsdienste und Zugriffsfunktionen\n‚Ä¢ Lessons Learned Integration f√ºr kontinuierliche Verbesserung der Recovery-Capabilities\n\nüìä Risk-based Implementation und Adaptive Controls:\n‚Ä¢ Dynamic Risk Scoring mit Real-time Bewertung von Benutzer-, Ger√§te- und Kontextrisiken\n‚Ä¢ Adaptive Authentication mit intelligenter Anpassung der Sicherheitsanforderungen\n‚Ä¢ Contextual Access Control mit Ber√ºcksichtigung von Zeit, Ort, Ger√§t und Verhalten\n‚Ä¢ Threat Intelligence Integration f√ºr proaktive Anpassung an neue Bedrohungslandschaften\n‚Ä¢ Continuous Assessment mit regelm√§√üiger Neubewertung und Anpassung der Sicherheitskontrollen"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 4),
        question: 'Welche spezifischen Herausforderungen entstehen bei der Integration multipler IAM-Standards in komplexen Enterprise-Umgebungen und wie l√∂st man Konflikte zwischen verschiedenen Compliance-Frameworks?',
        answer: "Die Integration multipler IAM-Standards in komplexen Enterprise-Umgebungen erfordert eine strategische Orchestrierung verschiedener Compliance-Frameworks, die oft unterschiedliche Anforderungen, Terminologien und Implementierungsans√§tze haben. Diese Herausforderung transformiert sich durch systematisches Framework-Mapping und intelligente Governance-Strukturen von einem komplexen Problem zu einem strategischen Differentiator, der umfassende Compliance-Excellence erm√∂glicht.\n\nüéØ Framework-Harmonization und Strategic Alignment:\n‚Ä¢ Multi-Standard Mapping mit systematischer Analyse von √úberschneidungen und Synergien zwischen ISO 27001, NIST, GDPR, SOX und branchenspezifischen Standards\n‚Ä¢ Unified Governance Model mit zentraler Koordination verschiedener Compliance-Anforderungen\n‚Ä¢ Risk-based Prioritization f√ºr effiziente Ressourcenallokation bei konkurrierenden Standards-Anforderungen\n‚Ä¢ Business-aligned Implementation mit Fokus auf Gesch√§ftswert statt reiner Compliance-Erf√ºllung\n‚Ä¢ Stakeholder Alignment f√ºr koordinierte Umsetzung √ºber verschiedene Organisationsebenen hinweg\n\n‚öñÔ∏è Conflict Resolution und Standards-Integration:\n‚Ä¢ Requirement Analysis mit detaillierter Bewertung widerspr√ºchlicher oder √ºberlappender Anforderungen\n‚Ä¢ Gap Assessment f√ºr Identifikation von Standards-L√ºcken und Redundanzen\n‚Ä¢ Unified Control Framework mit konsolidierten Kontrollen, die multiple Standards erf√ºllen\n‚Ä¢ Exception Management f√ºr systematische Behandlung unvermeidbarer Standards-Konflikte\n‚Ä¢ Continuous Reconciliation mit regelm√§√üiger √úberpr√ºfung und Anpassung der Framework-Integration\n\nüèóÔ∏è Architecture Design f√ºr Multi-Standard Compliance:\n‚Ä¢ Modular IAM Architecture mit flexiblen Komponenten, die verschiedene Standards-Anforderungen erf√ºllen\n‚Ä¢ Policy Engine Integration mit einheitlicher Regelverarbeitung f√ºr multiple Compliance-Frameworks\n‚Ä¢ Data Model Harmonization f√ºr konsistente Identit√§tsdaten √ºber verschiedene Standards hinweg\n‚Ä¢ Audit Trail Consolidation mit umfassender Protokollierung f√ºr alle relevanten Standards\n‚Ä¢ Reporting Framework Integration mit einheitlichen Dashboards f√ºr Multi-Standard-Compliance\n\nüìä Operational Excellence und Process-Integration:\n‚Ä¢ Unified Workflow Design mit Prozessen, die mehrere Standards gleichzeitig erf√ºllen\n‚Ä¢ Cross-functional Team Coordination f√ºr effektive Zusammenarbeit zwischen verschiedenen Compliance-Bereichen\n‚Ä¢ Training Programme Integration mit umfassender Schulung f√ºr Multi-Standard-Compliance\n‚Ä¢ Change Management Coordination f√ºr synchronisierte Updates bei Standards-√Ñnderungen\n‚Ä¢ Performance Measurement mit KPIs, die Effectiveness √ºber alle relevanten Standards messen\n\nüîÑ Continuous Improvement und Standards-Evolution:\n‚Ä¢ Standards Monitoring mit proaktiver √úberwachung von √Ñnderungen in relevanten Frameworks\n‚Ä¢ Impact Assessment f√ºr systematische Bewertung neuer Standards-Anforderungen\n‚Ä¢ Adaptive Implementation mit flexiblen Anpassungen an evolvierende Compliance-Landschaften\n‚Ä¢ Best Practice Integration mit kontinuierlicher Optimierung basierend auf Multi-Standard-Erfahrungen\n‚Ä¢ Innovation Integration mit Nutzung neuer Technologien f√ºr effizientere Multi-Standard-Compliance\n\nüåê Global Complexity und Regional Adaptation:\n‚Ä¢ Multi-jurisdictional Compliance mit Ber√ºcksichtigung regionaler Variationen globaler Standards\n‚Ä¢ Cultural Adaptation f√ºr effektive Standards-Implementation in verschiedenen Unternehmenskulturen\n‚Ä¢ Vendor Ecosystem Integration mit koordinierter Third-Party-Compliance √ºber multiple Standards\n‚Ä¢ Scalability Planning f√ºr wachsende Organisationen mit sich entwickelnden Standards-Anforderungen\n‚Ä¢ Future-Proofing mit adaptiven Architekturen, die neue Standards nahtlos integrieren k√∂nnen"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 1 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
