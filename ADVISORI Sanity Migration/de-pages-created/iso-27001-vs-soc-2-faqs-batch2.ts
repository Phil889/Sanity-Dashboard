import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating ISO 27001 vs SOC 2 page with FAQ batch 2...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'iso-27001-vs-soc-2' })
    
    if (!existingDoc) {
      throw new Error('Document "iso-27001-vs-soc-2" not found')
    }
    
    // Create new FAQs for technical implementation and audit aspects
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 5),
        question: 'Wie unterscheiden sich die Audit-Prozesse und Zertifizierungsverfahren zwischen ISO 27001 und SOC 2?',
        answer: "Die Audit-Prozesse und Zertifizierungsverfahren von ISO 27001 und SOC 2 unterscheiden sich fundamental in Struktur, Durchf√ºhrung und Ergebnissen. Diese Unterschiede spiegeln die verschiedenen Philosophien und Zielgruppen beider Standards wider und haben erhebliche Auswirkungen auf Planung, Ressourcenallokation und strategische Compliance-Entscheidungen.\n\nüèõÔ∏è Zertifizierungsstruktur und Autorit√§t:\n‚Ä¢ ISO 27001 wird durch akkreditierte Zertifizierungsstellen durchgef√ºhrt, die von nationalen Akkreditierungsstellen autorisiert sind\n‚Ä¢ SOC 2 Attestationen werden ausschlie√ülich von lizenzierten Certified Public Accountants durchgef√ºhrt\n‚Ä¢ ISO 27001 Zertifikate haben internationale Anerkennung und G√ºltigkeit\n‚Ä¢ SOC 2 Reports sind prim√§r f√ºr den US-amerikanischen Markt konzipiert\n‚Ä¢ ISO 27001 folgt einem standardisierten, global einheitlichen Zertifizierungsprozess\n\nüìã Audit-Umfang und Methodologie:\n‚Ä¢ ISO 27001 Audits bewerten das gesamte Informationssicherheitsmanagementsystem systematisch\n‚Ä¢ SOC 2 Pr√ºfungen fokussieren auf spezifische Trust Services Criteria und deren operative Wirksamkeit\n‚Ä¢ ISO 27001 erfordert Bewertung aller anwendbaren Anhang A Kontrollen und deren Implementierung\n‚Ä¢ SOC 2 konzentriert sich auf Security als Mindestanforderung plus optional weitere Kriterien\n‚Ä¢ ISO 27001 Audits beinhalten umfassende Dokumentenpr√ºfung und Managementsystem-Bewertung\n\n‚è∞ Audit-Zyklen und Zeitrahmen:\n‚Ä¢ ISO 27001: Dreij√§hriger Zertifizierungszyklus mit j√§hrlichen √úberwachungsaudits\n‚Ä¢ SOC 2: J√§hrliche Attestation mit flexiblen Berichtszeitr√§umen\n‚Ä¢ ISO 27001 Stage 1 und Stage 2 Audits f√ºr Erstzertifizierung\n‚Ä¢ SOC 2 Type I (Stichtag) oder Type II (Zeitraum) Pr√ºfungen\n‚Ä¢ ISO 27001 Rezertifizierung alle drei Jahre mit vollst√§ndiger Systembewertung\n\nüîç Pr√ºfungstiefe und Evidenzanforderungen:\n‚Ä¢ ISO 27001 Audits erfordern umfassende Evidenz f√ºr Managementsystem-Wirksamkeit\n‚Ä¢ SOC 2 Pr√ºfungen fokussieren auf operative Kontrolltests und Stichprobenverfahren\n‚Ä¢ ISO 27001 bewertet kontinuierliche Verbesserung und PDCA-Zyklus-Implementierung\n‚Ä¢ SOC 2 testet Kontrolldesign und operative Wirksamkeit √ºber definierten Zeitraum\n‚Ä¢ ISO 27001 erfordert Nachweis von Managementbewertungen und strategischen Entscheidungen\n\nüìä Berichterstattung und Ergebnisse:\n‚Ä¢ ISO 27001 resultiert in √∂ffentlichem Zertifikat mit G√ºltigkeitsdauer und Scope-Definition\n‚Ä¢ SOC 2 erzeugt vertrauliche Reports f√ºr spezifische Stakeholder und Gesch√§ftspartner\n‚Ä¢ ISO 27001 Audit-Reports enthalten Nonkonformit√§ten und Verbesserungsempfehlungen\n‚Ä¢ SOC 2 Reports beschreiben Kontrollziele, Tests und identifizierte Ausnahmen\n‚Ä¢ ISO 27001 erm√∂glicht √∂ffentliche Kommunikation der Zertifizierung f√ºr Marketingzwecke\n\nüéØ Vorbereitung und Ressourcenanforderungen:\n‚Ä¢ ISO 27001 erfordert umfassende ISMS-Dokumentation und Managementsystem-Implementierung\n‚Ä¢ SOC 2 ben√∂tigt detaillierte Kontrollbeschreibungen und operative Evidenz\n‚Ä¢ ISO 27001 Vorbereitung umfasst typischerweise 12 bis 18 Monate systematische Entwicklung\n‚Ä¢ SOC 2 Readiness kann in 6 bis 12 Monaten erreicht werden bei fokussierter Implementierung\n‚Ä¢ Beide Standards erfordern kontinuierliche Wartung und Compliance-√úberwachung"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 6),
        question: 'Welche technischen Kontrollen und Sicherheitsma√ünahmen √ºberschneiden sich zwischen ISO 27001 und SOC 2?',
        answer: "Die technischen Kontrollen und Sicherheitsma√ünahmen von ISO 27001 und SOC 2 weisen erhebliche √úberschneidungen auf, die strategische Synergien f√ºr parallele Implementierungen erm√∂glichen. Diese gemeinsamen Anforderungen bilden das Fundament f√ºr effiziente, integrierte Compliance-Strategien und reduzieren den Gesamtaufwand f√ºr Organisationen, die beide Standards anstreben.\n\nüîê Zugangskontrollen und Identit√§tsmanagement:\n‚Ä¢ Beide Standards erfordern robuste Benutzerauthentifizierung und Autorisierungsverfahren\n‚Ä¢ Multi-Faktor-Authentifizierung wird in beiden Frameworks als Best Practice empfohlen\n‚Ä¢ Privilegierte Zugriffsrechte m√ºssen kontrolliert, √ºberwacht und regelm√§√üig √ºberpr√ºft werden\n‚Ä¢ Benutzerkonten-Lifecycle-Management von Erstellung bis Deaktivierung ist zentral\n‚Ä¢ Rollenbasierte Zugangskontrollen und Prinzip der minimalen Berechtigung gelten f√ºr beide\n\nüñ•Ô∏è Systemh√§rtung und Konfigurationsmanagement:\n‚Ä¢ Sichere Systemkonfigurationen und H√§rtungsstandards sind in beiden Standards erforderlich\n‚Ä¢ Patch-Management und Vulnerability-Management-Prozesse m√ºssen implementiert werden\n‚Ä¢ Netzwerksegmentierung und Firewall-Konfigurationen adressieren beide Compliance-Anforderungen\n‚Ä¢ Antimalware-Schutz und Endpoint-Security-Ma√ünahmen erf√ºllen √ºberlappende Kontrollziele\n‚Ä¢ Change-Management-Prozesse f√ºr System√§nderungen sind in beiden Frameworks zentral\n\nüìä Monitoring und Logging:\n‚Ä¢ Umfassende Protokollierung von Sicherheitsereignissen und Systemaktivit√§ten ist erforderlich\n‚Ä¢ Security Information and Event Management Systeme unterst√ºtzen beide Compliance-Ziele\n‚Ä¢ Log-Retention-Richtlinien und sichere Log-Speicherung erf√ºllen beide Standard-Anforderungen\n‚Ä¢ Incident Detection und Response-Capabilities adressieren √ºberlappende Kontrollbereiche\n‚Ä¢ Kontinuierliches Monitoring und Alerting-Mechanismen sind in beiden Standards zentral\n\nüîí Datenschutz und Kryptografie:\n‚Ä¢ Verschl√ºsselung sensibler Daten in Transit und at Rest wird von beiden Standards gefordert\n‚Ä¢ Kryptografische Schl√ºsselverwaltung und sichere Schl√ºsselrotation sind gemeinsame Anforderungen\n‚Ä¢ Datenklassifizierung und entsprechende Schutzma√ünahmen √ºberschneiden sich erheblich\n‚Ä¢ Sichere Datenvernichtung und Datenaufbewahrungsrichtlinien erf√ºllen beide Frameworks\n‚Ä¢ Privacy-by-Design-Prinzipien werden in beiden Standards als Best Practice betrachtet\n\nüåê Netzwerksicherheit und Infrastruktur:\n‚Ä¢ Netzwerksegmentierung und DMZ-Implementierung adressieren beide Standard-Anforderungen\n‚Ä¢ Intrusion Detection und Prevention Systeme unterst√ºtzen √ºberlappende Kontrollziele\n‚Ä¢ Sichere Remote-Access-L√∂sungen und VPN-Konfigurationen erf√ºllen beide Frameworks\n‚Ä¢ Wireless-Security-Standards und sichere WLAN-Konfigurationen sind gemeinsame Anforderungen\n‚Ä¢ Physische Sicherheitskontrollen f√ºr IT-Infrastruktur √ºberschneiden sich in beiden Standards\n\nüîÑ Business Continuity und Disaster Recovery:\n‚Ä¢ Backup-Strategien und Datenwiederherstellungsverfahren erf√ºllen beide Compliance-Anforderungen\n‚Ä¢ Business Continuity Planning und Disaster Recovery Testing sind in beiden Standards zentral\n‚Ä¢ Redundanz und Hochverf√ºgbarkeitsarchitekturen adressieren √ºberlappende Kontrollbereiche\n‚Ä¢ Incident Response und Crisis Management Prozesse unterst√ºtzen beide Frameworks\n‚Ä¢ Regelm√§√üige Tests und √úbungen f√ºr Notfallverfahren sind gemeinsame Best Practices"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 7),
        question: 'Wie wirken sich regulatorische Anforderungen und Compliance-Verpflichtungen auf die Wahl zwischen ISO 27001 und SOC 2 aus?',
        answer: "Regulatorische Anforderungen und Compliance-Verpflichtungen spielen eine entscheidende Rolle bei der strategischen Wahl zwischen ISO 27001 und SOC 2. Die verschiedenen regulatorischen Landschaften, branchenspezifischen Anforderungen und geografischen Compliance-Verpflichtungen beeinflussen ma√ügeblich, welcher Standard f√ºr eine Organisation optimal ist oder ob eine Kombination beider Standards erforderlich ist.\n\nüèõÔ∏è Regulatorische Anerkennung und Akzeptanz:\n‚Ä¢ ISO 27001 wird von europ√§ischen Regulierungsbeh√∂rden und internationalen Standards-Organisationen formal anerkannt\n‚Ä¢ SOC 2 ist prim√§r in US-amerikanischen regulatorischen Frameworks und Branchenstandards etabliert\n‚Ä¢ GDPR und andere EU-Datenschutzgesetze referenzieren h√§ufig ISO 27001 als angemessene Sicherheitsma√ünahme\n‚Ä¢ US-Bundesbeh√∂rden und staatliche Regulierer akzeptieren SOC 2 als Nachweis f√ºr Sicherheitskontrollen\n‚Ä¢ Internationale Organisationen bevorzugen oft ISO 27001 f√ºr globale Compliance-Strategien\n\nüè¶ Branchenspezifische Regulierungsanforderungen:\n‚Ä¢ Finanzdienstleister m√ºssen oft beide Standards implementieren f√ºr umfassende regulatorische Abdeckung\n‚Ä¢ Gesundheitswesen kombiniert ISO 27001 mit HIPAA-Compliance und branchenspezifischen Anforderungen\n‚Ä¢ Cloud-Service-Provider nutzen SOC 2 f√ºr US-Markt und ISO 27001 f√ºr internationale Expansion\n‚Ä¢ Kritische Infrastrukturen implementieren ISO 27001 f√ºr systematisches Risikomanagement\n‚Ä¢ √ñffentliche Auftraggeber spezifizieren h√§ufig ISO 27001 als Mindestanforderung in Ausschreibungen\n\nüìã Compliance-Mapping und regulatorische Synergien:\n‚Ä¢ ISO 27001 unterst√ºtzt GDPR-Compliance durch systematisches Datenschutz-Management\n‚Ä¢ SOC 2 erf√ºllt viele Anforderungen von CCPA und anderen US-Datenschutzgesetzen\n‚Ä¢ Beide Standards k√∂nnen PCI DSS-Compliance unterst√ºtzen durch √ºberlappende Sicherheitskontrollen\n‚Ä¢ ISO 27001 adressiert NIS2-Richtlinie und andere EU-Cybersecurity-Regulierungen\n‚Ä¢ SOC 2 unterst√ºtzt NIST Cybersecurity Framework und US-Federal-Compliance-Anforderungen\n\nüåç Geografische Compliance-√úberlegungen:\n‚Ä¢ Europ√§ische Organisationen bevorzugen ISO 27001 f√ºr GDPR und lokale Datenschutzgesetze\n‚Ä¢ US-amerikanische Unternehmen nutzen SOC 2 f√ºr staatliche und bundesweite Compliance-Anforderungen\n‚Ä¢ Multinationale Konzerne implementieren beide Standards f√ºr umfassende geografische Abdeckung\n‚Ä¢ Emerging Markets orientieren sich oft an ISO 27001 f√ºr internationale Standardisierung\n‚Ä¢ Cross-Border-Daten√ºbertragungen erfordern h√§ufig ISO 27001-Zertifizierung als Angemessenheitsbescheid\n\n‚öñÔ∏è Rechtliche Haftung und Risikominderung:\n‚Ä¢ ISO 27001-Zertifizierung kann rechtliche Haftung bei Datenschutzverletzungen reduzieren\n‚Ä¢ SOC 2-Attestation bietet Nachweis f√ºr angemessene Sorgfaltspflicht gegen√ºber Kunden\n‚Ä¢ Beide Standards unterst√ºtzen Cyber-Versicherungsantr√§ge und k√∂nnen Pr√§mien reduzieren\n‚Ä¢ Regulatorische Strafen k√∂nnen durch nachweisbare Compliance-Bem√ºhungen gemildert werden\n‚Ä¢ Due-Diligence-Prozesse bei M&A-Transaktionen bewerten oft beide Standard-Implementierungen\n\nüîÑ Evolution√§re Compliance-Strategien:\n‚Ä¢ Organisationen beginnen oft mit einem Standard und erweitern basierend auf regulatorischen Entwicklungen\n‚Ä¢ Neue Regulierungen erfordern m√∂glicherweise Erg√§nzung bestehender Compliance-Programme\n‚Ä¢ Internationale Expansion kann zus√§tzliche Standard-Implementierungen notwendig machen\n‚Ä¢ Branchenwechsel oder neue Gesch√§ftsmodelle k√∂nnen andere Compliance-Anforderungen ausl√∂sen\n‚Ä¢ Kontinuierliche √úberwachung regulatorischer Entwicklungen informiert strategische Compliance-Entscheidungen"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 8),
        question: 'Welche Rolle spielen Stakeholder-Anforderungen und Kundenerwartungen bei der Entscheidung zwischen ISO 27001 und SOC 2?',
        answer: "Stakeholder-Anforderungen und Kundenerwartungen sind oft der entscheidende Faktor bei der Wahl zwischen ISO 27001 und SOC 2. Diese externen Anforderungen k√∂nnen strategische Compliance-Entscheidungen dominieren und erfordern eine sorgf√§ltige Analyse der verschiedenen Stakeholder-Gruppen, ihrer spezifischen Erwartungen und der langfristigen Gesch√§ftsauswirkungen.\n\nüë• Kundentypen und deren Pr√§ferenzen:\n‚Ä¢ Enterprise-Kunden fordern h√§ufig beide Standards f√ºr umfassende Due-Diligence-Prozesse\n‚Ä¢ US-amerikanische Kunden erwarten prim√§r SOC 2-Attestation von Service-Providern\n‚Ä¢ Europ√§ische und internationale Kunden bevorzugen ISO 27001-Zertifizierung\n‚Ä¢ Regulierte Industrien verlangen oft spezifische Standards basierend auf Branchenanforderungen\n‚Ä¢ Startup-Kunden akzeptieren m√∂glicherweise weniger formale Compliance-Nachweise\n\nüè¢ Gesch√§ftspartner und Lieferantenbeziehungen:\n‚Ä¢ Gro√üe Konzerne spezifizieren oft ISO 27001 als Mindestanforderung f√ºr Lieferanten\n‚Ä¢ Cloud-Provider und SaaS-Anbieter erwarten SOC 2 von ihren Subunternehmern\n‚Ä¢ Internationale Partnerschaften erfordern h√§ufig global anerkannte Standards wie ISO 27001\n‚Ä¢ Branchenspezifische Partnernetzwerke haben etablierte Compliance-Erwartungen\n‚Ä¢ Strategische Allianzen k√∂nnen zus√§tzliche Standard-Anforderungen einf√ºhren\n\nüíº Investoren und Finanzierungspartner:\n‚Ä¢ Venture Capital und Private Equity bewerten Compliance-Reife als Risikofaktor\n‚Ä¢ √ñffentliche Unternehmen m√ºssen Stakeholder-Erwartungen an Governance und Risikomanagement erf√ºllen\n‚Ä¢ Internationale Investoren bevorzugen oft global anerkannte Standards wie ISO 27001\n‚Ä¢ Debt-Financing kann spezifische Compliance-Covenants enthalten\n‚Ä¢ M&A-Transaktionen bewerten Compliance-Status als wesentlichen Wertfaktor\n\nüéØ Marktpositionierung und Wettbewerbsdifferenzierung:\n‚Ä¢ Premium-Marktpositionierung erfordert oft umfassende Compliance-Nachweise\n‚Ä¢ Wettbewerbsausschreibungen spezifizieren h√§ufig bestimmte Zertifizierungsanforderungen\n‚Ä¢ Branchenf√ºhrerschaft erfordert Demonstration von Best-Practice-Compliance\n‚Ä¢ Neue Markterschlie√üung kann andere Standard-Anforderungen mit sich bringen\n‚Ä¢ Kundenakquisition wird oft durch verf√ºgbare Compliance-Zertifikate beeinflusst\n\nüìä Stakeholder-Kommunikation und Transparenz:\n‚Ä¢ ISO 27001-Zertifikate erm√∂glichen √∂ffentliche Kommunikation und Marketingnutzung\n‚Ä¢ SOC 2-Reports bieten detaillierte, vertrauliche Einblicke f√ºr spezifische Stakeholder\n‚Ä¢ Verschiedene Stakeholder-Gruppen ben√∂tigen unterschiedliche Arten von Compliance-Nachweisen\n‚Ä¢ Regelm√§√üige Stakeholder-Kommunikation √ºber Compliance-Status ist erforderlich\n‚Ä¢ Transparenz √ºber Compliance-Roadmap und zuk√ºnftige Pl√§ne baut Vertrauen auf\n\nüîÑ Dynamische Stakeholder-Anforderungen:\n‚Ä¢ Stakeholder-Erwartungen entwickeln sich mit regulatorischen und Marktver√§nderungen\n‚Ä¢ Neue Kunden k√∂nnen andere Compliance-Anforderungen einf√ºhren\n‚Ä¢ Internationale Expansion erfordert Anpassung an lokale Stakeholder-Erwartungen\n‚Ä¢ Branchenwandel kann neue Compliance-Standards relevant machen\n‚Ä¢ Kontinuierliche Stakeholder-Analyse informiert strategische Compliance-Entscheidungen"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 2 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
