import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating IAM Software page with FAQ batch 1...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'iam-software' })
    
    if (!existingDoc) {
      throw new Error('Document "iam-software" not found')
    }
    
    // Create new FAQs for IAM Software fundamentals and selection criteria
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 1),
        question: 'Was sind die wichtigsten Kriterien bei der Auswahl einer IAM Software und wie unterscheiden sich die verschiedenen L√∂sungsans√§tze?',
        answer: "Die Auswahl der richtigen IAM Software ist eine strategische Entscheidung, die das Fundament Ihrer gesamten Cybersecurity-Architektur bildet. Moderne IAM L√∂sungen unterscheiden sich erheblich in ihren Sicherheitsfeatures, Architekturen und Deployment-Modellen, weshalb eine systematische Evaluierung basierend auf klar definierten Sicherheitskriterien unerl√§sslich ist.\n\nüîê Sicherheits- und Authentifizierungsfeatures:\n‚Ä¢ Multi-Faktor-Authentifizierung mit verschiedenen Authentifizierungsmethoden und adaptiver Sicherheit\n‚Ä¢ Single Sign-On Capabilities mit nahtloser Integration in bestehende Anwendungslandschaften\n‚Ä¢ Privileged Access Management f√ºr kritische Systemzugriffe und administrative Funktionen\n‚Ä¢ Identity Federation und Standards-Compliance f√ºr sichere Cross-Domain-Authentifizierung\n‚Ä¢ Behavioral Analytics und Risk-based Authentication f√ºr erweiterte Bedrohungserkennung\n\nüèóÔ∏è Architektur und Deployment-Optionen:\n‚Ä¢ Cloud-native IAM Plattformen bieten Skalierbarkeit und reduzierte Infrastruktur-Komplexit√§t\n‚Ä¢ On-Premise IAM L√∂sungen erm√∂glichen maximale Kontrolle und Datensouver√§nit√§t\n‚Ä¢ Hybride Ans√§tze kombinieren Cloud-Flexibilit√§t mit lokaler Kontrolle f√ºr kritische Identit√§ten\n‚Ä¢ Identity-as-a-Service Modelle reduzieren Betriebsaufwand bei gleichzeitiger professioneller Wartung\n‚Ä¢ Microservices-Architekturen f√ºr modulare Implementierung und flexible Skalierung\n\n‚ö° Performance und Skalierbarkeits-Anforderungen:\n‚Ä¢ Authentifizierungs-Latenz und Response-Zeiten f√ºr optimale User Experience\n‚Ä¢ Concurrent User Capacity und Peak-Load-Handling f√ºr gro√üe Organisationen\n‚Ä¢ Directory-Integration und Synchronisations-Performance mit bestehenden Systemen\n‚Ä¢ High Availability und Disaster Recovery Capabilities f√ºr Business Continuity\n‚Ä¢ Global Distribution und Multi-Region-Support f√ºr internationale Organisationen\n\nüîó Integration und Interoperabilit√§t:\n‚Ä¢ Native Konnektoren f√ºr g√§ngige Enterprise-Anwendungen und Cloud-Services\n‚Ä¢ API-Verf√ºgbarkeit f√ºr Custom Integrationen und Workflow-Automatisierung\n‚Ä¢ Standards-Compliance mit SAML, OAuth, OpenID Connect und anderen Identity-Protokollen\n‚Ä¢ Directory Services Integration mit Active Directory, LDAP und Cloud-Directories\n‚Ä¢ DevOps und CI/CD Pipeline Integration f√ºr moderne Entwicklungsumgebungen\n\nüí∞ Total Cost of Ownership und Lizenzmodelle:\n‚Ä¢ Transparente Lizenzstrukturen basierend auf User Count, Features oder Transaktionen\n‚Ä¢ Versteckte Kosten f√ºr Professional Services, Training und Ongoing Support\n‚Ä¢ Infrastructure Requirements und damit verbundene Hardware- oder Cloud-Kosten\n‚Ä¢ Operational Expenses f√ºr Administration, Wartung und kontinuierliche Optimierung\n‚Ä¢ Security ROI-Betrachtung basierend auf Risikoreduktion und Compliance-Verbesserungen"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 2),
        question: 'Wie bewerten Sie Enterprise IAM L√∂sungen im Vergleich zu Cloud-basierten Identity-as-a-Service Angeboten?',
        answer: "Die Entscheidung zwischen Enterprise IAM L√∂sungen und Cloud-basierten Identity-as-a-Service Angeboten ist eine der fundamentalsten Architektur-Entscheidungen bei der IAM Software Auswahl. Beide Ans√§tze bieten spezifische Sicherheitsvorteile und Herausforderungen, die sorgf√§ltig gegen die organisatorischen Anforderungen, Compliance-Vorgaben und Sicherheitsziele abgewogen werden m√ºssen.\n\nüè¢ Enterprise IAM Charakteristika und Kontrolle:\n‚Ä¢ Vollst√§ndige Kontrolle √ºber Identity-Daten und Authentifizierungs-Prozesse\n‚Ä¢ Anpassbare Sicherheitsrichtlinien und Custom Authentication Flows\n‚Ä¢ Integration in bestehende Enterprise-Infrastrukturen und Legacy-Systeme\n‚Ä¢ Compliance-Konformit√§t f√ºr regulierte Industrien mit strikten Data Residency Anforderungen\n‚Ä¢ Erweiterte Audit-Capabilities und detaillierte Logging f√ºr Forensik und Compliance\n\n‚òÅÔ∏è Identity-as-a-Service Vorteile und Flexibilit√§t:\n‚Ä¢ Schnelle Deployment-Zyklen ohne komplexe Infrastruktur-Setup und Wartung\n‚Ä¢ Automatische Updates und Security Patches ohne Downtime oder manuelle Intervention\n‚Ä¢ Globale Verf√ºgbarkeit und Built-in Disaster Recovery durch Cloud Provider Infrastructure\n‚Ä¢ Elastische Skalierung basierend auf aktuellen Anforderungen mit Pay-as-you-Grow Modellen\n‚Ä¢ Integrierte Threat Intelligence und Advanced Security Features durch Cloud-Provider\n\nüîí Sicherheits- und Compliance-√úberlegungen:\n‚Ä¢ Data Privacy Regulations und geografische Beschr√§nkungen f√ºr Identity-Datenverarbeitung\n‚Ä¢ Shared Responsibility Models in Cloud-Umgebungen versus Full Control in Enterprise Deployments\n‚Ä¢ Encryption-Standards f√ºr Identity Data in Transit und Data at Rest\n‚Ä¢ Access Control und Administrative Segregation f√ºr verschiedene Deployment-Modelle\n‚Ä¢ Audit-Trails und Compliance-Dokumentation f√ºr regulierte Industrien\n\nüí∞ Kostenstrukturen und Investment-Modelle:\n‚Ä¢ CAPEX versus OPEX Modelle und deren Auswirkungen auf IT-Budget und Cash Flow\n‚Ä¢ Versteckte Kosten in Cloud-Modellen wie Premium Support und Advanced Features\n‚Ä¢ Personalkosten f√ºr IAM Administration und Maintenance in verschiedenen Deployment-Szenarien\n‚Ä¢ Skalierungskosten bei wachsenden User-Zahlen und erweiterten Feature-Anforderungen\n‚Ä¢ Security Investment ROI f√ºr verschiedene Deployment-Modelle und Kostenstrukturen\n\nüîÑ Hybrid und Multi-Cloud Identity Strategien:\n‚Ä¢ Hybrid IAM Architekturen f√ºr die Kombination von Enterprise und Cloud-Komponenten\n‚Ä¢ Multi-Cloud Identity Management zur Vermeidung von Vendor Lock-in\n‚Ä¢ Identity Tiering Strategien mit verschiedenen Sicherheitsstufen f√ºr unterschiedliche User-Gruppen\n‚Ä¢ Graduelle Migration-Pfade von Enterprise zu Cloud-basierten IAM L√∂sungen\n‚Ä¢ Edge Identity Services f√ºr lokale Authentifizierung mit zentraler Cloud-Orchestrierung\n\n‚öñÔ∏è Entscheidungsframework und Bewertungskriterien:\n‚Ä¢ Risk Assessment f√ºr verschiedene Deployment-Modelle basierend auf Threat Landscape\n‚Ä¢ Performance Requirements Analysis f√ºr Authentication Latency und User Experience\n‚Ä¢ Organizational Readiness f√ºr Cloud Adoption und Identity Governance\n‚Ä¢ Vendor Evaluation f√ºr Cloud Provider Security Capabilities und SLA-Garantien\n‚Ä¢ Future-Proofing Strategien f√ºr evolvierende Identity Technologies und Standards"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 3),
        question: 'Welche Rolle spielen Standards wie SAML, OAuth und OpenID Connect bei der IAM Software Auswahl?',
        answer: "Identity Standards wie SAML, OAuth und OpenID Connect bilden das technische Fundament moderner IAM Software L√∂sungen und sind entscheidend f√ºr Interoperabilit√§t, Sicherheit und Zukunftsf√§higkeit. Die Unterst√ºtzung und Implementierungsqualit√§t dieser Standards ist ein kritischer Bewertungsfaktor bei der IAM Software Auswahl und beeinflusst ma√ügeblich die Integration, Sicherheit und Skalierbarkeit Ihrer Identity-Architektur.\n\nüîê SAML Security Assertion Markup Language:\n‚Ä¢ Enterprise Single Sign-On f√ºr Web-basierte Anwendungen mit starker Sicherheit\n‚Ä¢ F√∂derierte Authentifizierung zwischen verschiedenen Organisationen und Domains\n‚Ä¢ Attribute-basierte Autorisierung mit detaillierten User-Informationen und Rollen\n‚Ä¢ Compliance-Konformit√§t f√ºr regulierte Industrien mit strikten Audit-Anforderungen\n‚Ä¢ Legacy-System Integration f√ºr bestehende Enterprise-Anwendungen\n\nüîë OAuth Authorization Framework:\n‚Ä¢ Sichere API-Autorisierung f√ºr moderne Anwendungen und Microservices-Architekturen\n‚Ä¢ Delegated Access Control ohne Preisgabe von User-Credentials\n‚Ä¢ Mobile und Native Application Support mit sicheren Token-basierten Flows\n‚Ä¢ Third-Party Integration f√ºr externe Services und Partner-Anwendungen\n‚Ä¢ Granulare Scope-Definition f√ºr pr√§zise Access Control und Least Privilege Principles\n\nüÜî OpenID Connect Identity Layer:\n‚Ä¢ Moderne Authentifizierung auf Basis von OAuth mit standardisierten Identity Claims\n‚Ä¢ JSON Web Token Support f√ºr effiziente und sichere Token-√úbertragung\n‚Ä¢ Discovery und Dynamic Registration f√ºr automatisierte Client-Konfiguration\n‚Ä¢ Multi-Factor Authentication Integration mit verschiedenen Authentifizierungsmethoden\n‚Ä¢ Session Management und Single Logout f√ºr umfassende User Experience\n\nüîÑ Standards-Integration und Interoperabilit√§t:\n‚Ä¢ Cross-Platform Compatibility f√ºr heterogene IT-Landschaften und Multi-Vendor-Umgebungen\n‚Ä¢ Future-Proofing durch Standards-Compliance und Vendor-Unabh√§ngigkeit\n‚Ä¢ Protocol Translation und Gateway-Funktionalit√§ten f√ºr Legacy-System Integration\n‚Ä¢ Federation Trust Relationships f√ºr sichere Cross-Domain-Authentifizierung\n‚Ä¢ Standards Evolution und Backward Compatibility f√ºr langfristige Investitionssicherheit\n\nüõ°Ô∏è Sicherheitsimplikationen und Best Practices:\n‚Ä¢ Token Security und Lifecycle Management f√ºr verschiedene Standards und Use Cases\n‚Ä¢ Encryption und Signing Requirements f√ºr sichere Daten√ºbertragung\n‚Ä¢ Attack Vector Mitigation f√ºr Standards-spezifische Bedrohungen und Vulnerabilities\n‚Ä¢ Certificate Management und PKI Integration f√ºr Trust Establishment\n‚Ä¢ Security Monitoring und Anomaly Detection f√ºr Standards-basierte Authentifizierung\n\nüìä Evaluierungskriterien f√ºr Standards-Support:\n‚Ä¢ Implementation Quality und Standards-Compliance-Level verschiedener IAM Anbieter\n‚Ä¢ Performance Characteristics f√ºr verschiedene Protokolle und Use Cases\n‚Ä¢ Customization Capabilities f√ºr organisationsspezifische Anforderungen\n‚Ä¢ Debugging und Troubleshooting Tools f√ºr Standards-basierte Integrationen\n‚Ä¢ Vendor Roadmap und Future Standards Support f√ºr langfristige Planung\n\nüéØ Strategische √úberlegungen f√ºr Standards-Auswahl:\n‚Ä¢ Use Case Mapping f√ºr verschiedene Standards und Anwendungsszenarien\n‚Ä¢ Migration Strategies von Legacy-Protokollen zu modernen Standards\n‚Ä¢ Hybrid Protocol Support f√ºr √úbergangsszenarien und Legacy-Kompatibilit√§t\n‚Ä¢ Training und Skill Development f√ºr Standards-basierte IAM Implementation\n‚Ä¢ Governance und Policy Framework f√ºr Standards-konforme Identity-Architekturen"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 4),
        question: 'Wie bewerten Sie Open Source IAM L√∂sungen im Vergleich zu kommerziellen Enterprise-Produkten?',
        answer: "Open Source IAM L√∂sungen haben sich zu einer ernstzunehmenden Alternative zu kommerziellen Enterprise-Produkten entwickelt und bieten sowohl einzigartige Sicherheitsvorteile als auch spezifische Herausforderungen. Die Entscheidung zwischen Open Source und kommerziellen IAM L√∂sungen erfordert eine differenzierte Betrachtung von Sicherheits-Capabilities, Ressourcenanforderungen und strategischen Identity-Zielen.\n\nüîì Open Source IAM Vorteile und Transparenz:\n‚Ä¢ Vollst√§ndige Code-Transparenz f√ºr Security Audits und Vulnerability Assessment\n‚Ä¢ Keine Lizenzkosten f√ºr die Software selbst, wodurch Budget f√ºr Security-Investitionen freigesetzt wird\n‚Ä¢ Aktive Security Community mit kontinuierlichen Verbesserungen und Threat Response\n‚Ä¢ Flexibilit√§t f√ºr Deep Security Customization und spezifische Compliance-Anforderungen\n‚Ä¢ Unabh√§ngigkeit von Vendor Security-Roadmaps und kommerziellem Support-Lifecycle\n\nüíº Kommerzielle IAM Enterprise-Features und Support:\n‚Ä¢ Professioneller Security Support mit SLAs und garantierten Response-Zeiten f√ºr kritische Issues\n‚Ä¢ Umfassende Security Documentation, Training-Materialien und Best Practice Guides\n‚Ä¢ Vorkonfigurierte Security Templates und Use Cases f√ºr schnelle Time-to-Value\n‚Ä¢ Enterprise-Grade Security Features wie Advanced Threat Detection und UEBA\n‚Ä¢ Compliance-Zertifizierungen und regulatorische Konformit√§t f√ºr verschiedene Standards\n\nüõ†Ô∏è Security Capabilities und Feature-Vergleich:\n‚Ä¢ Authentication Engine Sophistication und Advanced Security Analytics Capabilities\n‚Ä¢ Scalability Limits und Performance-Charakteristika unter hohen Security-Lasten\n‚Ä¢ Integration Ecosystem und verf√ºgbare Security-Konnektoren f√ºr Third-Party Tools\n‚Ä¢ User Interface Security und Usability f√ºr verschiedene Administrator-Skill-Level\n‚Ä¢ Reporting und Security Dashboard Capabilities f√ºr Executive und Technical Audiences\n\nüë• Ressourcen und Security-Expertise-Anforderungen:\n‚Ä¢ In-House Security Development Capabilities f√ºr Customization und Feature-Entwicklung\n‚Ä¢ System Administration Expertise f√ºr sichere Installation, Konfiguration und Hardening\n‚Ä¢ Security Engineering Skills f√ºr Rule Development, Tuning und Threat Response\n‚Ä¢ Community Engagement f√ºr Security Support und Knowledge Sharing\n‚Ä¢ Long-term Security Maintenance Commitment und Resource Allocation\n\nüîÑ Total Security Cost of Ownership Betrachtungen:\n‚Ä¢ Hidden Security Costs in Open Source Deployments durch Development und Maintenance Effort\n‚Ä¢ Professional Security Services Kosten f√ºr Implementation und Optimization\n‚Ä¢ Training und Security Skill Development Investitionen f√ºr Team-Capabilities\n‚Ä¢ Infrastructure Security Costs f√ºr Hosting und High Availability Setups\n‚Ä¢ Opportunity Costs durch Resource Allocation zu IAM Development versus Core Security Business\n\n‚öñÔ∏è Hybrid-Ans√§tze und strategische Security-√úberlegungen:\n‚Ä¢ Open Core Security Modelle mit Open Source Basis und kommerziellen Security Add-ons\n‚Ä¢ Managed Open Source Security Services f√ºr professionellen Support ohne Vendor Lock-in\n‚Ä¢ Proof-of-Concept Security Strategien f√ºr die Evaluierung verschiedener Ans√§tze\n‚Ä¢ Migration-Pfade zwischen Open Source und kommerziellen Security-L√∂sungen\n‚Ä¢ Risk Mitigation Strategien f√ºr Open Source Dependencies und Community-Support\n\nüéØ Security-Entscheidungskriterien und Bewertungsframework:\n‚Ä¢ Organizational Security Maturity f√ºr Open Source Adoption und Community Participation\n‚Ä¢ Business Criticality der IAM Security Function und Acceptable Risk Levels\n‚Ä¢ Compliance Security Requirements und Audit-Anforderungen f√ºr verschiedene Standards\n‚Ä¢ Innovation Security Requirements und Bedarf f√ºr Cutting-Edge Security Features\n‚Ä¢ Strategic Security Alignment mit Overall Cybersecurity Strategy und Vendor Management Policies"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 1 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
