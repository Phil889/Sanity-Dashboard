import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating IAM Projekte page with FAQ batch 4...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'iam-projekte' })
    
    if (!existingDoc) {
      throw new Error('Document "iam-projekte" not found')
    }
    
    // Create new FAQs for IAM Projekte advanced topics
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 13),
        question: 'Welche Budgetplanung und Cost Management Strategien sind f√ºr IAM-Projekte erforderlich und wie optimiert man Total Cost of Ownership √ºber den gesamten Projektlebenszyklus?',
        answer: "Effektive Budgetplanung und Cost Management sind kritische Erfolgsfaktoren f√ºr IAM-Projekte, da sie nicht nur die finanzielle Kontrolle gew√§hrleisten, sondern auch strategische Entscheidungen √ºber Technologie-Investments und Ressourcenallokation erm√∂glichen. Professionelles Cost Management optimiert sowohl direkte Projektkosten als auch langfristige Total Cost of Ownership.\n\nüí∞ Strategic Budget Planning und Financial Framework:\n‚Ä¢ Comprehensive Cost Assessment mit detaillierter Analyse aller Kostenkategorien von Lizenzen bis Personal\n‚Ä¢ Multi-Year Budget Planning f√ºr langfristige Finanzplanung und Investitionszyklen\n‚Ä¢ Contingency Planning mit angemessenen Reserven f√ºr unvorhergesehene Kosten und Scope-√Ñnderungen\n‚Ä¢ ROI Modeling f√ºr quantitative Bewertung des erwarteten Return on Investment\n‚Ä¢ Cost-Benefit Analysis f√ºr fundierte Entscheidungen √ºber Technologie-Alternativen\n\nüìä Total Cost of Ownership Optimization:\n‚Ä¢ Lifecycle Cost Analysis f√ºr Bewertung aller Kosten von Anschaffung bis Abl√∂sung\n‚Ä¢ Operational Cost Modeling f√ºr laufende Betriebskosten und Wartungsaufw√§nde\n‚Ä¢ Hidden Cost Identification f√ºr oft √ºbersehene Kostenfaktoren wie Training und Change Management\n‚Ä¢ Scalability Cost Planning f√ºr Kostenauswirkungen bei Wachstum und Expansion\n‚Ä¢ Vendor Cost Optimization f√ºr effiziente Verhandlung und Vertragsgestaltung\n\nüîÑ Agile Budget Management und Adaptive Planning:\n‚Ä¢ Rolling Budget Forecasts f√ºr flexible Anpassung an sich √§ndernde Projektanforderungen\n‚Ä¢ Sprint-based Budget Tracking f√ºr granulare Kostenkontrolle in agilen Entwicklungszyklen\n‚Ä¢ Value-based Prioritization f√ºr optimale Allokation begrenzter Budgetressourcen\n‚Ä¢ Cost Variance Analysis f√ºr fr√ºhzeitige Erkennung von Budget-Abweichungen\n‚Ä¢ Budget Reallocation Strategies f√ºr flexible Umverteilung bei Priorit√§ts√§nderungen\n\n‚ö° Technology Investment Optimization:\n‚Ä¢ Build vs Buy Analysis f√ºr strategische Entscheidungen √ºber Eigenentwicklung oder Zukauf\n‚Ä¢ Cloud vs On-Premises Cost Comparison f√ºr optimale Infrastruktur-Entscheidungen\n‚Ä¢ License Optimization f√ºr effiziente Nutzung von Software-Lizenzen und Subscription-Modellen\n‚Ä¢ Technology Consolidation f√ºr Kosteneinsparungen durch Systemvereinfachung\n‚Ä¢ Future-Proofing Investment f√ºr nachhaltige Technologie-Entscheidungen\n\nüìà Performance-based Cost Management:\n‚Ä¢ Cost per User Metrics f√ºr skalierbare Kostenplanung und Benchmarking\n‚Ä¢ Efficiency Metrics f√ºr Bewertung der Kosteneffizienz verschiedener L√∂sungsans√§tze\n‚Ä¢ Value Realization Tracking f√ºr Messung tats√§chlich realisierter Kosteneinsparungen\n‚Ä¢ Productivity Impact Assessment f√ºr Bewertung indirekter Kostenauswirkungen\n‚Ä¢ Risk-adjusted Cost Planning f√ºr Ber√ºcksichtigung von Risiko-Kosten-Verh√§ltnissen\n\nüåê Vendor Cost Management und Procurement Excellence:\n‚Ä¢ Strategic Vendor Negotiations f√ºr optimale Vertragskonditionen und Pricing-Modelle\n‚Ä¢ Multi-Vendor Cost Coordination f√ºr Gesamtkostenoptimierung √ºber alle Anbieter\n‚Ä¢ Contract Optimization f√ºr flexible Vertragsstrukturen und Kostenreduzierung\n‚Ä¢ Vendor Performance vs Cost Analysis f√ºr optimales Preis-Leistungs-Verh√§ltnis\n‚Ä¢ Exit Cost Planning f√ºr Ber√ºcksichtigung von Wechselkosten und Vendor-Lock-in-Risiken"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 14),
        question: 'Wie implementiert man effektive Team-Strukturen und Ressourcenmanagement f√ºr IAM-Projekte und welche Rollen und Kompetenzen sind entscheidend f√ºr Projekterfolg?',
        answer: "Effektive Team-Strukturen und strategisches Ressourcenmanagement sind fundamentale Erfolgsfaktoren f√ºr IAM-Projekte, da sie die richtige Balance zwischen technischer Expertise, Projektmanagement-F√§higkeiten und Business-Verst√§ndnis schaffen m√ºssen. Moderne IAM-Projekte erfordern cross-funktionale Teams mit spezialisierten Rollen und klaren Verantwortlichkeiten.\n\nüë• Strategic Team Architecture und Role Definition:\n‚Ä¢ Project Leadership mit erfahrenen IAM-Projektmanagern und Technical Leads\n‚Ä¢ Solution Architects f√ºr Enterprise-Architektur-Design und Technologie-Integration\n‚Ä¢ Security Specialists f√ºr Sicherheitsarchitektur und Compliance-Anforderungen\n‚Ä¢ Business Analysts f√ºr Requirements-Engineering und Stakeholder-Management\n‚Ä¢ Change Management Specialists f√ºr Organizational Transformation und User Adoption\n\nüéØ Core Technical Roles und Expertise Areas:\n‚Ä¢ IAM Engineers f√ºr Implementation und Konfiguration von Identity-Systemen\n‚Ä¢ Integration Specialists f√ºr API-Development und System-Connectivity\n‚Ä¢ DevOps Engineers f√ºr Automation und Deployment-Pipeline-Management\n‚Ä¢ Quality Assurance Engineers f√ºr Testing und Validation von IAM-Funktionalit√§ten\n‚Ä¢ Database Administrators f√ºr Identity-Repository-Management und Performance-Tuning\n\nüìä Business-oriented Roles und Stakeholder Interface:\n‚Ä¢ Business Relationship Managers f√ºr Stakeholder-Coordination und Communication\n‚Ä¢ Compliance Officers f√ºr Regulatory-Requirement-Management und Audit-Preparation\n‚Ä¢ Training Coordinators f√ºr User-Education und Adoption-Support\n‚Ä¢ Process Analysts f√ºr Business-Process-Integration und Workflow-Optimization\n‚Ä¢ Vendor Relationship Managers f√ºr Third-Party-Coordination und Contract-Management\n\n‚ö° Agile Team Organization und Collaboration:\n‚Ä¢ Cross-functional Scrum Teams mit allen notwendigen Skills f√ºr End-to-End-Delivery\n‚Ä¢ Product Owner Role mit tiefgreifender IAM-Domain-Expertise\n‚Ä¢ Scrum Masters f√ºr Agile-Process-Facilitation und Impediment-Resolution\n‚Ä¢ Communities of Practice f√ºr Knowledge-Sharing und Best-Practice-Development\n‚Ä¢ Rotating Roles f√ºr Skill-Development und Team-Flexibility\n\nüîÑ Resource Allocation und Capacity Management:\n‚Ä¢ Skills Matrix Development f√ºr systematische Bewertung und Planung von Kompetenzen\n‚Ä¢ Resource Forecasting f√ºr proaktive Planung von Personalbedarfen\n‚Ä¢ Cross-Training Programs f√ºr Skill-Diversification und Risk-Mitigation\n‚Ä¢ External Resource Integration f√ºr spezialisierte Expertise und Kapazit√§tserweiterung\n‚Ä¢ Succession Planning f√ºr Kontinuit√§t bei Personalwechseln\n\nüåê Remote Team Management und Global Coordination:\n‚Ä¢ Distributed Team Coordination f√ºr effektive Zusammenarbeit √ºber Zeitzonen hinweg\n‚Ä¢ Cultural Integration f√ºr harmonische Zusammenarbeit in internationalen Teams\n‚Ä¢ Communication Protocols f√ºr strukturierte Information und Decision-Making\n‚Ä¢ Virtual Collaboration Tools f√ºr effiziente Remote-Teamwork\n‚Ä¢ Time Zone Optimization f√ºr optimale Meeting-Planung und Workflow-Coordination\n\nüìà Performance Management und Team Development:\n‚Ä¢ Individual Development Plans f√ºr gezielte Skill-Entwicklung und Career-Growth\n‚Ä¢ Team Performance Metrics f√ºr objektive Bewertung und Improvement-Identification\n‚Ä¢ Regular Feedback Cycles f√ºr kontinuierliche Performance-Optimization\n‚Ä¢ Recognition Programs f√ºr Motivation und Team-Engagement\n‚Ä¢ Knowledge Management f√ºr Capture und Transfer von Projekt-Learnings"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 15),
        question: 'Welche Disaster Recovery und Business Continuity Strategien sind f√ºr IAM-Projekte kritisch und wie gew√§hrleistet man Systemverf√ºgbarkeit w√§hrend Transformationsphasen?',
        answer: "Disaster Recovery und Business Continuity sind kritische Aspekte von IAM-Projekten, da Identit√§tssysteme oft Single Points of Failure f√ºr gesamte Unternehmensoperationen darstellen. Robuste DR/BC-Strategien m√ºssen sowohl die Transformation selbst als auch den laufenden Betrieb absichern und dabei h√∂chste Verf√ºgbarkeitsanforderungen erf√ºllen.\n\nüõ°Ô∏è Comprehensive Business Continuity Planning:\n‚Ä¢ Business Impact Analysis f√ºr Bewertung kritischer IAM-Services und Abh√§ngigkeiten\n‚Ä¢ Recovery Time Objectives Definition f√ºr verschiedene Service-Kategorien und Criticality-Levels\n‚Ä¢ Recovery Point Objectives f√ºr akzeptable Datenverlust-Toleranzen\n‚Ä¢ Continuity Risk Assessment f√ºr Identifikation potenzieller Disruption-Szenarien\n‚Ä¢ Service Prioritization f√ºr strukturierte Recovery-Reihenfolge bei Ausf√§llen\n\n‚ö° High Availability Architecture und Redundancy:\n‚Ä¢ Multi-Site Deployment f√ºr geografische Redundanz und Disaster-Resilience\n‚Ä¢ Load Balancing und Failover-Mechanisms f√ºr automatische Service-Continuity\n‚Ä¢ Database Replication f√ºr Real-time Data Synchronization und Backup\n‚Ä¢ Network Redundancy f√ºr multiple Connectivity-Paths und Single-Point-of-Failure-Elimination\n‚Ä¢ Cloud-based Backup Services f√ºr Off-site Data Protection und Rapid Recovery\n\nüîÑ Transformation-specific Continuity Measures:\n‚Ä¢ Parallel System Operation f√ºr Risk-free Migration und Rollback-Capabilities\n‚Ä¢ Phased Cutover Strategies f√ºr minimale Business-Disruption w√§hrend Go-Live\n‚Ä¢ Rollback Procedures f√ºr schnelle Recovery bei Implementation-Issues\n‚Ä¢ Emergency Access Procedures f√ºr kritische System-Access w√§hrend Outages\n‚Ä¢ Communication Plans f√ºr Stakeholder-Information w√§hrend Continuity-Events\n\nüìä Monitoring und Early Warning Systems:\n‚Ä¢ Real-time System Monitoring f√ºr proaktive Problem-Detection\n‚Ä¢ Automated Alerting f√ºr sofortige Benachrichtigung bei Service-Degradation\n‚Ä¢ Health Check Automation f√ºr kontinuierliche System-Validation\n‚Ä¢ Performance Threshold Monitoring f√ºr Early-Warning vor kritischen Issues\n‚Ä¢ Predictive Analytics f√ºr Vorhersage potenzieller System-Problems\n\nüö® Incident Response und Crisis Management:\n‚Ä¢ Incident Response Team mit klaren Rollen und Eskalations-Procedures\n‚Ä¢ Crisis Communication Protocols f√ºr koordinierte Stakeholder-Information\n‚Ä¢ Emergency Decision-Making Processes f√ºr schnelle Response-Entscheidungen\n‚Ä¢ Vendor Escalation Procedures f√ºr Third-Party-Support-Coordination\n‚Ä¢ Post-Incident Analysis f√ºr Continuous Improvement der DR/BC-Capabilities\n\nüîß Testing und Validation Strategies:\n‚Ä¢ Regular DR Testing f√ºr Validation der Recovery-Procedures und -Capabilities\n‚Ä¢ Tabletop Exercises f√ºr Team-Training und Process-Validation\n‚Ä¢ Failover Testing f√ºr Verification der Automatic-Failover-Mechanisms\n‚Ä¢ Recovery Time Testing f√ºr Validation der RTO-Compliance\n‚Ä¢ End-to-End Business Process Testing f√ºr Comprehensive Continuity-Validation\n\nüåê Cloud-native Resilience und Modern Approaches:\n‚Ä¢ Multi-Cloud Strategies f√ºr Vendor-Independence und Enhanced Resilience\n‚Ä¢ Containerization f√ºr Rapid Deployment und Scaling-Capabilities\n‚Ä¢ Infrastructure as Code f√ºr Consistent und Rapid Environment-Recreation\n‚Ä¢ Automated Recovery Procedures f√ºr Reduced Recovery-Time und Human-Error-Elimination\n‚Ä¢ Chaos Engineering f√ºr Proactive Resilience-Testing und System-Hardening"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 16),
        question: 'Wie etabliert man nachhaltige Innovation und Continuous Improvement Prozesse in IAM-Projekten f√ºr langfristige Wertsch√∂pfung und Zukunftssicherheit?',
        answer: "Nachhaltige Innovation und Continuous Improvement sind entscheidend f√ºr langfristigen IAM-Projekterfolg, da sich Technologien, Bedrohungslandschaften und Gesch√§ftsanforderungen kontinuierlich weiterentwickeln. Erfolgreiche IAM-Systeme m√ºssen nicht nur aktuelle Anforderungen erf√ºllen, sondern auch adaptiv und zukunftsf√§hig gestaltet sein.\n\nüöÄ Innovation Framework und Strategic Vision:\n‚Ä¢ Innovation Roadmap Development f√ºr systematische Integration neuer Technologien und Capabilities\n‚Ä¢ Emerging Technology Assessment f√ºr proaktive Bewertung von AI, Blockchain und anderen Innovationen\n‚Ä¢ Future-State Visioning f√ºr langfristige strategische Ausrichtung und Zielsetzung\n‚Ä¢ Innovation Budget Allocation f√ºr nachhaltige Investitionen in Forschung und Entwicklung\n‚Ä¢ Technology Trend Monitoring f√ºr fr√ºhzeitige Erkennung relevanter Marktentwicklungen\n\nüîÑ Continuous Improvement Culture und Processes:\n‚Ä¢ Kaizen Methodology f√ºr kontinuierliche kleine Verbesserungen und Optimierungen\n‚Ä¢ Regular Retrospectives f√ºr systematische Analyse von Lessons Learned und Improvement-Opportunities\n‚Ä¢ Feedback Loop Integration f√ºr kontinuierliche User-Input-Collection und -Integration\n‚Ä¢ Performance Baseline Establishment f√ºr messbare Improvement-Tracking\n‚Ä¢ Best Practice Documentation f√ºr Knowledge-Capture und -Sharing\n\nüìä Data-driven Innovation und Analytics:\n‚Ä¢ Innovation Metrics f√ºr quantitative Bewertung von Innovation-Impact und -Success\n‚Ä¢ Predictive Analytics f√ºr Vorhersage zuk√ºnftiger Anforderungen und Trends\n‚Ä¢ User Behavior Analysis f√ºr datengetriebene Feature-Development und -Priorisierung\n‚Ä¢ A/B Testing f√ºr evidenzbasierte Entscheidungen √ºber neue Features und Approaches\n‚Ä¢ ROI Measurement f√ºr Innovation-Investments und Value-Realization-Tracking\n\n‚ö° Agile Innovation und Rapid Prototyping:\n‚Ä¢ Innovation Sprints f√ºr schnelle Exploration neuer Ideen und Concepts\n‚Ä¢ Proof of Concept Development f√ºr Risk-Mitigation bei neuen Technologien\n‚Ä¢ Minimum Viable Product Approach f√ºr iterative Innovation-Development\n‚Ä¢ Fail-Fast Mentality f√ºr schnelle Learning-Cycles und Resource-Optimization\n‚Ä¢ Cross-functional Innovation Teams f√ºr diverse Perspektiven und Expertise\n\nüåê External Innovation Integration und Partnerships:\n‚Ä¢ Vendor Innovation Partnerships f√ºr Zugang zu cutting-edge Technologien\n‚Ä¢ Industry Collaboration f√ºr Shared Innovation und Standard-Development\n‚Ä¢ Academic Partnerships f√ºr Research-Collaboration und Talent-Pipeline\n‚Ä¢ Startup Ecosystem Engagement f√ºr disruptive Innovation-Access\n‚Ä¢ Open Source Contribution f√ºr Community-driven Innovation und Knowledge-Sharing\n\nüõ†Ô∏è Innovation Infrastructure und Enablement:\n‚Ä¢ Innovation Labs f√ºr experimentelle Entwicklung und Prototyping\n‚Ä¢ Sandbox Environments f√ºr sichere Testing neuer Technologien und Approaches\n‚Ä¢ Innovation Time Allocation f√ºr dedicated Innovation-Work neben regul√§ren Aufgaben\n‚Ä¢ Skill Development Programs f√ºr Innovation-Capability-Building im Team\n‚Ä¢ Innovation Recognition Programs f√ºr Motivation und Culture-Building\n\nüìà Sustainable Value Creation und Long-term Impact:\n‚Ä¢ Value Stream Mapping f√ºr Identification von Innovation-Opportunities entlang der gesamten Value Chain\n‚Ä¢ Sustainability Assessment f√ºr langfristige Environmental und Social Impact-Bewertung\n‚Ä¢ Scalability Planning f√ºr nachhaltige Innovation-Implementation und -Adoption\n‚Ä¢ Change Management f√ºr Innovation-Integration in bestehende Prozesse und Kulturen\n‚Ä¢ Legacy System Evolution f√ºr schrittweise Modernisierung ohne Disruption"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 4 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
