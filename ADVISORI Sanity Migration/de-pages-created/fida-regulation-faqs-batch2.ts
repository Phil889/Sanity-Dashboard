import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating FIDA Regulation page with FAQs batch 2...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'fida-regulation' })
    
    if (!existingDoc) {
      throw new Error('Document "fida-regulation" not found')
    }
    
    // Create new FAQs
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 5),
        question: 'How does ADVISORI address the unique challenges of implementing FIDA regulation across different financial service sectors?',
        answer: "FIDA regulation affects various financial service sectors differently, requiring tailored implementation approaches that address sector-specific challenges while maintaining regulatory consistency. ADVISORI develops specialized strategies that recognize the unique operational, technical, and regulatory contexts of different financial services while ensuring comprehensive compliance across all sectors.\n\nüè¶ Banking Sector Implementation:\n‚Ä¢ Enhanced Open Banking Evolution: Building upon existing PSD2 infrastructure to extend data access capabilities beyond payment services to comprehensive financial data sharing, including account information, transaction history, and financial analytics.\n‚Ä¢ Legacy System Modernization: Strategic approaches to upgrading traditional banking systems to support expanded data access requirements while maintaining operational stability and security standards.\n‚Ä¢ Customer Experience Integration: Development of seamless customer experiences that integrate FIDA data access with existing banking services, creating value-added services and enhanced customer engagement.\n‚Ä¢ Regulatory Coordination: Harmonization of FIDA requirements with existing banking regulations including CRD, Basel III, and national banking laws to ensure comprehensive compliance.\n\nüõ°Ô∏è Insurance Sector Adaptation:\n‚Ä¢ Policy Data Access Framework: Development of comprehensive frameworks for providing customer access to policy information, claims data, and insurance analytics while protecting sensitive underwriting information.\n‚Ä¢ Risk Assessment Data Integration: Creation of systems that enable appropriate data sharing for risk assessment purposes while maintaining competitive advantages and proprietary information protection.\n‚Ä¢ Claims Process Transparency: Implementation of enhanced transparency in claims processing through improved data access while maintaining fraud prevention and investigation capabilities.\n‚Ä¢ Regulatory Harmonization: Integration of FIDA requirements with insurance-specific regulations including Solvency II, IDD, and national insurance laws.\n\nüíº Investment Services Implementation:\n‚Ä¢ Portfolio Data Transparency: Development of comprehensive portfolio data access capabilities that provide investors with detailed information about their investments while protecting proprietary investment strategies.\n‚Ä¢ Performance Analytics Sharing: Creation of systems that enable sharing of investment performance data and analytics while maintaining competitive positioning and intellectual property protection.\n‚Ä¢ Regulatory Reporting Integration: Coordination of FIDA data access requirements with MiFID II reporting obligations and other investment services regulations.\n‚Ä¢ Client Relationship Management: Enhancement of client relationship management systems to support expanded data access while maintaining fiduciary responsibilities and regulatory compliance.\n\nüèõÔ∏è Pension Fund Sector Considerations:\n‚Ä¢ Long-Term Data Management: Development of systems that can manage and provide access to pension data over extended time periods while maintaining data integrity and regulatory compliance.\n‚Ä¢ Beneficiary Rights Implementation: Creation of comprehensive frameworks that support beneficiary data access rights while protecting fund management strategies and maintaining fiduciary responsibilities.\n‚Ä¢ Cross-Border Coordination: Development of systems that can handle cross-border pension data access requirements while complying with multiple regulatory jurisdictions.\n‚Ä¢ Actuarial Data Protection: Implementation of data access systems that provide transparency while protecting sensitive actuarial models and calculations."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 6),
        question: 'What strategies does ADVISORI employ to manage third-party relationships and data sharing partnerships under FIDA regulation?',
        answer: "FIDA regulation creates complex ecosystems of data sharing relationships that require sophisticated management approaches to ensure compliance, security, and business value. ADVISORI develops comprehensive third-party relationship management strategies that optimize partnership value while maintaining regulatory compliance and risk management standards.\n\nü§ù Strategic Partnership Framework Development:\n‚Ä¢ Partnership Strategy Alignment: Development of comprehensive partnership strategies that align third-party relationships with business objectives while ensuring FIDA compliance and maximizing ecosystem value.\n‚Ä¢ Due Diligence and Onboarding: Creation of rigorous due diligence processes for evaluating potential data sharing partners, including technical capabilities, security standards, regulatory compliance, and business alignment.\n‚Ä¢ Contract and SLA Management: Development of comprehensive contractual frameworks that define data sharing responsibilities, performance standards, liability allocation, and compliance requirements.\n‚Ä¢ Partnership Performance Monitoring: Implementation of ongoing monitoring systems that track partnership performance, compliance status, and business value delivery.\n\nüîê Security and Risk Management:\n‚Ä¢ Third-Party Risk Assessment: Development of comprehensive risk assessment frameworks that evaluate security, operational, regulatory, and reputational risks associated with data sharing partnerships.\n‚Ä¢ Security Standards Enforcement: Implementation of rigorous security standards and monitoring systems that ensure all third-party partners maintain appropriate data protection and cybersecurity measures.\n‚Ä¢ Incident Response Coordination: Creation of coordinated incident response procedures that enable rapid response to security incidents or compliance issues involving third-party partners.\n‚Ä¢ Continuous Risk Monitoring: Establishment of ongoing risk monitoring systems that continuously assess third-party risk profiles and adapt risk management strategies as needed.\n\nüìä Data Governance and Quality Management:\n‚Ä¢ Data Sharing Standards: Development of comprehensive data sharing standards that ensure data quality, consistency, and interoperability across all third-party relationships.\n‚Ä¢ API Management and Integration: Implementation of robust API management systems that enable secure, scalable, and reliable data sharing with multiple third-party partners.\n‚Ä¢ Data Quality Assurance: Creation of comprehensive data quality assurance processes that ensure shared data meets accuracy, completeness, and timeliness standards.\n‚Ä¢ Audit Trail and Documentation: Establishment of comprehensive audit trail systems that document all data sharing activities and enable regulatory reporting and compliance verification.\n\n‚öñÔ∏è Regulatory Compliance Coordination:\n‚Ä¢ Multi-Jurisdictional Compliance: Development of compliance frameworks that address FIDA requirements across multiple jurisdictions while managing cross-border data sharing complexities.\n‚Ä¢ Regulatory Reporting Coordination: Creation of coordinated regulatory reporting processes that ensure all data sharing activities are properly documented and reported to relevant authorities.\n‚Ä¢ Compliance Monitoring and Verification: Implementation of ongoing compliance monitoring systems that verify third-party partner compliance with FIDA requirements and other relevant regulations.\n‚Ä¢ Regulatory Change Management: Establishment of processes for managing regulatory changes that affect third-party relationships and ensuring rapid adaptation to new requirements."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 7),
        question: 'How does ADVISORI ensure FIDA regulation implementation supports innovation while maintaining strict security and privacy standards?',
        answer: "Balancing innovation enablement with security and privacy protection under FIDA regulation requires sophisticated approaches that maximize business opportunities while maintaining the highest standards of data protection. ADVISORI develops innovation-friendly compliance frameworks that enable creative business solutions while ensuring comprehensive security and privacy protection.\n\nüöÄ Innovation-Enabled Compliance Architecture:\n‚Ä¢ Secure Innovation Frameworks: Development of technical architectures that enable rapid innovation and experimentation while maintaining comprehensive security controls and regulatory compliance.\n‚Ä¢ Privacy-Preserving Innovation: Implementation of advanced privacy technologies that enable innovative data analysis and service development while protecting individual privacy and maintaining GDPR compliance.\n‚Ä¢ Regulatory Sandbox Integration: Creation of frameworks that enable participation in regulatory sandboxes and innovation programs while maintaining production-level security and compliance standards.\n‚Ä¢ Agile Compliance Processes: Development of agile compliance processes that can adapt quickly to new business models and innovative services while maintaining regulatory adherence.\n\nüîí Advanced Security Implementation:\n‚Ä¢ Zero-Trust Security Architecture: Implementation of comprehensive zero-trust security models that provide granular access control and continuous security monitoring while enabling flexible data sharing and innovation.\n‚Ä¢ Advanced Encryption and Tokenization: Deployment of cutting-edge encryption and tokenization technologies that protect sensitive data while enabling innovative analytics and service development.\n‚Ä¢ Behavioral Analytics and Threat Detection: Integration of advanced behavioral analytics and threat detection systems that can identify and respond to security threats in real-time while supporting innovative business processes.\n‚Ä¢ Secure Multi-Party Computation: Implementation of secure multi-party computation technologies that enable collaborative data analysis and innovation while maintaining data privacy and security.\n\nüõ°Ô∏è Privacy-by-Design Implementation:\n‚Ä¢ Privacy Engineering Integration: Integration of privacy engineering principles into all innovation processes, ensuring privacy protection is built into new services and technologies from the ground up.\n‚Ä¢ Consent Management Innovation: Development of innovative consent management systems that provide granular user control while enabling flexible data sharing and service innovation.\n‚Ä¢ Data Minimization Technologies: Implementation of advanced data minimization technologies that enable innovative services while collecting and processing only the minimum necessary data.\n‚Ä¢ Transparency and Accountability: Creation of comprehensive transparency and accountability frameworks that enable users to understand and control how their data is used in innovative services.\n\n‚ö° Technology Innovation Integration:\n‚Ä¢ AI and Machine Learning Integration: Development of frameworks that enable responsible AI and machine learning innovation while maintaining explainability, fairness, and regulatory compliance.\n‚Ä¢ Blockchain and Distributed Ledger Integration: Implementation of blockchain and distributed ledger technologies that enhance security, transparency, and trust while enabling innovative financial services.\n‚Ä¢ API Economy Enablement: Creation of robust API ecosystems that enable third-party innovation while maintaining security, privacy, and regulatory compliance.\n‚Ä¢ Cloud-Native Innovation: Development of cloud-native architectures that enable rapid scaling and innovation while maintaining security, compliance, and operational excellence."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 8),
        question: 'What approaches does ADVISORI use to prepare organizations for future regulatory evolution beyond current FIDA requirements?',
        answer: "Regulatory landscapes continuously evolve, and successful FIDA implementation must anticipate and prepare for future regulatory developments. ADVISORI develops forward-looking compliance strategies that not only address current FIDA requirements but also position organizations to adapt quickly to future regulatory changes and market developments.\n\nüîÆ Regulatory Intelligence and Forecasting:\n‚Ä¢ Regulatory Trend Analysis: Comprehensive analysis of regulatory trends across multiple jurisdictions to identify emerging requirements and anticipate future regulatory developments that may impact FIDA compliance.\n‚Ä¢ Policy Development Monitoring: Systematic monitoring of policy development processes at EU and national levels to identify potential regulatory changes before they become formal requirements.\n‚Ä¢ Industry Consultation Participation: Active participation in industry consultations and regulatory discussions to influence policy development and gain early insights into regulatory direction.\n‚Ä¢ Cross-Jurisdictional Analysis: Analysis of regulatory developments in other jurisdictions that may influence future EU regulatory approaches and requirements.\n\nüèóÔ∏è Adaptive Architecture Development:\n‚Ä¢ Future-Proof Technical Architecture: Development of flexible technical architectures that can adapt to changing regulatory requirements without requiring fundamental system redesign or replacement.\n‚Ä¢ Modular Compliance Systems: Creation of modular compliance systems that can be easily extended or modified to address new regulatory requirements as they emerge.\n‚Ä¢ API-First Design Principles: Implementation of API-first design principles that enable rapid integration of new compliance capabilities and third-party services.\n‚Ä¢ Cloud-Native Scalability: Development of cloud-native systems that can scale and adapt to changing regulatory and business requirements.\n\nüìä Scenario Planning and Stress Testing:\n‚Ä¢ Regulatory Scenario Development: Creation of multiple regulatory scenarios that explore potential future regulatory developments and their impact on business operations and compliance requirements.\n‚Ä¢ Stress Testing Implementation: Regular stress testing of compliance systems and processes against various regulatory scenarios to identify potential weaknesses and improvement opportunities.\n‚Ä¢ Business Impact Assessment: Comprehensive assessment of potential business impacts from various regulatory scenarios to enable proactive planning and risk mitigation.\n‚Ä¢ Contingency Planning: Development of detailed contingency plans that enable rapid response to unexpected regulatory changes or requirements.\n\nüéØ Strategic Capability Building:\n‚Ä¢ Internal Expertise Development: Building internal regulatory expertise and capabilities that enable organizations to understand and respond to regulatory changes independently.\n‚Ä¢ Technology Investment Strategy: Development of strategic technology investment plans that prioritize capabilities needed for future regulatory compliance and business success.\n‚Ä¢ Partnership Strategy Evolution: Evolution of partnership strategies to include relationships that provide access to emerging technologies and regulatory expertise.\n‚Ä¢ Innovation Culture Development: Building organizational cultures that embrace regulatory change as an opportunity for innovation and competitive advantage rather than a burden or constraint."
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQs batch 2 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
