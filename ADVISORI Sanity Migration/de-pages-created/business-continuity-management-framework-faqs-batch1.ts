import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating Business Continuity Management Framework page with FAQ batch 1...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'business-continuity-management-framework' })
    
    if (!existingDoc) {
      throw new Error('Document "business-continuity-management-framework" not found')
    }
    
    // Create new FAQs for BCM Framework fundamentals
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 1),
        question: 'Was ist ein Business Continuity Management Framework und welche methodischen Grundlagen umfasst es?',
        answer: "Ein Business Continuity Management Framework ist eine strukturierte Methodologie, die alle Aspekte der Kontinuit√§tsplanung in einem koh√§renten Architektur-Ansatz vereint. Es definiert Standards, Prozesse und Governance-Strukturen f√ºr die systematische Entwicklung organisationaler Resilienz und geht weit √ºber traditionelle Notfallplanung hinaus.\n\nüèóÔ∏è Methodische Architektur-Prinzipien:\n‚Ä¢ Ein BCM-Framework basiert auf bew√§hrten Architektur-Prinzipien, die Modularit√§t, Skalierbarkeit und Interoperabilit√§t gew√§hrleisten\n‚Ä¢ Die methodische Struktur folgt etablierten Design-Patterns und erm√∂glicht systematische Anpassung an verschiedene Organisationstypen\n‚Ä¢ Layered Architecture trennt strategische, taktische und operative Ebenen f√ºr klare Verantwortlichkeiten\n‚Ä¢ Component-based Design erm√∂glicht flexible Konfiguration und Wiederverwendung von Framework-Elementen\n‚Ä¢ Service-orientierte Architektur unterst√ºtzt Integration mit bestehenden Managementsystemen\n\nüìã Standards-Integration und Methodologie:\n‚Ä¢ ISO 22301 bildet die normative Grundlage, erg√§nzt durch NIST, COBIT und andere relevante Standards\n‚Ä¢ Framework-Methodologie integriert bew√§hrte Ans√§tze aus Enterprise Architecture und Business Process Management\n‚Ä¢ Capability Maturity Models definieren strukturierte Entwicklungspfade f√ºr organisationale Reife\n‚Ä¢ Best Practice Libraries sammeln und systematisieren bew√§hrte L√∂sungsans√§tze\n‚Ä¢ Methodische Konsistenz wird durch standardisierte Notation und Dokumentationsformate gew√§hrleistet\n\nüîç Governance und Policy-Strukturen:\n‚Ä¢ Framework-Governance definiert Entscheidungsarchitekturen und Verantwortlichkeiten f√ºr alle BCM-Aktivit√§ten\n‚Ä¢ Policy-Hierarchien strukturieren Regelwerke von strategischen Grunds√§tzen bis zu operativen Verfahren\n‚Ä¢ Compliance-Integration gew√§hrleistet Einhaltung regulatorischer Anforderungen und interner Standards\n‚Ä¢ Audit-Frameworks erm√∂glichen systematische Bewertung der Framework-Effektivit√§t\n‚Ä¢ Change Management Prozesse steuern Framework-Evolution und -Anpassung\n\nüìä Prozess-Architektur und Workflow-Design:\n‚Ä¢ End-to-End Prozess-Mapping visualisiert alle BCM-Aktivit√§ten und deren Interdependenzen\n‚Ä¢ Workflow-Orchestrierung koordiniert komplexe Aktivit√§ten √ºber Organisationsgrenzen hinweg\n‚Ä¢ Service Level Agreements definieren Qualit√§ts- und Performance-Standards\n‚Ä¢ Exception Handling Mechanismen adressieren Abweichungen und Sonderf√§lle\n‚Ä¢ Continuous Improvement Loops gew√§hrleisten systematische Framework-Optimierung\n\nüéØ Stakeholder-Integration und Kommunikations-Frameworks:\n‚Ä¢ Stakeholder-Architektur definiert Rollen, Verantwortlichkeiten und Interaktionsmuster\n‚Ä¢ Kommunikations-Frameworks strukturieren Informationsfl√ºsse f√ºr verschiedene Zielgruppen\n‚Ä¢ Collaboration Platforms unterst√ºtzen verteilte Zusammenarbeit und Wissensaustausch\n‚Ä¢ Feedback-Mechanismen sammeln systematisch Erkenntnisse f√ºr Framework-Verbesserung\n‚Ä¢ Training und Awareness Programme entwickeln notwendige Kompetenzen\n\nüîß Technologie-Integration und Tool-Architektur:\n‚Ä¢ Technology Stack definiert Referenz-Architektur f√ºr BCM-Technologien\n‚Ä¢ API-Design erm√∂glicht nahtlose Integration verschiedener Tools und Systeme\n‚Ä¢ Data Architecture strukturiert Informationsmanagement und Analytics-F√§higkeiten\n‚Ä¢ Automation Frameworks reduzieren manuellen Aufwand und verbessern Konsistenz\n‚Ä¢ Cloud-native Ans√§tze unterst√ºtzen Skalierbarkeit und Flexibilit√§t\n\nüìà Performance Management und Messung:\n‚Ä¢ KPI-Frameworks definieren mehrdimensionale Messung der Framework-Effektivit√§t\n‚Ä¢ Balanced Scorecard Ans√§tze integrieren verschiedene Performance-Perspektiven\n‚Ä¢ Benchmarking-Methoden erm√∂glichen Vergleich mit Best Practices und Standards\n‚Ä¢ Maturity Assessment Tools bewerten systematisch den Entwicklungsstand\n‚Ä¢ ROI-Modelle quantifizieren den Wertbeitrag des Frameworks"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 2),
        question: 'Wie unterscheidet sich ein methodisches Framework von traditionellen BCM-Ans√§tzen und welche Vorteile bietet es?',
        answer: "Ein methodisches BCM-Framework unterscheidet sich fundamental von traditionellen Ans√§tzen durch seine systematische, architektur-basierte und wissenschaftlich fundierte Herangehensweise. W√§hrend traditionelle Methoden oft ad-hoc und erfahrungsbasiert sind, schafft ein Framework reproduzierbare Exzellenz durch methodische Disziplin.\n\nüî¨ Wissenschaftliche vs. erfahrungsbasierte Methodik:\n‚Ä¢ Traditionelle Ans√§tze basieren prim√§r auf Erfahrung und Intuition ohne systematische Methodologie\n‚Ä¢ Ein Framework nutzt evidenzbasierte Methoden und wissenschaftlich validierte Ans√§tze\n‚Ä¢ Empirische Validierung durch Messung und Analyse ersetzt subjektive Einsch√§tzungen\n‚Ä¢ Reproduzierbare Ergebnisse durch standardisierte Methoden und Verfahren\n‚Ä¢ Kontinuierliche Verbesserung durch systematische Erkenntnisgewinnung und Wissensmanagement\n\nüèóÔ∏è Architektur-orientierte vs. funktionale Betrachtung:\n‚Ä¢ Traditionelle BCM fokussiert auf einzelne Funktionen und isolierte L√∂sungen\n‚Ä¢ Framework-Ansatz entwickelt ganzheitliche Architektur mit integrierten Komponenten\n‚Ä¢ Enterprise Architecture Prinzipien gew√§hrleisten Konsistenz und Interoperabilit√§t\n‚Ä¢ Modular Design erm√∂glicht flexible Anpassung ohne Systembr√ºche\n‚Ä¢ Skalierbare Strukturen wachsen mit organisationalen Anforderungen\n\nüìê Standardisierte vs. individuelle Methodologie:\n‚Ä¢ Traditionelle Ans√§tze entwickeln oft organisationsspezifische Einzell√∂sungen\n‚Ä¢ Frameworks nutzen bew√§hrte Standards und Best Practices als Grundlage\n‚Ä¢ Methodische Konsistenz durch einheitliche Notation und Dokumentation\n‚Ä¢ Interoperabilit√§t mit anderen Managementsystemen und Standards\n‚Ä¢ Reduzierte Komplexit√§t durch Wiederverwendung etablierter L√∂sungsmuster\n\nüéØ Strategische vs. operative Ausrichtung:\n‚Ä¢ Traditionelle BCM konzentriert sich oft auf operative Notfallma√ünahmen\n‚Ä¢ Framework-Ansatz integriert strategische Planung mit operativer Exzellenz\n‚Ä¢ Business Architecture Alignment gew√§hrleistet Unterst√ºtzung der Gesch√§ftsstrategie\n‚Ä¢ Value Creation durch systematische Identifikation von Optimierungspotenzialen\n‚Ä¢ Competitive Advantage durch √ºberlegene Resilienz-F√§higkeiten\n\nüìä Datengetriebene vs. intuitive Entscheidungsfindung:\n‚Ä¢ Traditionelle Ans√§tze treffen Entscheidungen oft basierend auf Erfahrung und Bauchgef√ºhl\n‚Ä¢ Frameworks nutzen Analytics und Business Intelligence f√ºr evidenzbasierte Entscheidungen\n‚Ä¢ Predictive Modeling unterst√ºtzt proaktive Risikoidentifikation und -bewertung\n‚Ä¢ Real-time Monitoring erm√∂glicht zeitnahe Anpassungen und Optimierungen\n‚Ä¢ Machine Learning Algorithmen verbessern kontinuierlich Vorhersagegenauigkeit\n\nüîÑ Adaptive vs. statische Strukturen:\n‚Ä¢ Traditionelle BCM-Pl√§ne sind oft statisch und schwer anpassbar\n‚Ä¢ Framework-Strukturen sind inherent adaptiv und evolutionsf√§hig\n‚Ä¢ Dynamic Reconfiguration erm√∂glicht schnelle Anpassung an ver√§nderte Bedingungen\n‚Ä¢ Self-healing Mechanisms reduzieren manuelle Intervention bei St√∂rungen\n‚Ä¢ Continuous Learning Loops verbessern automatisch Framework-Performance\n\nüåê Ecosystem-weite vs. organisationsinterne Perspektive:\n‚Ä¢ Traditionelle Ans√§tze betrachten prim√§r interne Organisationsstrukturen\n‚Ä¢ Frameworks entwickeln ecosystem-weite Perspektive mit Partnern und Stakeholdern\n‚Ä¢ Supply Chain Integration erweitert Resilienz √ºber Organisationsgrenzen\n‚Ä¢ Collaborative Resilience schafft Netzwerkeffekte und geteilte Vorteile\n‚Ä¢ Platform Economics nutzen Skaleneffekte und Netzwerkexternalit√§ten\n\nüí° Innovation-orientierte vs. compliance-fokussierte Herangehensweise:\n‚Ä¢ Traditionelle BCM erf√ºllt prim√§r Compliance-Anforderungen\n‚Ä¢ Framework-Ansatz nutzt BCM als Innovation-Treiber und Wettbewerbsvorteil\n‚Ä¢ Emerging Technologies werden systematisch evaluiert und integriert\n‚Ä¢ Digital Transformation wird durch resiliente Strukturen erm√∂glicht\n‚Ä¢ Future-proofing durch antizipative Anpassung an technologische Entwicklungen"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 3),
        question: 'Welche Architektur-Prinzipien und Design-Patterns sind f√ºr ein effektives BCM-Framework entscheidend?',
        answer: "Effektive BCM-Frameworks basieren auf bew√§hrten Architektur-Prinzipien und Design-Patterns aus der Enterprise Architecture und dem Software Engineering. Diese methodischen Grundlagen gew√§hrleisten Robustheit, Skalierbarkeit und Anpassungsf√§higkeit des Frameworks √ºber verschiedene Organisationskontexte hinweg.\n\nüèóÔ∏è Layered Architecture und Separation of Concerns:\n‚Ä¢ Strategic Layer definiert Vision, Mission und langfristige Ziele des BCM-Frameworks\n‚Ä¢ Tactical Layer √ºbersetzt strategische Vorgaben in konkrete Programme und Initiativen\n‚Ä¢ Operational Layer implementiert t√§gliche BCM-Aktivit√§ten und Prozesse\n‚Ä¢ Technical Layer stellt Infrastruktur und Tools f√ºr Framework-Unterst√ºtzung bereit\n‚Ä¢ Klare Schnittstellen zwischen Layern erm√∂glichen unabh√§ngige Entwicklung und Wartung\n\nüîß Modular Design und Component-based Architecture:\n‚Ä¢ Framework-Komponenten sind lose gekoppelt und hoch koh√§siv f√ºr maximale Flexibilit√§t\n‚Ä¢ Standardisierte Schnittstellen erm√∂glichen Austausch und Erweiterung von Komponenten\n‚Ä¢ Plug-and-Play Architektur unterst√ºtzt schrittweise Implementierung und Anpassung\n‚Ä¢ Reusable Components reduzieren Entwicklungsaufwand und erh√∂hen Konsistenz\n‚Ä¢ Microservices-Prinzipien erm√∂glichen granulare Skalierung und Wartung\n\nüìê Service-oriented Architecture und API-First Design:\n‚Ä¢ BCM-Services kapseln spezifische Funktionalit√§ten mit definierten Schnittstellen\n‚Ä¢ RESTful APIs erm√∂glichen plattformunabh√§ngige Integration und Interoperabilit√§t\n‚Ä¢ Event-driven Architecture unterst√ºtzt asynchrone Kommunikation und Entkopplung\n‚Ä¢ Service Registry und Discovery Mechanismen vereinfachen Service-Management\n‚Ä¢ API Gateway Pattern zentralisiert Zugriffskontrolle und Monitoring\n\nüéØ Domain-driven Design und Bounded Contexts:\n‚Ä¢ BCM-Dom√§nen werden als eigenst√§ndige Bounded Contexts mit spezifischer Fachsprache modelliert\n‚Ä¢ Ubiquitous Language gew√§hrleistet einheitliches Verst√§ndnis innerhalb jeder Dom√§ne\n‚Ä¢ Aggregate Patterns kapseln Gesch√§ftslogik und gew√§hrleisten Datenkonsistenz\n‚Ä¢ Context Mapping definiert Beziehungen und Abh√§ngigkeiten zwischen Dom√§nen\n‚Ä¢ Anti-corruption Layer sch√ºtzen vor ungewollten Abh√§ngigkeiten zwischen Kontexten\n\nüîÑ Event Sourcing und CQRS Patterns:\n‚Ä¢ Event Sourcing erfasst alle √Ñnderungen als unver√§nderliche Events f√ºr vollst√§ndige Nachvollziehbarkeit\n‚Ä¢ Command Query Responsibility Segregation trennt Lese- und Schreiboperationen f√ºr optimale Performance\n‚Ä¢ Event Store fungiert als Single Source of Truth f√ºr alle BCM-relevanten Ereignisse\n‚Ä¢ Projection Patterns erstellen optimierte Views f√ºr verschiedene Anwendungsf√§lle\n‚Ä¢ Temporal Modeling erm√∂glicht Zeitreise-Analysen und What-if-Szenarien\n\nüõ°Ô∏è Resilience Patterns und Fault Tolerance:\n‚Ä¢ Circuit Breaker Pattern verhindert Kaskadenausf√§lle durch automatische Isolation fehlerhafter Services\n‚Ä¢ Bulkhead Pattern isoliert kritische Ressourcen vor √úberlastung durch andere Komponenten\n‚Ä¢ Retry und Timeout Patterns handhaben transiente Fehler graceful\n‚Ä¢ Graceful Degradation erm√∂glicht eingeschr√§nkten Betrieb bei Teilausf√§llen\n‚Ä¢ Health Check Patterns √ºberwachen kontinuierlich System-Gesundheit\n\nüìä Observer Pattern und Event-driven Notifications:\n‚Ä¢ Observer Pattern erm√∂glicht lose gekoppelte Benachrichtigungen bei Zustands√§nderungen\n‚Ä¢ Publish-Subscribe Mechanismen verteilen Events an interessierte Komponenten\n‚Ä¢ Message Queues gew√§hrleisten zuverl√§ssige √úbertragung auch bei tempor√§ren Ausf√§llen\n‚Ä¢ Event Choreography koordiniert komplexe Workflows ohne zentrale Orchestrierung\n‚Ä¢ Saga Pattern verwaltet verteilte Transaktionen √ºber Service-Grenzen hinweg\n\nüîç Strategy Pattern und Policy-based Configuration:\n‚Ä¢ Strategy Pattern erm√∂glicht austauschbare Algorithmen f√ºr verschiedene BCM-Szenarien\n‚Ä¢ Policy Engine interpretiert Gesch√§ftsregeln und steuert Framework-Verhalten\n‚Ä¢ Rule-based Systems unterst√ºtzen deklarative Definition von BCM-Logik\n‚Ä¢ Template Method Pattern standardisiert Prozessabl√§ufe bei flexibler Implementierung\n‚Ä¢ Dependency Injection erm√∂glicht testbare und konfigurierbare Komponenten\n\nüåê Federation Pattern und Multi-tenancy:\n‚Ä¢ Federation Pattern erm√∂glicht verteilte BCM-Governance √ºber Organisationsgrenzen\n‚Ä¢ Multi-tenant Architecture unterst√ºtzt verschiedene Organisationseinheiten mit gemeinsamer Infrastruktur\n‚Ä¢ Namespace Isolation gew√§hrleistet Datentrennung und Sicherheit\n‚Ä¢ Shared-nothing Architecture vermeidet Single Points of Failure\n‚Ä¢ Horizontal Scaling Patterns unterst√ºtzen wachsende Anforderungen"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 4),
        question: 'Wie erfolgt die Auswahl und Anpassung von Framework-Methodologien f√ºr spezifische Organisationsanforderungen?',
        answer: "Die Auswahl und Anpassung von BCM-Framework-Methodologien erfordert einen systematischen Ansatz, der organisationsspezifische Anforderungen, Reifegrad und strategische Ziele ber√ºcksichtigt. Ein methodisches Vorgehen gew√§hrleistet optimale Passung zwischen Framework-Charakteristika und organisationalen Bed√ºrfnissen.\n\nüîç Organisationsanalyse und Requirements Engineering:\n‚Ä¢ Comprehensive Assessment erfasst aktuelle BCM-Reife, Governance-Strukturen und technische Landschaft\n‚Ä¢ Stakeholder Analysis identifiziert alle relevanten Interessensgruppen und deren spezifische Anforderungen\n‚Ä¢ Business Context Mapping analysiert Gesch√§ftsmodell, Wertsch√∂pfungsketten und kritische Abh√§ngigkeiten\n‚Ä¢ Regulatory Landscape Review ber√ºcksichtigt branchenspezifische Compliance-Anforderungen\n‚Ä¢ Cultural Assessment bewertet Organisationskultur und Change-Bereitschaft\n\nüìä Framework-Evaluation und Selection Criteria:\n‚Ä¢ Multi-criteria Decision Analysis gewichtet verschiedene Framework-Eigenschaften nach organisationaler Priorit√§t\n‚Ä¢ Capability Mapping vergleicht Framework-Funktionalit√§ten mit identifizierten Anforderungen\n‚Ä¢ Maturity Model Alignment pr√ºft Kompatibilit√§t mit angestrebtem Reifegrad\n‚Ä¢ Technology Stack Compatibility bewertet Integration mit bestehender IT-Landschaft\n‚Ä¢ Total Cost of Ownership Analyse ber√ºcksichtigt alle direkten und indirekten Kosten\n\nüéØ Customization Strategy und Adaptation Patterns:\n‚Ä¢ Configuration over Customization bevorzugt parametrische Anpassung vor Code-√Ñnderungen\n‚Ä¢ Extension Points erm√∂glichen organisationsspezifische Erweiterungen ohne Framework-Modifikation\n‚Ä¢ Template Specialization passt generische Vorlagen an spezifische Anforderungen an\n‚Ä¢ Policy-driven Customization nutzt Regelwerke f√ºr flexible Verhaltenssteuerung\n‚Ä¢ Localization Frameworks unterst√ºtzen kulturelle und sprachliche Anpassungen\n\nüèóÔ∏è Incremental Implementation und Pilot Approaches:\n‚Ä¢ Proof of Concept validiert Framework-Eignung in begrenztem Umfang\n‚Ä¢ Pilot Implementation testet Anpassungen in repr√§sentativer Umgebung\n‚Ä¢ Phased Rollout minimiert Risiken durch schrittweise Ausweitung\n‚Ä¢ Parallel Run Strategien erm√∂glichen sanfte Migration von Legacy-Systemen\n‚Ä¢ Rollback Mechanisms gew√§hrleisten R√ºckkehr zu stabilen Zust√§nden bei Problemen\n\nüîß Integration Patterns und Interoperability:\n‚Ä¢ API-first Integration nutzt standardisierte Schnittstellen f√ºr System-Kopplung\n‚Ä¢ Message-based Integration entkoppelt Systeme durch asynchrone Kommunikation\n‚Ä¢ Data Synchronization Patterns gew√§hrleisten Konsistenz zwischen verschiedenen Systemen\n‚Ä¢ Legacy Wrapper Services kapseln bestehende Systeme f√ºr Framework-Integration\n‚Ä¢ Canonical Data Models standardisieren Datenstrukturen √ºber System-Grenzen\n\nüìà Performance Optimization und Scaling Strategies:\n‚Ä¢ Load Testing validiert Framework-Performance unter realistischen Bedingungen\n‚Ä¢ Bottleneck Analysis identifiziert Performance-kritische Komponenten\n‚Ä¢ Caching Strategies reduzieren Latenz und verbessern Responsiveness\n‚Ä¢ Horizontal Scaling Patterns unterst√ºtzen wachsende Nutzerzahlen\n‚Ä¢ Resource Optimization minimiert Infrastruktur-Anforderungen\n\nüîÑ Continuous Adaptation und Evolution Management:\n‚Ä¢ Change Impact Analysis bewertet Auswirkungen von Framework-√Ñnderungen\n‚Ä¢ Version Management Strategien koordinieren Framework-Evolution\n‚Ä¢ Backward Compatibility gew√§hrleistet Stabilit√§t bestehender Implementierungen\n‚Ä¢ Feature Toggle Mechanisms erm√∂glichen kontrollierte Einf√ºhrung neuer Funktionalit√§ten\n‚Ä¢ Feedback Loop Integration sammelt kontinuierlich Verbesserungsvorschl√§ge\n\nüéì Knowledge Transfer und Capability Building:\n‚Ä¢ Training Program Design entwickelt organisationsspezifische Schulungskonzepte\n‚Ä¢ Mentoring Frameworks unterst√ºtzen Wissenstransfer von Experten zu Anwendern\n‚Ä¢ Community of Practice f√∂rdert organisationsweiten Erfahrungsaustausch\n‚Ä¢ Documentation Strategies gew√§hrleisten nachhaltige Wissenssicherung\n‚Ä¢ Certification Programs validieren Framework-Kompetenz auf verschiedenen Ebenen"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 1 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
