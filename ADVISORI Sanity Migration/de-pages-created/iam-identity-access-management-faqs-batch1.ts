import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating IAM Identity Access Management page with FAQ batch 1...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'iam-identity-access-management' })
    
    if (!existingDoc) {
      throw new Error('Document "iam-identity-access-management" not found')
    }
    
    // Create new FAQs for IAM Identity Access Management fundamentals
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 1),
        question: 'Was macht IAM Identity & Access Management zu einem strategischen Erfolgsfaktor f√ºr moderne Unternehmen und wie unterscheidet es sich von traditionellen Sicherheitsans√§tzen?',
        answer: "IAM Identity & Access Management ist das strategische Nervensystem moderner Unternehmen und transformiert Sicherheit von einem reaktiven Kostenfaktor zu einem proaktiven Business-Enabler. Anders als traditionelle perimeter-basierte Sicherheitsans√§tze orchestriert modernes IAM eine intelligente, adaptive Sicherheitsarchitektur, die Identit√§ten als prim√§ren Sicherheitsanker nutzt und dabei Gesch√§ftsprozesse beschleunigt statt behindert.\n\nüéØ Strategische Transformation und Business-Impact:\n‚Ä¢ Zentrale Identit√§ts-Governance als Fundament f√ºr digitale Transformation und Cloud-Migration\n‚Ä¢ Zero-Trust-Architektur mit kontinuierlicher Verifikation statt statischer Perimeter-Verteidigung\n‚Ä¢ Business-Process-Integration f√ºr nahtlose Workflows und optimierte Produktivit√§t\n‚Ä¢ Risk-based Authentication mit intelligenter Anpassung an Benutzerkontext und Bedrohungslage\n‚Ä¢ Compliance-by-Design f√ºr automatisierte regulatorische Exzellenz und Audit-Bereitschaft\n\nüöÄ Innovation-Enablement und Competitive Advantage:\n‚Ä¢ API-first Architecture f√ºr moderne Anwendungsentwicklung und Ecosystem-Integration\n‚Ä¢ Cloud-native Skalierbarkeit f√ºr globale Expansion und elastische Ressourcennutzung\n‚Ä¢ AI-powered Analytics f√ºr pr√§diktive Sicherheitsentscheidungen und Anomaly Detection\n‚Ä¢ Self-Service Capabilities f√ºr beschleunigte Benutzer-Onboarding und reduzierte IT-Belastung\n‚Ä¢ Mobile-first Design f√ºr moderne Arbeitspl√§tze und Remote-Work-Enablement\n\nüõ°Ô∏è Advanced Security Framework:\n‚Ä¢ Behavioral Analytics f√ºr Erkennung subtiler Bedrohungen und Insider-Threats\n‚Ä¢ Privileged Access Management mit Just-in-Time-Elevation und Session-Monitoring\n‚Ä¢ Threat Intelligence Integration f√ºr proaktive Abwehr bekannter Angriffsmuster\n‚Ä¢ Automated Incident Response f√ºr schnelle Reaktion auf Sicherheitsvorf√§lle\n‚Ä¢ Continuous Security Assessment f√ºr dynamische Risikobewertung und Anpassung\n\nüìä Data-driven Decision Making:\n‚Ä¢ Identity Analytics f√ºr Einblicke in Benutzerverhalten und Zugriffsmuster\n‚Ä¢ Risk Scoring mit Machine Learning f√ºr intelligente Autorisierungsentscheidungen\n‚Ä¢ Compliance Dashboards f√ºr Real-time √úberwachung regulatorischer Anforderungen\n‚Ä¢ Performance Metrics f√ºr kontinuierliche Optimierung und ROI-Maximierung\n‚Ä¢ Predictive Insights f√ºr proaktive Kapazit√§tsplanung und Sicherheitsma√ünahmen\n\nüåê Enterprise-Scale Integration:\n‚Ä¢ Multi-Cloud Identity Federation f√ºr Hybrid und Multi-Cloud Strategien\n‚Ä¢ Legacy System Integration ohne Disruption bestehender Gesch√§ftsprozesse\n‚Ä¢ Partner Ecosystem Support f√ºr sichere B2B-Collaboration und Supply Chain Integration\n‚Ä¢ Global Deployment mit lokaler Compliance f√ºr internationale Gesch√§ftst√§tigkeit\n‚Ä¢ Disaster Recovery und Business Continuity f√ºr kritische Gesch√§ftsprozesse"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 2),
        question: 'Welche kritischen Komponenten und Architekturen bilden ein enterprise-grade IAM Identity & Access Management System und wie arbeiten sie zusammen f√ºr maximale Sicherheit und Performance?',
        answer: "Ein enterprise-grade IAM Identity & Access Management System ist ein hochkomplexes √ñkosystem intelligenter Komponenten, die nahtlos zusammenarbeiten, um eine robuste, skalierbare und adaptive Identit√§tsverwaltung zu erm√∂glichen. Diese Architektur muss sowohl h√∂chste Sicherheitsstandards als auch optimale Benutzerfreundlichkeit gew√§hrleisten, w√§hrend sie gleichzeitig Gesch√§ftsprozesse beschleunigt und Compliance-Anforderungen automatisiert erf√ºllt.\n\nüèóÔ∏è Core Identity Management Infrastructure:\n‚Ä¢ Identity Repository als hochverf√ºgbare, skalierbare Datenbank f√ºr alle Identit√§tsinformationen und Attribute\n‚Ä¢ Directory Services mit hierarchischer Organisation und intelligenter Synchronisation √ºber alle Systeme\n‚Ä¢ Identity Lifecycle Management f√ºr automatisierte Erstellung, Modifikation und Deaktivierung von Identit√§ten\n‚Ä¢ Identity Federation f√ºr sichere Cross-Domain-Authentifizierung und Single Sign-On\n‚Ä¢ Identity Synchronization mit Real-time Updates und Conflict Resolution\n\nüîê Advanced Authentication und Authorization Engine:\n‚Ä¢ Multi-Factor Authentication mit adaptiven Sicherheitsanforderungen basierend auf Risikobewertung\n‚Ä¢ Single Sign-On mit nahtloser Integration in alle Unternehmensanwendungen\n‚Ä¢ Adaptive Authentication mit KI-gest√ºtzter Anomaly Detection und Behavioral Analytics\n‚Ä¢ Policy Engine f√ºr granulare Autorisierungsregeln und kontextbasierte Zugriffskontrollen\n‚Ä¢ Session Management mit intelligenter Timeout-Steuerung und Security-Monitoring\n\n‚öôÔ∏è Intelligent Provisioning und Workflow Orchestration:\n‚Ä¢ Automated Provisioning mit Business-Rule-Integration und Approval-Workflows\n‚Ä¢ Role-Based Access Control mit dynamischen Rollenmodellen und Vererbungsstrukturen\n‚Ä¢ Attribute-Based Access Control f√ºr granulare Zugriffskontrollen basierend auf Kontext\n‚Ä¢ Segregation of Duties mit automatischer Erkennung und Verhinderung von Interessenkonflikten\n‚Ä¢ Recertification Processes mit intelligenten Empfehlungen und Risk-based Priorisierung\n\nüõ°Ô∏è Enterprise Privileged Access Management:\n‚Ä¢ Privileged Account Management mit sicherer Verwaltung aller administrativen Accounts\n‚Ä¢ Password Vaulting mit automatischer Rotation und Compliance-Integration\n‚Ä¢ Session Recording und Monitoring f√ºr umfassende √úberwachung privilegierter Aktivit√§ten\n‚Ä¢ Just-in-Time Access mit tempor√§rer Rechteerweiterung und automatischer Revokation\n‚Ä¢ Privileged Analytics f√ºr Erkennung anomaler Aktivit√§ten und Insider-Threat-Detection\n\nüìä Governance und Compliance Automation:\n‚Ä¢ Access Governance f√ºr kontinuierliche √úberwachung und Optimierung von Zugriffsrechten\n‚Ä¢ Risk Analytics mit Machine Learning f√ºr datengetriebene Risikobewertung\n‚Ä¢ Compliance Reporting f√ºr automatisierte Erstellung regulatorischer Berichte\n‚Ä¢ Audit Trail Management mit umfassender Protokollierung aller IAM-Aktivit√§ten\n‚Ä¢ Identity Analytics f√ºr Erkennung von Mustern und Anomalien in Identit√§tsdaten\n\nüîó Cloud-native Integration und API Management:\n‚Ä¢ API Gateway f√ºr sichere und skalierbare Integration mit modernen Anwendungen\n‚Ä¢ Microservices Architecture f√ºr flexible Deployment-Optionen und Skalierbarkeit\n‚Ä¢ Event-driven Architecture f√ºr Real-time Synchronisation und Benachrichtigungen\n‚Ä¢ Cloud Integration f√ºr nahtlose Anbindung von SaaS-Anwendungen und Cloud-Services\n‚Ä¢ Container-based Deployment f√ºr moderne DevOps-Workflows und CI/CD-Integration"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 3),
        question: 'Wie implementiert man eine Zero-Trust-IAM-Architektur erfolgreich und welche strategischen Vorteile bietet sie f√ºr moderne Unternehmenssicherheit?',
        answer: "Zero-Trust-IAM-Architekturen revolutionieren die Unternehmenssicherheit durch das Prinzip kontinuierlicher Verifikation und intelligenter Risikobewertung. Anders als traditionelle perimeter-basierte Ans√§tze geht Zero-Trust davon aus, dass Vertrauen niemals implizit gew√§hrt wird, sondern kontinuierlich verdient und validiert werden muss. Diese Philosophie transformiert IAM von einem statischen Sicherheitsmechanismus zu einem dynamischen, adaptiven System.\n\nüéØ Zero-Trust-Prinzipien und Architektur-Fundamente:\n‚Ä¢ Never Trust, Always Verify als Grundprinzip f√ºr alle Identit√§ts- und Zugriffsentscheidungen\n‚Ä¢ Least Privilege Access mit minimalen Berechtigungen und Just-in-Time-Elevation\n‚Ä¢ Assume Breach Mentality mit kontinuierlicher √úberwachung und Anomaly Detection\n‚Ä¢ Verify Explicitly durch Multi-Factor Authentication und Behavioral Analytics\n‚Ä¢ Continuous Monitoring mit Real-time Risk Assessment und adaptive Sicherheitsma√ünahmen\n\nüõ°Ô∏è Implementation-Strategie und Phasenansatz:\n‚Ä¢ Current State Assessment f√ºr umfassende Analyse bestehender Identit√§ts- und Zugriffsstrukturen\n‚Ä¢ Risk-based Priorisierung f√ºr strategische Implementierung kritischer Systeme zuerst\n‚Ä¢ Pilot Implementation mit ausgew√§hlten Anwendungen und Benutzergruppen\n‚Ä¢ Gradual Rollout mit kontinuierlicher √úberwachung und Anpassung\n‚Ä¢ Full-Scale Deployment mit umfassender Integration aller Unternehmenssysteme\n\nüîç Advanced Authentication und Verification:\n‚Ä¢ Multi-Factor Authentication mit adaptiven Anforderungen basierend auf Risikobewertung\n‚Ä¢ Behavioral Biometrics f√ºr kontinuierliche Benutzerverifikation w√§hrend der Session\n‚Ä¢ Device Trust mit Endpoint-Compliance-√úberpr√ºfung und Certificate-based Authentication\n‚Ä¢ Location-based Authentication mit Geo-Fencing und Anomaly Detection\n‚Ä¢ Time-based Access Controls mit intelligenten Zeitfenstern und Ausnahmebehandlung\n\nüìä Intelligent Risk Assessment und Analytics:\n‚Ä¢ Real-time Risk Scoring mit Machine Learning f√ºr dynamische Sicherheitsentscheidungen\n‚Ä¢ Contextual Analysis mit Ber√ºcksichtigung von Benutzer, Ger√§t, Standort und Anwendung\n‚Ä¢ Threat Intelligence Integration f√ºr proaktive Abwehr bekannter Angriffsmuster\n‚Ä¢ Anomaly Detection mit KI-gest√ºtzter Erkennung ungew√∂hnlicher Aktivit√§tsmuster\n‚Ä¢ Predictive Analytics f√ºr Vorhersage potenzieller Sicherheitsrisiken\n\nüöÄ Business-Enablement und Competitive Advantages:\n‚Ä¢ Enhanced Security Posture mit signifikant reduziertem Risiko von Datenverletzungen\n‚Ä¢ Improved Compliance mit automatisierter Erf√ºllung regulatorischer Anforderungen\n‚Ä¢ Reduced Attack Surface durch minimale Berechtigungen und kontinuierliche √úberwachung\n‚Ä¢ Faster Incident Response durch Real-time Detection und automatisierte Reaktion\n‚Ä¢ Better User Experience durch intelligente Authentifizierung und nahtlose Zugriffe\n\nüåê Cloud-native und Hybrid-Integration:\n‚Ä¢ Multi-Cloud Support f√ºr konsistente Sicherheitsrichtlinien √ºber alle Cloud-Umgebungen\n‚Ä¢ Hybrid Integration f√ºr nahtlose Verbindung von On-Premises und Cloud-Systemen\n‚Ä¢ API-first Design f√ºr moderne Anwendungsarchitekturen und Microservices\n‚Ä¢ Container Security f√ºr sichere Containerisierung und Kubernetes-Integration\n‚Ä¢ Edge Computing Support f√ºr IoT-Ger√§te und Edge-Anwendungen"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 4),
        question: 'Welche Rolle spielt Privileged Access Management in einer modernen IAM-Strategie und wie sch√ºtzt es kritische Unternehmensassets vor Advanced Persistent Threats?',
        answer: "Privileged Access Management ist das Herzst√ºck jeder robusten IAM-Strategie und bildet die letzte Verteidigungslinie gegen Advanced Persistent Threats und Insider-Angriffe. PAM sch√ºtzt die wertvollsten und kritischsten Assets eines Unternehmens durch spezialisierte Sicherheitskontrollen, die weit √ºber traditionelle Zugriffsverwaltung hinausgehen und eine Zero-Trust-Architektur f√ºr privilegierte Zugriffe implementieren.\n\nüéØ Strategic PAM-Integration und Enterprise-Protection:\n‚Ä¢ Critical Asset Identification f√ºr systematische Klassifizierung und Priorisierung sch√ºtzenswerter Ressourcen\n‚Ä¢ Privileged Account Discovery mit automatischer Erkennung aller administrativen und Service-Accounts\n‚Ä¢ Risk-based Access Controls mit dynamischer Anpassung an Bedrohungslage und Benutzerkontext\n‚Ä¢ Comprehensive Audit Trails f√ºr l√ºckenlose Nachverfolgung aller privilegierten Aktivit√§ten\n‚Ä¢ Compliance Integration f√ºr automatisierte Erf√ºllung regulatorischer Anforderungen\n\nüîê Advanced Credential Management und Protection:\n‚Ä¢ Password Vaulting mit hochsicherer Speicherung und automatischer Rotation privilegierter Credentials\n‚Ä¢ Certificate Management f√ºr PKI-basierte Authentifizierung und sichere Kommunikation\n‚Ä¢ API Key Management f√ºr sichere Verwaltung von Service-to-Service-Authentifizierung\n‚Ä¢ SSH Key Management mit zentralisierter Kontrolle und Lifecycle-Management\n‚Ä¢ Secret Management f√ºr sichere Speicherung und Verteilung von Anwendungsgeheimnissen\n\n‚ö° Just-in-Time Access und Elevation-on-Demand:\n‚Ä¢ Temporary Privilege Elevation mit automatischer Revokation nach definierten Zeitfenstern\n‚Ä¢ Approval Workflows f√ºr kontrollierte Genehmigung kritischer Zugriffe\n‚Ä¢ Emergency Access Procedures f√ºr Notfallsituationen mit umfassender Protokollierung\n‚Ä¢ Break-Glass Access mit sofortiger Benachrichtigung und Audit-Trail\n‚Ä¢ Time-based Access Controls mit intelligenten Zeitfenstern und Ausnahmebehandlung\n\nüîç Comprehensive Session Monitoring und Analytics:\n‚Ä¢ Session Recording mit vollst√§ndiger Aufzeichnung aller privilegierten Aktivit√§ten\n‚Ä¢ Real-time Monitoring mit sofortiger Erkennung verd√§chtiger Aktivit√§ten\n‚Ä¢ Behavioral Analytics f√ºr Erkennung anomaler Verhaltensmuster privilegierter Benutzer\n‚Ä¢ Keystroke Analysis mit intelligenter Erkennung von Malware und unautorisierten Aktivit√§ten\n‚Ä¢ Command Filtering mit Blockierung gef√§hrlicher Befehle und Aktionen\n\nüõ°Ô∏è Advanced Threat Protection und Response:\n‚Ä¢ Insider Threat Detection mit Machine Learning f√ºr Erkennung kompromittierter Accounts\n‚Ä¢ Lateral Movement Prevention durch Segmentierung und Micro-Perimeter\n‚Ä¢ Threat Intelligence Integration f√ºr proaktive Abwehr bekannter Angriffsmuster\n‚Ä¢ Automated Incident Response mit sofortiger Isolation kompromittierter Accounts\n‚Ä¢ Forensic Capabilities f√ºr detaillierte Analyse von Sicherheitsvorf√§llen\n\nüåê Cloud-native PAM und Hybrid-Integration:\n‚Ä¢ Multi-Cloud PAM f√ºr konsistente privilegierte Zugriffskontrolle √ºber alle Cloud-Umgebungen\n‚Ä¢ DevOps Integration f√ºr sichere Verwaltung privilegierter Zugriffe in CI/CD-Pipelines\n‚Ä¢ Container Security f√ºr privilegierte Zugriffe in containerisierten Umgebungen\n‚Ä¢ Infrastructure as Code Integration f√ºr sichere Automatisierung und Orchestrierung\n‚Ä¢ API-driven Architecture f√ºr nahtlose Integration in moderne Anwendungslandschaften"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 1 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
