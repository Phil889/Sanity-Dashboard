import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating Business Continuity Management Plan page with FAQ batch 2...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'business-continuity-management-plan' })
    
    if (!existingDoc) {
      throw new Error('Document "business-continuity-management-plan" not found')
    }
    
    // Create new FAQs for advanced BCM Plan topics
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 5),
        question: 'Welche Rolle spielen Technologie und Automatisierung in modernen BCM-Pl√§nen?',
        answer: "Technologie und Automatisierung transformieren moderne BCM-Pl√§ne von statischen Dokumenten zu dynamischen, intelligenten Systemen. Sie erm√∂glichen Echtzeit-Monitoring, automatisierte Reaktionen und datenbasierte Entscheidungsfindung f√ºr erh√∂hte Resilienz und operative Effizienz.\n\nü§ñ Automatisierte Aktivierung und Eskalation:\n‚Ä¢ Intelligente Monitoring-Systeme erkennen St√∂rungen automatisch und aktivieren entsprechende Plan-Komponenten\n‚Ä¢ Regelbasierte Eskalationslogik gew√§hrleistet zeitnahe Benachrichtigung relevanter Stakeholder\n‚Ä¢ Automatisierte Workflow-Ausf√ºhrung reduziert menschliche Fehler und Reaktionszeiten\n‚Ä¢ Machine Learning Algorithmen verbessern Erkennungsgenauigkeit basierend auf historischen Daten\n‚Ä¢ Predictive Analytics erm√∂glichen proaktive Ma√ünahmen vor Eintritt kritischer Situationen\n\nüìä Echtzeit-Dashboards und Situational Awareness:\n‚Ä¢ Zentrale Kommando-Dashboards bieten umfassende Sichtbarkeit auf alle kritischen Systeme\n‚Ä¢ Interaktive Visualisierungen erleichtern schnelle Situationsbewertung und Entscheidungsfindung\n‚Ä¢ Mobile Anwendungen erm√∂glichen Zugriff auf kritische Informationen von √ºberall\n‚Ä¢ Augmented Reality Interfaces unterst√ºtzen Feldteams bei komplexen Wiederherstellungsaktivit√§ten\n‚Ä¢ Collaborative Platforms f√∂rdern koordinierte Teamarbeit w√§hrend Krisensituationen\n\nüîó Integrierte Kommunikationssysteme:\n‚Ä¢ Unified Communication Platforms verbinden verschiedene Kommunikationskan√§le\n‚Ä¢ Automatisierte Benachrichtigungssysteme gew√§hrleisten zeitnahe Information aller Beteiligten\n‚Ä¢ Multi-Channel-Messaging erreicht Stakeholder √ºber bevorzugte Kommunikationswege\n‚Ä¢ Redundante Kommunikationsinfrastruktur sichert Erreichbarkeit auch bei Systemausf√§llen\n‚Ä¢ Dokumentations-Bots erfassen automatisch alle Kommunikation f√ºr sp√§tere Analyse\n\nüß† K√ºnstliche Intelligenz und Decision Support:\n‚Ä¢ AI-basierte Entscheidungsunterst√ºtzung analysiert komplexe Situationen und schl√§gt Ma√ünahmen vor\n‚Ä¢ Natural Language Processing extrahiert relevante Informationen aus unstrukturierten Datenquellen\n‚Ä¢ Simulation Engines modellieren verschiedene Reaktionsszenarien und deren Auswirkungen\n‚Ä¢ Expert Systems kodifizieren Erfahrungswissen f√ºr konsistente Entscheidungsfindung\n‚Ä¢ Cognitive Computing unterst√ºtzt komplexe Probleml√∂sung unter Zeitdruck\n\n‚òÅÔ∏è Cloud-basierte Infrastruktur und Skalierbarkeit:\n‚Ä¢ Cloud-native BCM-Plattformen bieten hohe Verf√ºgbarkeit und automatische Skalierung\n‚Ä¢ Disaster Recovery as a Service erm√∂glicht schnelle Wiederherstellung kritischer Systeme\n‚Ä¢ Geo-redundante Datenspeicherung sch√ºtzt vor lokalen Infrastrukturausf√§llen\n‚Ä¢ Container-basierte Anwendungen erm√∂glichen flexible Ressourcenallokation\n‚Ä¢ Serverless Computing reduziert Infrastruktur-Komplexit√§t und Wartungsaufwand\n\nüì± Mobile und Remote-Capabilities:\n‚Ä¢ Mobile BCM-Apps erm√∂glichen Planausf√ºhrung von beliebigen Standorten\n‚Ä¢ Offline-Funktionalit√§t gew√§hrleistet Zugriff auch bei Netzwerkausf√§llen\n‚Ä¢ GPS-Integration unterst√ºtzt Standort-basierte Entscheidungen und Ressourcenallokation\n‚Ä¢ Biometrische Authentifizierung sichert Zugriff auf kritische Funktionen\n‚Ä¢ Push-Benachrichtigungen informieren √ºber kritische Entwicklungen in Echtzeit\n\nüîÑ Kontinuierliche Optimierung durch Analytics:\n‚Ä¢ Performance Analytics identifizieren Verbesserungspotenziale in Plan-Ausf√ºhrung\n‚Ä¢ Predictive Maintenance verhindert Ausf√§lle kritischer Systeme\n‚Ä¢ Behavioral Analytics optimieren Benutzerinterfaces und Workflows\n‚Ä¢ Cost Analytics bewerten Effizienz verschiedener Kontinuit√§tsstrategien\n‚Ä¢ Compliance Analytics √ºberwachen Einhaltung regulatorischer Anforderungen\n\nüõ°Ô∏è Cybersecurity und Datenschutz:\n‚Ä¢ Zero-Trust-Architekturen sch√ºtzen BCM-Systeme vor Cyber-Bedrohungen\n‚Ä¢ End-to-End-Verschl√ºsselung sichert sensible Plan-Informationen\n‚Ä¢ Multi-Faktor-Authentifizierung verhindert unbefugten Zugriff\n‚Ä¢ Privacy-by-Design-Prinzipien gew√§hrleisten Datenschutz-Compliance\n‚Ä¢ Incident Response Integration verbindet BCM mit Cybersecurity-Ma√ünahmen"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 6),
        question: 'Wie werden BCM-Pl√§ne an verschiedene Organisationsgr√∂√üen und Branchen angepasst?',
        answer: "Die Anpassung von BCM-Pl√§nen an verschiedene Organisationsgr√∂√üen und Branchen erfordert einen flexiblen, modularen Ansatz, der spezifische Anforderungen, Ressourcen und regulatorische Umgebungen ber√ºcksichtigt. Erfolgreiche Customization verbindet bew√§hrte Grundprinzipien mit ma√ügeschneiderten L√∂sungen.\n\nüè¢ Organisationsgr√∂√üen-spezifische Anpassungen:\n‚Ä¢ Kleine Unternehmen ben√∂tigen schlanke, kosteneffiziente Pl√§ne mit begrenzten Ressourcen\n‚Ä¢ Mittelst√§ndische Organisationen profitieren von modularen Ans√§tzen mit schrittweiser Expansion\n‚Ä¢ Gro√üunternehmen erfordern komplexe, multi-standort-f√§hige Planungsstrukturen\n‚Ä¢ Konzerne ben√∂tigen f√∂derierte Ans√§tze mit zentraler Koordination und lokaler Autonomie\n‚Ä¢ Startups fokussieren auf agile, schnell anpassbare Kontinuit√§tsstrategien\n\nüè≠ Branchen-spezifische Anforderungen:\n‚Ä¢ Finanzdienstleister unterliegen strengen regulatorischen Anforderungen und Verf√ºgbarkeitsstandards\n‚Ä¢ Gesundheitswesen priorisiert Patientensicherheit und medizinische Kontinuit√§t\n‚Ä¢ Fertigungsindustrie fokussiert auf Supply Chain Resilience und Produktionskontinuit√§t\n‚Ä¢ Energieversorgung erfordert kritische Infrastruktur-Schutz und gesellschaftliche Verantwortung\n‚Ä¢ Technologieunternehmen ben√∂tigen Cyber-Resilienz und Datenintegrit√§t\n\nüìã Modulare Plan-Architekturen:\n‚Ä¢ Kern-Module enthalten universelle BCM-Prinzipien f√ºr alle Organisationstypen\n‚Ä¢ Branchen-Module adressieren spezifische regulatorische und operative Anforderungen\n‚Ä¢ Gr√∂√üen-Module skalieren Komplexit√§t und Ressourcenanforderungen entsprechend\n‚Ä¢ Funktions-Module decken spezifische Gesch√§ftsbereiche und Prozesse ab\n‚Ä¢ Technologie-Module integrieren verf√ºgbare IT-Infrastruktur und Tools\n\nüéØ Risiko-basierte Priorisierung:\n‚Ä¢ Kleine Organisationen konzentrieren sich auf die kritischsten Gesch√§ftsprozesse\n‚Ä¢ Branchen-spezifische Risikolandschaften bestimmen Schwerpunkte der Planentwicklung\n‚Ä¢ Regulatorische Anforderungen definieren Mindeststandards f√ºr verschiedene Sektoren\n‚Ä¢ Stakeholder-Erwartungen beeinflussen Umfang und Tiefe der Planungsaktivit√§ten\n‚Ä¢ Verf√ºgbare Ressourcen bestimmen Implementierungsgeschwindigkeit und -umfang\n\nüí∞ Ressourcen-optimierte Implementierung:\n‚Ä¢ Budget-bewusste Ans√§tze nutzen kosteneffiziente Technologien und Prozesse\n‚Ä¢ Phasenweise Implementierung erm√∂glicht schrittweise Investitionen\n‚Ä¢ Shared Services reduzieren Kosten durch gemeinsame Nutzung von Ressourcen\n‚Ä¢ Outsourcing-Strategien erg√§nzen interne Kapazit√§ten mit externen Dienstleistern\n‚Ä¢ Open Source Tools bieten kosteng√ºnstige Alternativen zu kommerziellen L√∂sungen\n\nüîó Stakeholder-Integration:\n‚Ä¢ Kleine Unternehmen fokussieren auf Kernteam und kritische externe Partner\n‚Ä¢ Gro√üe Organisationen managen komplexe Stakeholder-Netzwerke mit verschiedenen Interessen\n‚Ä¢ Branchen-spezifische Stakeholder wie Regulatoren, Branchenverb√§nde und Kunden\n‚Ä¢ Supply Chain Partner erfordern koordinierte Kontinuit√§tsplanung\n‚Ä¢ Community Stakeholder beeinflussen gesellschaftliche Verantwortung und Reputation\n\nüìä Performance-Metriken und KPIs:\n‚Ä¢ Gr√∂√üen-angepasste Metriken ber√ºcksichtigen verf√ºgbare Mess- und Analysekapazit√§ten\n‚Ä¢ Branchen-spezifische KPIs reflektieren kritische Erfolgsfaktoren\n‚Ä¢ Regulatorische Reporting-Anforderungen bestimmen Mindest-Metriken\n‚Ä¢ Stakeholder-relevante Indikatoren demonstrieren Wert und Wirksamkeit\n‚Ä¢ Benchmark-Vergleiche erm√∂glichen Leistungsbewertung gegen Peer-Organisationen\n\nüéì Schulungs- und Kompetenzentwicklung:\n‚Ä¢ Rollenbasierte Schulungsprogramme adressieren verschiedene Verantwortlichkeitsebenen\n‚Ä¢ Branchen-spezifische Zertifizierungen erh√∂hen Fachkompetenz\n‚Ä¢ Gr√∂√üen-angepasste Trainingsformate ber√ºcksichtigen verf√ºgbare Zeit und Ressourcen\n‚Ä¢ Externe Schulungspartner erg√§nzen interne Kapazit√§ten\n‚Ä¢ Kontinuierliche Weiterbildung h√§lt Kompetenzen aktuell und relevant"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 7),
        question: 'Welche rechtlichen und regulatorischen Aspekte m√ºssen bei der BCM-Planentwicklung ber√ºcksichtigt werden?',
        answer: "Die rechtlichen und regulatorischen Aspekte der BCM-Planentwicklung bilden ein komplexes Geflecht aus nationalen Gesetzen, internationalen Standards und branchenspezifischen Vorschriften. Eine umfassende Compliance-Strategie gew√§hrleistet rechtliche Sicherheit und vermeidet kostspielige Verst√∂√üe.\n\n‚öñÔ∏è Grundlegende rechtliche Rahmenbedingungen:\n‚Ä¢ Gesellschaftsrechtliche Sorgfaltspflichten der Gesch√§ftsf√ºhrung f√ºr Risikomanagement\n‚Ä¢ Arbeitsrechtliche Verpflichtungen zum Schutz von Mitarbeitern in Krisensituationen\n‚Ä¢ Datenschutzrechtliche Anforderungen bei Verarbeitung personenbezogener Daten\n‚Ä¢ Vertragsrechtliche Verpflichtungen gegen√ºber Kunden und Gesch√§ftspartnern\n‚Ä¢ Haftungsrechtliche Konsequenzen bei unzureichender Kontinuit√§tsvorbereitung\n\nüèõÔ∏è Branchenspezifische Regulierungslandschaft:\n‚Ä¢ Finanzdienstleister unterliegen MaRisk, BAIT und europ√§ischen Bankenaufsichtsvorschriften\n‚Ä¢ Gesundheitswesen muss Patientenschutz und medizinische Kontinuit√§t gew√§hrleisten\n‚Ä¢ Energieversorgung folgt kritischen Infrastruktur-Schutzgesetzen\n‚Ä¢ Telekommunikation unterliegt Verf√ºgbarkeitsanforderungen und Notfallvorsorge\n‚Ä¢ Luftfahrt muss internationale Sicherheitsstandards und Kontinuit√§tsanforderungen erf√ºllen\n\nüåç Internationale Standards und Frameworks:\n‚Ä¢ ISO 22301 definiert internationale Best Practices f√ºr Business Continuity Management\n‚Ä¢ ISO 27001 adressiert Informationssicherheits-Aspekte der Kontinuit√§tsplanung\n‚Ä¢ NIST Cybersecurity Framework integriert BCM mit Cyber-Resilienz\n‚Ä¢ COBIT Framework verbindet BCM mit IT-Governance und Risikomanagement\n‚Ä¢ Basel III Akkord enth√§lt operative Risiko-Anforderungen f√ºr Banken\n\nüìã Dokumentations- und Nachweispflichten:\n‚Ä¢ Vollst√§ndige Dokumentation aller BCM-Prozesse und Entscheidungen\n‚Ä¢ Regelm√§√üige Aktualisierung und Versionskontrolle von Plan-Dokumenten\n‚Ä¢ Nachweis der Wirksamkeit durch Tests und √úbungen\n‚Ä¢ Audit-Trails f√ºr alle kritischen BCM-Aktivit√§ten und √Ñnderungen\n‚Ä¢ Compliance-Berichte f√ºr Aufsichtsbeh√∂rden und Stakeholder\n\nüîç Aufsichtsrechtliche Pr√ºfungen und Assessments:\n‚Ä¢ Vorbereitung auf regulatorische Inspektionen und Audits\n‚Ä¢ Bereitstellung erforderlicher Dokumentation und Nachweise\n‚Ä¢ Kooperation mit Aufsichtsbeh√∂rden bei Pr√ºfungsverfahren\n‚Ä¢ Umsetzung von Pr√ºfungsempfehlungen und Auflagen\n‚Ä¢ Kontinuierliche √úberwachung regulatorischer Entwicklungen\n\nüíº Vertragsrechtliche Aspekte:\n‚Ä¢ Service Level Agreements mit klaren Verf√ºgbarkeits- und Wiederherstellungszeiten\n‚Ä¢ Lieferantenvertr√§ge mit BCM-Anforderungen und Kontinuit√§tsverpflichtungen\n‚Ä¢ Versicherungsvertr√§ge mit angemessener Deckung f√ºr Gesch√§ftsunterbrechungen\n‚Ä¢ Outsourcing-Vereinbarungen mit definierten BCM-Verantwortlichkeiten\n‚Ä¢ Kundenvertr√§ge mit transparenten Kontinuit√§ts-Zusagen\n\nüõ°Ô∏è Datenschutz und Informationssicherheit:\n‚Ä¢ DSGVO-konforme Verarbeitung personenbezogener Daten in Krisensituationen\n‚Ä¢ Schutz vertraulicher Gesch√§ftsinformationen w√§hrend St√∂rungen\n‚Ä¢ Sichere Kommunikation und Daten√ºbertragung in Notfallsituationen\n‚Ä¢ Privacy Impact Assessments f√ºr BCM-Technologien und -Prozesse\n‚Ä¢ Breach Notification Procedures bei Datenschutzverletzungen\n\nüåê Grenz√ºberschreitende Compliance:\n‚Ä¢ Ber√ºcksichtigung verschiedener nationaler Rechtssysteme bei internationalen Operationen\n‚Ä¢ Transfer von Daten und Operationen zwischen verschiedenen Jurisdiktionen\n‚Ä¢ Koordination mit ausl√§ndischen Aufsichtsbeh√∂rden und Regulatoren\n‚Ä¢ Compliance mit Export-Kontrollen und Sanktionsbestimmungen\n‚Ä¢ Kulturelle und sprachliche Anpassungen von BCM-Pl√§nen\n\nüìä Reporting und Transparenz:\n‚Ä¢ Regelm√§√üige Berichterstattung an Aufsichtsbeh√∂rden √ºber BCM-Status\n‚Ä¢ Transparente Kommunikation mit Stakeholdern √ºber Kontinuit√§tsf√§higkeiten\n‚Ä¢ Incident Reporting bei bedeutsamen Gesch√§ftsunterbrechungen\n‚Ä¢ Public Disclosure von wesentlichen Risiken und Kontinuit√§tsma√ünahmen\n‚Ä¢ Koordination mit Medien und √ñffentlichkeit bei gr√∂√üeren St√∂rungen"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 8),
        question: 'Wie erfolgt die Integration von BCM-Pl√§nen mit anderen Managementsystemen und Frameworks?',
        answer: "Die Integration von BCM-Pl√§nen mit anderen Managementsystemen schafft Synergien, reduziert Redundanzen und erh√∂ht die Gesamteffizienz organisationaler Resilienz. Ein ganzheitlicher Ansatz verbindet verschiedene Frameworks zu einem koh√§renten Managementsystem.\n\nüîó Integration mit Risikomanagement-Systemen:\n‚Ä¢ Gemeinsame Risikobewertung und -register f√ºr konsistente Risikolandschaft\n‚Ä¢ Koordinierte Risikostrategie zwischen Enterprise Risk Management und BCM\n‚Ä¢ Integrierte Monitoring-Systeme f√ºr fr√ºhzeitige Risikoerkennung\n‚Ä¢ Gemeinsame Governance-Strukturen f√ºr Risiko- und Kontinuit√§tsentscheidungen\n‚Ä¢ Harmonisierte Reporting-Zyklen und Kommunikationsstrukturen\n\nüõ°Ô∏è Verbindung mit Informationssicherheits-Management:\n‚Ä¢ ISO 27001 Integration f√ºr ganzheitliche Informationssicherheit\n‚Ä¢ Koordinierte Incident Response zwischen IT-Security und BCM\n‚Ä¢ Gemeinsame Business Impact Analysis f√ºr IT-Systeme und Gesch√§ftsprozesse\n‚Ä¢ Integrierte Disaster Recovery und IT-Kontinuit√§tsplanung\n‚Ä¢ Harmonisierte Compliance-Anforderungen und Audit-Zyklen\n\n‚öôÔ∏è Qualit√§tsmanagement-System Integration:\n‚Ä¢ ISO 9001 Prozessansatz f√ºr strukturierte BCM-Implementierung\n‚Ä¢ Kontinuierliche Verbesserung durch PDCA-Zyklen\n‚Ä¢ Integrierte Dokumentenmanagement-Systeme\n‚Ä¢ Gemeinsame Schulungs- und Kompetenzentwicklungsprogramme\n‚Ä¢ Koordinierte interne Audits und Management-Reviews\n\nüå± Umwelt- und Nachhaltigkeits-Management:\n‚Ä¢ ISO 14001 Integration f√ºr umweltbewusste Kontinuit√§tsstrategien\n‚Ä¢ Ber√ºcksichtigung klimabedingter Risiken in BCM-Planung\n‚Ä¢ Nachhaltige Wiederherstellungsstrategien und Green Recovery\n‚Ä¢ Corporate Social Responsibility Integration in Krisenkommunikation\n‚Ä¢ Stakeholder-Engagement f√ºr nachhaltige Resilienz\n\nüë• Human Resources Management Integration:\n‚Ä¢ Personalentwicklung f√ºr BCM-Kompetenzen und Krisenmanagement\n‚Ä¢ Arbeitsschutz und Mitarbeitersicherheit in Notfallsituationen\n‚Ä¢ Change Management f√ºr BCM-Implementierung und Kulturwandel\n‚Ä¢ Succession Planning f√ºr kritische Rollen und Funktionen\n‚Ä¢ Employee Assistance Programs f√ºr Krisenbew√§ltigung\n\nüí∞ Finanz- und Controlling-Integration:\n‚Ä¢ Budgetplanung und Kostencontrolling f√ºr BCM-Investitionen\n‚Ä¢ Financial Impact Assessment von Gesch√§ftsunterbrechungen\n‚Ä¢ Versicherungsmanagement und Risk Transfer Strategien\n‚Ä¢ Performance Measurement und ROI-Bewertung von BCM-Ma√ünahmen\n‚Ä¢ Integrierte Finanzberichterstattung √ºber Resilienz-Investitionen\n\nüèóÔ∏è Projektmanagement-Framework Integration:\n‚Ä¢ PMI oder PRINCE2 Methodiken f√ºr BCM-Implementierungsprojekte\n‚Ä¢ Agile Ans√§tze f√ºr flexible und adaptive BCM-Entwicklung\n‚Ä¢ Portfolio Management f√ºr koordinierte Resilienz-Initiativen\n‚Ä¢ Stakeholder Management √ºber verschiedene Managementsysteme\n‚Ä¢ Lessons Learned Integration zwischen Projekten und BCM\n\nüìä Performance Management Integration:\n‚Ä¢ Balanced Scorecard Ans√§tze f√ºr ganzheitliche Resilienz-Messung\n‚Ä¢ Key Performance Indicators √ºber verschiedene Managementsysteme\n‚Ä¢ Integrierte Dashboards f√ºr Management-Reporting\n‚Ä¢ Benchmark-Vergleiche und Maturity Assessments\n‚Ä¢ Kontinuierliche Optimierung durch datenbasierte Entscheidungen\n\nüîÑ Governance und Compliance Integration:\n‚Ä¢ Integrierte Governance-Strukturen f√ºr alle Managementsysteme\n‚Ä¢ Koordinierte Compliance-Programme und Audit-Zyklen\n‚Ä¢ Gemeinsame Policy-Entwicklung und -Management\n‚Ä¢ Harmonisierte Berichterstattung an Aufsichtsbeh√∂rden\n‚Ä¢ Integrierte Schulungs- und Awareness-Programme\n\nüåê Supply Chain Management Integration:\n‚Ä¢ Lieferanten-BCM-Anforderungen in Beschaffungsprozessen\n‚Ä¢ Koordinierte Supply Chain Risk Assessments\n‚Ä¢ Integrierte Supplier Relationship Management\n‚Ä¢ Gemeinsame Kontinuit√§tsplanung mit kritischen Lieferanten\n‚Ä¢ End-to-End Supply Chain Visibility und Monitoring"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 2 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
