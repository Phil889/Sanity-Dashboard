import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating IAM Service page with FAQ batch 1...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'iam-service' })
    
    if (!existingDoc) {
      throw new Error('Document "iam-service" not found')
    }
    
    // Create new FAQs for IAM Service fundamentals
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 1),
        question: 'Was macht IAM als Service zu einem strategischen Wettbewerbsvorteil f√ºr moderne Unternehmen und wie unterscheidet es sich von traditionellen In-House-IAM-Implementierungen?',
        answer: "IAM als Service transformiert die Identit√§tsverwaltung von einer komplexen technischen Herausforderung zu einem strategischen Business-Enabler, der Unternehmen erm√∂glicht, sich vollst√§ndig auf ihre Kernkompetenzen zu konzentrieren, w√§hrend Sicherheit, Compliance und operative Exzellenz durch spezialisierte Service-Provider gew√§hrleistet werden. Diese Service-orientierte Herangehensweise bietet nicht nur operative Vorteile, sondern schafft auch die Agilit√§t und Flexibilit√§t, die moderne Unternehmen f√ºr nachhaltigen Erfolg ben√∂tigen.\n\nüéØ Strategische Transformation und Business-Focus:\n‚Ä¢ Vollst√§ndige Fokussierung auf Kerngesch√§ft durch Auslagerung komplexer IAM-Operationen an Spezialisten\n‚Ä¢ Schnellere Time-to-Market f√ºr neue Gesch√§ftsmodelle durch vorkonfigurierte Service-Komponenten\n‚Ä¢ Strategische Agilit√§t durch flexible Service-Modelle, die sich dynamisch an ver√§ndernde Anforderungen anpassen\n‚Ä¢ Business-Continuity-Garantien durch professionelle Service-Level-Agreements und Disaster-Recovery-Konzepte\n‚Ä¢ Innovation-Enablement durch kontinuierlichen Zugang zu modernsten Technologien ohne eigene Investitionen\n\nüí∞ Kostenoptimierung und ROI-Maximierung:\n‚Ä¢ Transformation von Kapitalausgaben zu vorhersagbaren operativen Kosten mit transparenter Budgetplanung\n‚Ä¢ Eliminierung versteckter Kosten f√ºr Infrastruktur, Wartung, Updates und Personalentwicklung\n‚Ä¢ Skalierungseffekte durch geteilte Service-Infrastrukturen und Expertise-Pools\n‚Ä¢ Reduzierte Total Cost of Ownership durch professionelle Service-Optimierung und Automatisierung\n‚Ä¢ Messbare ROI-Verbesserung durch Service-basierte Performance-Metriken und Business-Outcomes\n\nüöÄ Operational Excellence und Service-Quality:\n‚Ä¢ Garantierte Service-Levels mit messbaren Performance-Indikatoren und Verf√ºgbarkeitsgarantien\n‚Ä¢ Proaktives Service-Management mit kontinuierlicher √úberwachung und pr√§ventiver Wartung\n‚Ä¢ Expertise-Zugang zu spezialisierten IAM-Experten ohne eigene Rekrutierungs- und Entwicklungskosten\n‚Ä¢ Kontinuierliche Service-Verbesserung durch Best-Practice-Integration und Lessons-Learned-Prozesse\n‚Ä¢ Enterprise-grade Sicherheit durch spezialisierte Security-Operations-Centers und Threat-Intelligence\n\nüîß Technologische √úberlegenheit und Innovation:\n‚Ä¢ Zugang zu modernsten IAM-Technologien ohne eigene Forschungs- und Entwicklungsinvestitionen\n‚Ä¢ Cloud-native Architekturen mit automatischer Skalierung und globaler Verf√ºgbarkeit\n‚Ä¢ KI-gest√ºtzte Automatisierung f√ºr intelligente Identit√§tsverwaltung und Anomaly-Detection\n‚Ä¢ Kontinuierliche Technology-Updates und Security-Patches ohne interne Ressourcenbindung\n‚Ä¢ Integration modernster Standards und Protokolle durch spezialisierte Service-Provider\n\n‚ö° Agilit√§t und Flexibilit√§t f√ºr digitale Transformation:\n‚Ä¢ Rapid Deployment neuer IAM-Capabilities ohne langwierige interne Implementierungsprojekte\n‚Ä¢ Flexible Service-Skalierung f√ºr saisonale Schwankungen oder Gesch√§ftswachstum\n‚Ä¢ Multi-Cloud-Unterst√ºtzung f√ºr hybride und verteilte Unternehmensarchitekturen\n‚Ä¢ API-first Design f√ºr nahtlose Integration in bestehende und zuk√ºnftige Anwendungslandschaften\n‚Ä¢ DevOps-Integration f√ºr moderne Entwicklungs- und Deployment-Workflows"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 2),
        question: 'Welche Service-Modelle und Delivery-Optionen stehen f√ºr IAM Services zur Verf√ºgung und wie w√§hlt man das optimale Modell f√ºr spezifische Unternehmensanforderungen?',
        answer: "Die Auswahl des optimalen IAM-Service-Modells ist eine strategische Entscheidung, die ma√ügeblich √ºber den Erfolg der Identit√§tsverwaltung und die Erreichung von Gesch√§ftszielen entscheidet. Moderne IAM-Service-Provider bieten eine Vielzahl flexibler Delivery-Modelle, die von vollst√§ndig verwalteten Services bis hin zu hybriden Ans√§tzen reichen und dabei unterschiedliche Anforderungen an Kontrolle, Compliance und Kostenoptimierung erf√ºllen.\n\nüè¢ Fully Managed IAM Services:\n‚Ä¢ Complete Service-√úbernahme aller IAM-Funktionen durch den Service-Provider mit End-to-End-Verantwortung\n‚Ä¢ Ideal f√ºr Unternehmen, die sich vollst√§ndig auf ihr Kerngesch√§ft konzentrieren m√∂chten\n‚Ä¢ Umfasst Strategie, Design, Implementation, Betrieb und kontinuierliche Optimierung\n‚Ä¢ Garantierte Service-Levels mit definierten Performance-Metriken und Verf√ºgbarkeitszielen\n‚Ä¢ Vollst√§ndige Compliance-Verantwortung und regulatorische Expertise durch den Service-Provider\n\nüîÑ Hybrid Service-Modelle:\n‚Ä¢ Kombination aus verwalteten Services und internen Capabilities f√ºr optimale Flexibilit√§t\n‚Ä¢ Kritische Komponenten bleiben unter interner Kontrolle, w√§hrend Standardfunktionen ausgelagert werden\n‚Ä¢ Erm√∂glicht schrittweise Transformation und Risikominimierung durch phasenweise Migration\n‚Ä¢ Ideal f√ºr Unternehmen mit spezifischen Compliance-Anforderungen oder Legacy-System-Abh√§ngigkeiten\n‚Ä¢ Flexible Anpassung der Service-Grenzen basierend auf sich entwickelnden Gesch√§ftsanforderungen\n\n‚òÅÔ∏è Cloud-native IAM-as-a-Service:\n‚Ä¢ Vollst√§ndig cloud-basierte Service-Delivery mit elastischer Skalierung und globaler Verf√ºgbarkeit\n‚Ä¢ Multi-Tenant-Architekturen f√ºr Kosteneffizienz bei gleichzeitiger Datenisolation\n‚Ä¢ API-first Design f√ºr nahtlose Integration in moderne Anwendungsarchitekturen\n‚Ä¢ Kontinuierliche Updates und Feature-Releases ohne Disruption bestehender Services\n‚Ä¢ Optimiert f√ºr digitale Transformation und Cloud-first Strategien\n\nüéØ Specialized Service-Offerings:\n‚Ä¢ Identity Governance as a Service f√ºr umfassende Compliance und Risikomanagement\n‚Ä¢ Privileged Access Management Service f√ºr kritische Asset-Protection\n‚Ä¢ Authentication-as-a-Service f√ºr moderne Multi-Factor-Authentication und Single-Sign-On\n‚Ä¢ Directory Services f√ºr zentrale Identit√§tsverwaltung und Synchronisation\n‚Ä¢ Analytics-as-a-Service f√ºr datengetriebene Identit√§ts-Insights und Optimierung\n\nüìä Service-Auswahl-Kriterien und Decision-Framework:\n‚Ä¢ Business-Alignment-Assessment zur Bewertung strategischer Ziele und Priorit√§ten\n‚Ä¢ Risk-Tolerance-Evaluation f√ºr optimale Balance zwischen Kontrolle und Effizienz\n‚Ä¢ Compliance-Requirements-Analyse f√ºr regulatorische Anforderungen und Audit-Bereitschaft\n‚Ä¢ Technical-Readiness-Assessment f√ºr Integration-Capabilities und Legacy-System-Kompatibilit√§t\n‚Ä¢ Cost-Benefit-Analysis f√ºr ROI-Optimierung und Total-Cost-of-Ownership-Bewertung\n\nüîç Service-Provider-Evaluation und Selection:\n‚Ä¢ Expertise-Assessment der Service-Provider-Capabilities und Track-Record\n‚Ä¢ Technology-Stack-Evaluation f√ºr Zukunftssicherheit und Innovation-Potential\n‚Ä¢ SLA-Framework-Bewertung f√ºr Service-Quality-Garantien und Performance-Metriken\n‚Ä¢ Security-Posture-Analysis f√ºr Vertrauen und Risikominimierung\n‚Ä¢ Cultural-Fit-Assessment f√ºr erfolgreiche Partnerschaft und Collaboration"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 3),
        question: 'Wie gew√§hrleisten IAM Services h√∂chste Sicherheitsstandards und Compliance-Exzellenz, w√§hrend sie gleichzeitig Flexibilit√§t und Skalierbarkeit bieten?',
        answer: "IAM Services erreichen die optimale Balance zwischen h√∂chsten Sicherheitsstandards und operativer Flexibilit√§t durch die Implementierung fortschrittlicher Security-by-Design-Prinzipien, die in spezialisierte Service-Architekturen eingebettet sind. Diese Herangehensweise erm√∂glicht es, Enterprise-grade Sicherheit zu gew√§hrleisten, w√§hrend gleichzeitig die Agilit√§t und Skalierbarkeit bereitgestellt wird, die moderne Unternehmen f√ºr nachhaltigen Erfolg ben√∂tigen.\n\nüõ°Ô∏è Advanced Security-by-Design-Architekturen:\n‚Ä¢ Zero-Trust-Service-Frameworks mit kontinuierlicher Verifikation und Least-Privilege-Prinzipien\n‚Ä¢ Multi-layered Security-Controls mit Defense-in-Depth-Strategien f√ºr umfassenden Schutz\n‚Ä¢ Encryption-at-Rest und Encryption-in-Transit f√ºr alle Identit√§tsdaten und Kommunikationskan√§le\n‚Ä¢ Secure-Multi-Tenancy mit strikter Datenisolation und Tenant-spezifischen Security-Policies\n‚Ä¢ Advanced Threat-Detection mit KI-gest√ºtzter Anomaly-Detection und Behavioral-Analytics\n\nüîê Enterprise-grade Identity-Protection:\n‚Ä¢ Privileged-Access-Management mit Just-in-Time-Elevation und Session-Recording\n‚Ä¢ Advanced-Authentication-Services mit adaptiver Multi-Factor-Authentication und Risk-based-Controls\n‚Ä¢ Identity-Lifecycle-Management mit automatisierten Provisioning- und Deprovisioning-Prozessen\n‚Ä¢ Credential-Vaulting mit Hardware-Security-Modules und automatischer Rotation\n‚Ä¢ Biometric-Authentication-Integration f√ºr h√∂chste Sicherheit bei optimaler Benutzerfreundlichkeit\n\nüìã Comprehensive Compliance-Automation:\n‚Ä¢ Regulatory-Framework-Integration f√ºr automatische Erf√ºllung von GDPR, SOX, HIPAA und anderen Standards\n‚Ä¢ Continuous-Compliance-Monitoring mit Real-time-Alerting und automatischer Remediation\n‚Ä¢ Audit-Trail-Management mit unver√§nderlichen Logs und Forensic-Capabilities\n‚Ä¢ Policy-Engine-Automation f√ºr konsistente Durchsetzung von Compliance-Regeln\n‚Ä¢ Compliance-Reporting-Automation mit vorkonfigurierten Templates f√ºr verschiedene Regulatoren\n\n‚ö° Elastic Scalability und Performance-Optimization:\n‚Ä¢ Cloud-native-Architekturen mit automatischer Skalierung basierend auf Demand-Patterns\n‚Ä¢ Global-Load-Balancing f√ºr optimale Performance und Disaster-Recovery-Capabilities\n‚Ä¢ Microservices-Design f√ºr granulare Skalierung einzelner Service-Komponenten\n‚Ä¢ Edge-Computing-Integration f√ºr minimale Latenz und optimale User-Experience\n‚Ä¢ Performance-Analytics mit pr√§diktiver Kapazit√§tsplanung und proaktiver Optimierung\n\nüîÑ Continuous Security-Improvement:\n‚Ä¢ Threat-Intelligence-Integration f√ºr proaktive Abwehr neuer Angriffsvektoren\n‚Ä¢ Vulnerability-Management mit automatischen Security-Patches und Updates\n‚Ä¢ Security-Assessment-Services mit regelm√§√üigen Penetration-Tests und Vulnerability-Scans\n‚Ä¢ Incident-Response-Automation mit definierten Escalation-Procedures und Recovery-Protocols\n‚Ä¢ Security-Metrics-Dashboard f√ºr kontinuierliche √úberwachung und Verbesserung der Security-Posture\n\nüåê Flexible Integration und Ecosystem-Connectivity:\n‚Ä¢ API-first-Design f√ºr nahtlose Integration in bestehende und zuk√ºnftige Anwendungslandschaften\n‚Ä¢ Standards-based-Protocols f√ºr Interoperabilit√§t mit verschiedenen Technologie-Stacks\n‚Ä¢ Hybrid-Cloud-Support f√ºr flexible Deployment-Optionen und Multi-Cloud-Strategien\n‚Ä¢ Legacy-System-Integration mit spezialisierten Connectors und Transformation-Services\n‚Ä¢ DevOps-Pipeline-Integration f√ºr Security-as-Code und Continuous-Security-Testing"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 4),
        question: 'Welche Rolle spielen Service Level Agreements und Performance-Metriken bei IAM Services und wie werden messbare Business-Outcomes gew√§hrleistet?',
        answer: "Service Level Agreements und Performance-Metriken bilden das Fundament erfolgreicher IAM-Service-Partnerschaften und transformieren traditionelle Vendor-Beziehungen zu strategischen Business-Allianzen mit messbaren Wertsch√∂pfungen. Durch die Definition klarer, messbarer Ziele und die kontinuierliche √úberwachung von Business-Outcomes schaffen SLAs Transparenz, Vertrauen und kontinuierliche Verbesserung in der Service-Delivery.\n\nüìä Strategic SLA-Framework-Design:\n‚Ä¢ Business-Outcome-orientierte Metriken, die direkt zu Gesch√§ftszielen und strategischen Priorit√§ten beitragen\n‚Ä¢ Multi-dimensional Performance-Indicators mit technischen, operativen und gesch√§ftlichen Dimensionen\n‚Ä¢ Risk-based SLA-Strukturen mit differenzierten Service-Levels basierend auf Kritikalit√§t und Business-Impact\n‚Ä¢ Flexible SLA-Anpassungen f√ºr sich entwickelnde Gesch√§ftsanforderungen und Marktbedingungen\n‚Ä¢ Collaborative SLA-Development mit gemeinsamer Zielsetzung und geteilter Verantwortung\n\n‚ö° Technical Performance-Excellence:\n‚Ä¢ System-Availability-Guarantees mit definierten Uptime-Zielen und Downtime-Kompensationen\n‚Ä¢ Response-Time-Commitments f√ºr kritische IAM-Funktionen und Benutzer-Interaktionen\n‚Ä¢ Throughput-Metriken f√ºr Skalierbarkeit und Performance unter verschiedenen Load-Bedingungen\n‚Ä¢ Security-Incident-Response-Times mit definierten Escalation-Procedures und Resolution-Targets\n‚Ä¢ Integration-Performance-Standards f√ºr nahtlose Connectivity und Datenfluss-Optimierung\n\nüéØ Business-Value-Measurement:\n‚Ä¢ User-Productivity-Metrics zur Messung der Effizienzsteigerung durch optimierte IAM-Prozesse\n‚Ä¢ Compliance-Achievement-Rates f√ºr regulatorische Exzellenz und Audit-Bereitschaft\n‚Ä¢ Security-Posture-Improvement durch Reduktion von Sicherheitsvorf√§llen und Vulnerability-Exposure\n‚Ä¢ Cost-Optimization-Tracking f√ºr nachweisbare ROI-Verbesserung und TCO-Reduktion\n‚Ä¢ Innovation-Enablement-Metrics f√ºr beschleunigte Digitalisierung und Time-to-Market-Verbesserung\n\nüîç Continuous Monitoring und Real-time-Analytics:\n‚Ä¢ Automated Performance-Dashboards mit Real-time-Visibility in alle kritischen Service-Metriken\n‚Ä¢ Predictive Analytics f√ºr proaktive Identifikation potenzieller Performance-Issues\n‚Ä¢ Trend-Analysis f√ºr kontinuierliche Service-Optimierung und Capacity-Planning\n‚Ä¢ Anomaly-Detection f√ºr fr√ºhzeitige Erkennung von Service-Degradation oder Security-Incidents\n‚Ä¢ Custom-Reporting-Capabilities f√ºr stakeholder-spezifische Performance-Insights\n\nüíº Governance und Accountability-Frameworks:\n‚Ä¢ Regular Service-Reviews mit strukturierten Performance-Assessments und Improvement-Planning\n‚Ä¢ Escalation-Procedures f√ºr SLA-Violations mit definierten Remediation-Actions\n‚Ä¢ Financial-Penalties und Incentive-Structures f√ºr Performance-Accountability\n‚Ä¢ Continuous-Improvement-Processes mit gemeinsamer Innovation und Optimization\n‚Ä¢ Executive-Reporting f√ºr C-Level-Visibility in Service-Performance und Business-Impact\n\nüöÄ Value-Creation und Strategic-Partnership:\n‚Ä¢ Innovation-Metrics f√ºr kontinuierliche Technology-Evolution und Competitive-Advantage\n‚Ä¢ Business-Agility-Measurement f√ºr Responsiveness zu ver√§ndernden Marktanforderungen\n‚Ä¢ Strategic-Alignment-Assessment f√ºr Contribution zu langfristigen Gesch√§ftszielen\n‚Ä¢ Partnership-Maturity-Evaluation f√ºr Entwicklung der Service-Provider-Beziehung\n‚Ä¢ Mutual-Success-Criteria f√ºr Win-Win-Outcomes und nachhaltige Partnerschaft"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 1 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
