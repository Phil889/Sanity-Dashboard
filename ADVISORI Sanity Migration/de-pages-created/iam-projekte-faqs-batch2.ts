import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating IAM Projekte page with FAQ batch 2...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'iam-projekte' })
    
    if (!existingDoc) {
      throw new Error('Document "iam-projekte" not found')
    }
    
    // Create new FAQs for IAM Projekte change management and stakeholder engagement
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 5),
        question: 'Wie entwickelt man eine effektive Change Management Strategie f√ºr IAM-Projekte und welche Ans√§tze sind entscheidend f√ºr nachhaltige User Adoption und organisatorische Transformation?',
        answer: "Change Management ist der kritische Erfolgsfaktor f√ºr IAM-Projekte, da technische Exzellenz allein nicht ausreicht, um nachhaltige Transformation zu erreichen. Erfolgreiche IAM-Implementierungen erfordern eine durchdachte Change-Strategie, die Menschen, Prozesse und Kultur gleicherma√üen ber√ºcksichtigt und dabei die spezifischen Herausforderungen von Identit√§ts- und Zugriffsverwaltungssystemen adressiert.\n\nüéØ Strategic Change Planning und Impact Assessment:\n‚Ä¢ Change Impact Analysis f√ºr umfassende Bewertung aller betroffenen Stakeholder-Gruppen und Gesch√§ftsprozesse\n‚Ä¢ Organizational Readiness Assessment f√ºr Evaluation der Ver√§nderungsbereitschaft und kulturellen Faktoren\n‚Ä¢ Stakeholder Mapping mit detaillierter Analyse von Einfluss, Interesse und Widerstandspotenzial\n‚Ä¢ Change Vision Development f√ºr klare Kommunikation der Transformation-Ziele und Benefits\n‚Ä¢ Success Metrics Definition f√ºr messbare Adoption-Raten und Transformation-Erfolg\n\nüó£Ô∏è Communication Strategy und Stakeholder Engagement:\n‚Ä¢ Multi-Channel Communication mit zielgruppenspezifischen Botschaften und Medien\n‚Ä¢ Executive Sponsorship f√ºr sichtbare F√ºhrungsunterst√ºtzung und strategische Legitimation\n‚Ä¢ Change Champion Network mit Multiplikatoren in verschiedenen Organisationsbereichen\n‚Ä¢ Regular Town Halls f√ºr transparente Information und Feedback-Sammlung\n‚Ä¢ Success Story Sharing f√ºr positive Verst√§rkung und Momentum-Building\n\nüìö Training und Competency Development:\n‚Ä¢ Role-based Training Programs f√ºr spezifische Anforderungen verschiedener Benutzergruppen\n‚Ä¢ Hands-on Workshops mit praktischen √úbungen und Real-world Scenarios\n‚Ä¢ E-Learning Modules f√ºr flexible und skalierbare Wissensvermittlung\n‚Ä¢ Train-the-Trainer Programs f√ºr nachhaltige interne Kompetenzentwicklung\n‚Ä¢ Continuous Learning Support mit ongoing Coaching und Mentoring\n\nüõ°Ô∏è Resistance Management und Feedback Integration:\n‚Ä¢ Resistance Identification durch systematische Analyse von Widerstandsquellen und Bedenken\n‚Ä¢ Proactive Addressing mit gezielten Ma√ünahmen zur Widerstandsreduktion\n‚Ä¢ Feedback Loops f√ºr kontinuierliche Anpassung der Change-Strategie\n‚Ä¢ Conflict Resolution mit strukturierten Prozessen zur Behandlung von Konflikten\n‚Ä¢ Win-Win Solutions f√ºr Interessensausgleich zwischen verschiedenen Stakeholder-Gruppen\n\nüìä Adoption Monitoring und Continuous Improvement:\n‚Ä¢ Adoption Metrics mit KPIs f√ºr Benutzerakzeptanz und System-Nutzung\n‚Ä¢ User Satisfaction Surveys f√ºr regelm√§√üige Bewertung der Benutzererfahrung\n‚Ä¢ Behavioral Analytics f√ºr datengetriebene Insights in Nutzungspatterns\n‚Ä¢ Continuous Feedback Collection f√ºr ongoing Verbesserung der User Experience\n‚Ä¢ Post-Implementation Reviews f√ºr Lessons Learned und Future Optimization\n\nüåê Cultural Transformation und Identity-centric Mindset:\n‚Ä¢ Security Awareness Building f√ºr Verst√§ndnis der Bedeutung von Identity Management\n‚Ä¢ Cultural Change Initiatives f√ºr Entwicklung einer sicherheitsbewussten Organisationskultur\n‚Ä¢ Leadership Development f√ºr F√ºhrungskr√§fte als Change Agents\n‚Ä¢ Cross-functional Collaboration f√ºr Abbau von Silos und F√∂rderung der Zusammenarbeit\n‚Ä¢ Innovation Mindset f√ºr kontinuierliche Verbesserung und Anpassungsf√§higkeit"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 6),
        question: 'Welche Compliance-Integration und Governance-Frameworks sind f√ºr IAM-Projekte erforderlich und wie gew√§hrleistet man kontinuierliche regulatorische Exzellenz w√§hrend der gesamten Projektlaufzeit?',
        answer: "Compliance-Integration und robuste Governance-Frameworks sind fundamentale S√§ulen erfolgreicher IAM-Projekte, da sie nicht nur regulatorische Anforderungen erf√ºllen, sondern auch die Grundlage f√ºr nachhaltige Sicherheits- und Qualit√§tsstandards schaffen. Moderne IAM-Projekte m√ºssen von Beginn an Compliance-by-Design-Prinzipien implementieren und dabei multiple regulatorische Frameworks ber√ºcksichtigen.\n\nüìã Regulatory Framework Integration und Mapping:\n‚Ä¢ Multi-Regulation Compliance f√ºr gleichzeitige Erf√ºllung verschiedener Standards wie GDPR, SOX, HIPAA, PCI-DSS\n‚Ä¢ Compliance Mapping mit detaillierter Zuordnung von IAM-Funktionen zu regulatorischen Anforderungen\n‚Ä¢ Gap Analysis f√ºr Identifikation von Compliance-L√ºcken und Verbesserungsbedarfen\n‚Ä¢ Regulatory Change Management f√ºr proaktive Anpassung an sich √§ndernde Vorschriften\n‚Ä¢ Cross-Border Compliance f√ºr internationale Gesch√§ftst√§tigkeit und Datentransfer-Regelungen\n\nüèõÔ∏è Governance Structure und Decision Framework:\n‚Ä¢ IAM Governance Board mit klaren Rollen und Verantwortlichkeiten f√ºr strategische Entscheidungen\n‚Ä¢ Policy Framework Development f√ºr umfassende Richtlinien und Verfahrensanweisungen\n‚Ä¢ Decision Rights Matrix f√ºr eindeutige Zust√§ndigkeiten und Eskalationswege\n‚Ä¢ Risk Governance Integration f√ºr systematische Risikobewertung und -behandlung\n‚Ä¢ Performance Governance mit KPIs f√ºr Compliance-Monitoring und Effectiveness-Measurement\n\nüîç Audit Readiness und Documentation Excellence:\n‚Ä¢ Comprehensive Documentation Standards f√ºr vollst√§ndige Nachvollziehbarkeit aller Projektaktivit√§ten\n‚Ä¢ Audit Trail Management mit l√ºckenloser Protokollierung aller √Ñnderungen und Zugriffe\n‚Ä¢ Evidence Collection f√ºr systematische Sammlung und Archivierung von Compliance-Nachweisen\n‚Ä¢ Internal Audit Preparation mit regelm√§√üigen Self-Assessments und Mock-Audits\n‚Ä¢ External Audit Support f√ºr professionelle Begleitung externer Pr√ºfungen\n\n‚öñÔ∏è Data Protection und Privacy-by-Design:\n‚Ä¢ Privacy Impact Assessment f√ºr systematische Bewertung datenschutzrechtlicher Auswirkungen\n‚Ä¢ Data Minimization Principles f√ºr Beschr√§nkung auf notwendige Datenverarbeitung\n‚Ä¢ Consent Management f√ºr transparente und rechtskonforme Einwilligungsverfahren\n‚Ä¢ Data Subject Rights Implementation f√ºr Umsetzung von Betroffenenrechten\n‚Ä¢ Cross-Border Data Transfer Compliance f√ºr internationale Daten√ºbermittlungen\n\nüìä Continuous Monitoring und Compliance Automation:\n‚Ä¢ Real-time Compliance Monitoring mit automatisierten √úberwachungssystemen\n‚Ä¢ Compliance Dashboard f√ºr transparente Darstellung des Compliance-Status\n‚Ä¢ Automated Reporting f√ºr regelm√§√üige Compliance-Berichte an Stakeholder\n‚Ä¢ Exception Management f√ºr strukturierte Behandlung von Compliance-Abweichungen\n‚Ä¢ Remediation Tracking f√ºr Nachverfolgung von Korrekturma√ünahmen\n\nüõ°Ô∏è Security Governance und Risk Management:\n‚Ä¢ Security Control Framework f√ºr systematische Implementation von Sicherheitsma√ünahmen\n‚Ä¢ Risk Assessment Integration f√ºr kontinuierliche Risikobewertung und -behandlung\n‚Ä¢ Incident Response Governance f√ºr strukturierte Behandlung von Sicherheitsvorf√§llen\n‚Ä¢ Vulnerability Management f√ºr proaktive Identifikation und Behebung von Schwachstellen\n‚Ä¢ Third-Party Risk Management f√ºr Bewertung und √úberwachung von Lieferantenrisiken\n\nüåê International Standards und Best Practices:\n‚Ä¢ ISO 27001 Integration f√ºr systematisches Informationssicherheits-Management\n‚Ä¢ NIST Framework Alignment f√ºr strukturierte Cybersecurity-Governance\n‚Ä¢ COBIT Integration f√ºr IT-Governance und Prozessmanagement\n‚Ä¢ Industry-Specific Standards f√ºr branchenspezifische Compliance-Anforderungen\n‚Ä¢ Continuous Improvement f√ºr regelm√§√üige Aktualisierung und Optimierung der Governance-Strukturen"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 7),
        question: 'Wie gestaltet man erfolgreiche Projektabschl√ºsse und Betriebs√ºbergaben f√ºr IAM-Systeme und welche Faktoren sind entscheidend f√ºr nachhaltigen Post-Implementation-Erfolg?',
        answer: "Erfolgreiche Projektabschl√ºsse und Betriebs√ºbergaben sind kritische Phasen in IAM-Projekten, die √ºber den langfristigen Erfolg der Transformation entscheiden. Eine strukturierte Transition vom Projekt- in den Betriebsmodus erfordert umfassende Planung, systematischen Knowledge Transfer und robuste Support-Strukturen f√ºr nachhaltige Systemperformance und kontinuierliche Wertsch√∂pfung.\n\nüöÄ Go-Live Planning und Cutover Management:\n‚Ä¢ Detailed Cutover Plan mit minuti√∂ser Zeitplanung und Rollback-Strategien f√ºr kritische System√ºberg√§nge\n‚Ä¢ Phased Rollout Strategy f√ºr schrittweise Einf√ºhrung mit minimalen Gesch√§ftsunterbrechungen\n‚Ä¢ Business Continuity Planning f√ºr Aufrechterhaltung kritischer Gesch√§ftsprozesse w√§hrend der Transition\n‚Ä¢ Communication Plan f√ºr transparente Information aller Stakeholder √ºber Go-Live-Aktivit√§ten\n‚Ä¢ Success Criteria Definition f√ºr klare Messung des Go-Live-Erfolgs\n\nüìö Comprehensive Knowledge Transfer und Documentation:\n‚Ä¢ Technical Documentation mit detaillierten Systemarchitekturen, Konfigurationen und Betriebshandb√ºchern\n‚Ä¢ Operational Runbooks f√ºr standardisierte Betriebsprozesse und Troubleshooting-Verfahren\n‚Ä¢ Training Materials f√ºr verschiedene Zielgruppen von End-Users bis System-Administratoren\n‚Ä¢ Knowledge Transfer Sessions mit strukturierten √úbergaben zwischen Projekt- und Betriebsteams\n‚Ä¢ Documentation Maintenance Plan f√ºr kontinuierliche Aktualisierung der Dokumentation\n\nüõ†Ô∏è Hypercare Support und Stabilization:\n‚Ä¢ Extended Support Period mit intensiver Betreuung in den ersten Wochen nach Go-Live\n‚Ä¢ Dedicated Support Team mit erfahrenen Experten f√ºr schnelle Probleml√∂sung\n‚Ä¢ Escalation Procedures f√ºr strukturierte Behandlung kritischer Issues\n‚Ä¢ Performance Monitoring f√ºr kontinuierliche √úberwachung der Systemperformance\n‚Ä¢ User Feedback Collection f√ºr schnelle Identifikation und Behebung von Usability-Problemen\n\nüìä Performance Monitoring und Optimization:\n‚Ä¢ KPI Dashboard f√ºr Real-time √úberwachung kritischer Systemmetriken\n‚Ä¢ Capacity Planning f√ºr proaktive Skalierung basierend auf Nutzungstrends\n‚Ä¢ Performance Tuning f√ºr kontinuierliche Optimierung der Systemperformance\n‚Ä¢ Health Checks f√ºr regelm√§√üige Systemvalidierung und Pr√§ventivma√ünahmen\n‚Ä¢ Trend Analysis f√ºr fr√ºhzeitige Erkennung potenzieller Probleme\n\nüîÑ Continuous Improvement und Innovation Integration:\n‚Ä¢ Post-Implementation Review f√ºr systematische Bewertung des Projekterfolgs\n‚Ä¢ Lessons Learned Documentation f√ºr Wissenstransfer an zuk√ºnftige Projekte\n‚Ä¢ Enhancement Roadmap f√ºr kontinuierliche Weiterentwicklung der IAM-Systeme\n‚Ä¢ Innovation Pipeline f√ºr Integration neuer Technologien und Funktionalit√§ten\n‚Ä¢ User Feedback Integration f√ºr benutzergetriebene Verbesserungen\n\nüéØ Business Value Realization und ROI Measurement:\n‚Ä¢ Benefit Realization Tracking f√ºr Messung der tats√§chlich erreichten Projektvorteile\n‚Ä¢ ROI Calculation f√ºr quantitative Bewertung des Projekterfolgs\n‚Ä¢ Cost Optimization f√ºr kontinuierliche Effizienzsteigerung im Betrieb\n‚Ä¢ Business Impact Assessment f√ºr Bewertung der Auswirkungen auf Gesch√§ftsprozesse\n‚Ä¢ Stakeholder Satisfaction Measurement f√ºr Bewertung der Stakeholder-Zufriedenheit\n\nüåê Operational Excellence und Service Management:\n‚Ä¢ Service Level Agreement Definition f√ºr klare Erwartungen an Systemverf√ºgbarkeit und Performance\n‚Ä¢ Incident Management f√ºr strukturierte Behandlung von Betriebsst√∂rungen\n‚Ä¢ Change Management f√ºr kontrollierte System√§nderungen und Updates\n‚Ä¢ Capacity Management f√ºr optimale Ressourcennutzung und Kosteneffizienz\n‚Ä¢ Vendor Management f√ºr effektive Zusammenarbeit mit externen Dienstleistern"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 8),
        question: 'Welche spezialisierten Projektmethodologien und Tools sind f√ºr die Koordination komplexer IAM-Transformationen mit multiplen Stakeholdern und interdependenten Systemkomponenten am effektivsten?',
        answer: "Komplexe IAM-Transformationen erfordern spezialisierte Projektmethodologien und Tools, die √ºber traditionelle Projektmanagement-Ans√§tze hinausgehen und die einzigartigen Herausforderungen von enterprise-weiten Identit√§tssystemen adressieren. Die Koordination multipler Stakeholder und interdependenter Systemkomponenten verlangt nach innovativen Ans√§tzen, die Agilit√§t mit strukturierter Governance verbinden.\n\nüéØ Hybrid Project Methodology und Framework Integration:\n‚Ä¢ SAFe Integration f√ºr skalierte agile Entwicklung in gro√üen Organisationen mit multiplen Teams\n‚Ä¢ PRINCE2 Governance f√ºr strukturierte Projektsteuerung und Risk Management\n‚Ä¢ Lean Startup Principles f√ºr MVP-basierte Entwicklung und schnelle Validierung\n‚Ä¢ Design Thinking Integration f√ºr benutzerorientierte L√∂sungsentwicklung\n‚Ä¢ DevOps Methodology f√ºr kontinuierliche Integration und Deployment\n\nüõ†Ô∏è Advanced Project Management Tools und Platforms:\n‚Ä¢ Enterprise Project Portfolio Management mit Tools wie Microsoft Project Server oder Clarity\n‚Ä¢ Agile Management Platforms wie Jira, Azure DevOps oder Rally f√ºr Sprint-Management\n‚Ä¢ Collaboration Tools wie Microsoft Teams, Slack oder Confluence f√ºr Team-Kommunikation\n‚Ä¢ Documentation Platforms wie SharePoint oder Notion f√ºr Knowledge Management\n‚Ä¢ Integration Platforms f√ºr API-Management und System-Orchestration\n\nüìä Stakeholder Coordination und Communication Management:\n‚Ä¢ Stakeholder Relationship Management mit CRM-√§hnlichen Systemen f√ºr Stakeholder-Tracking\n‚Ä¢ Communication Matrix f√ºr strukturierte Information verschiedener Stakeholder-Gruppen\n‚Ä¢ Regular Steering Committee Meetings mit Executive-Level Decision Making\n‚Ä¢ Cross-functional Working Groups f√ºr operative Koordination zwischen Fachbereichen\n‚Ä¢ Escalation Management f√ºr strukturierte Behandlung von Konflikten und Blockern\n\nüîó Dependency Management und System Integration:\n‚Ä¢ Dependency Mapping mit visueller Darstellung aller Systemabh√§ngigkeiten\n‚Ä¢ Integration Architecture Planning f√ºr nahtlose Systemverbindungen\n‚Ä¢ API Management f√ºr standardisierte Schnittstellen zwischen Systemkomponenten\n‚Ä¢ Data Flow Analysis f√ºr Verst√§ndnis der Datenstr√∂me zwischen Systemen\n‚Ä¢ Impact Analysis f√ºr Bewertung von √Ñnderungsauswirkungen auf abh√§ngige Systeme\n\n‚ö° Agile Scaling und Multi-Team Coordination:\n‚Ä¢ Scrum of Scrums f√ºr Koordination zwischen multiplen Scrum-Teams\n‚Ä¢ Program Increment Planning f√ºr synchronisierte Entwicklung √ºber Team-Grenzen hinweg\n‚Ä¢ Feature Team Organization f√ºr cross-funktionale Entwicklung komplexer Features\n‚Ä¢ Communities of Practice f√ºr Wissensaustausch und Best-Practice-Sharing\n‚Ä¢ Continuous Integration Pipelines f√ºr koordinierte Code-Integration\n\nüìà Performance Monitoring und Analytics:\n‚Ä¢ Project Analytics Dashboard f√ºr Real-time Einblicke in Projektfortschritt und Performance\n‚Ä¢ Velocity Tracking f√ºr Messung der Team-Produktivit√§t und Trend-Analyse\n‚Ä¢ Quality Metrics f√ºr kontinuierliche √úberwachung der Deliverable-Qualit√§t\n‚Ä¢ Risk Analytics f√ºr datengetriebene Risikobewertung und Trend-Erkennung\n‚Ä¢ Stakeholder Satisfaction Metrics f√ºr Messung der Stakeholder-Zufriedenheit\n\nüåê Technology-Enabled Collaboration und Innovation:\n‚Ä¢ Virtual Reality Workshops f√ºr immersive Stakeholder-Collaboration\n‚Ä¢ AI-powered Project Insights f√ºr intelligente Projektanalyse und Empfehlungen\n‚Ä¢ Automated Reporting f√ºr effiziente Stakeholder-Information\n‚Ä¢ Digital Whiteboarding f√ºr kreative Probleml√∂sung und Design Sessions\n‚Ä¢ Cloud-based Collaboration f√ºr globale Team-Koordination und Accessibility"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 2 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
