import { createClient } from '@sanity/client'
import * as dotenv from 'dotenv'
import { join } from 'path'

dotenv.config({ path: join(process.cwd(), '.env') })

const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Adding FAQ Batch 1 to CRA SBOM page...')

    const faqBatch1 = [
      {
        _type: 'object',
        _key: generateKey('faq', 1),
        question: 'Welche strategischen Vorteile bietet eine umfassende SBOM-Implementierung f√ºr CRA-Compliance √ºber die reine Regulierungserf√ºllung hinaus?',
        answer: "Eine strategische SBOM-Implementierung transformiert Compliance von einer reaktiven Pflicht zu einem proaktiven Gesch√§ftsvorteil. Moderne SBOM-Strategien schaffen nicht nur regulatorische Sicherheit, sondern etablieren auch operative Exzellenz durch verbesserte Supply Chain Visibility, proaktives Risikomanagement und strategische Partnerschaften. Der Schl√ºssel liegt in der ganzheitlichen Integration von SBOM-Prozessen in die gesamte Wertsch√∂pfungskette.\n\nüîç Strategische Supply Chain Intelligence:\n‚Ä¢ SBOM erm√∂glicht vollst√§ndige Transparenz √ºber alle Softwarekomponenten und deren Abh√§ngigkeiten, wodurch versteckte Risiken und Optimierungspotenziale identifiziert werden k√∂nnen.\n‚Ä¢ Durch kontinuierliche Analyse der SBOM-Daten entstehen wertvolle Insights f√ºr strategische Entscheidungen bez√ºglich Technologie-Stack, Vendor-Management und Architekturentscheidungen.\n‚Ä¢ Die Kombination aus automatisierter SBOM-Generierung und intelligenter Analytics schafft eine datengetriebene Grundlage f√ºr Supply Chain Optimierung.\n‚Ä¢ Predictive Analytics auf Basis von SBOM-Daten erm√∂glichen proaktive Identifikation von Trends, Risiken und Chancen in der Softwarelieferkette.\n‚Ä¢ Integration mit Business Intelligence Systemen verwandelt SBOM-Daten in strategische Gesch√§ftsinformationen f√ºr das Management.\n\n‚ö° Proaktives Vulnerability Management:\n‚Ä¢ SBOM-basierte Vulnerability Intelligence erm√∂glicht Echtzeit-Monitoring und automatisierte Risikobewertung f√ºr alle Softwarekomponenten.\n‚Ä¢ Durch kontinuierliche √úberwachung k√∂nnen Sicherheitsl√ºcken identifiziert und priorisiert werden, bevor sie zu kritischen Problemen werden.\n‚Ä¢ Automatisierte Impact-Analysen zeigen sofort auf, welche Systeme und Gesch√§ftsprozesse von neu entdeckten Vulnerabilities betroffen sind.\n‚Ä¢ Integration mit Security Operations Centers erm√∂glicht nahtlose Incident Response und koordinierte Remediation-Ma√ünahmen.\n‚Ä¢ Trend-Analysen auf Basis historischer SBOM-Daten unterst√ºtzen die strategische Sicherheitsplanung und Budgetierung.\n\nü§ù Vertrauensvolle Partnerschaften:\n‚Ä¢ Transparente SBOM-Kommunikation mit Kunden und Partnern schafft Vertrauen und differenziert im Wettbewerb.\n‚Ä¢ Standardisierte SBOM-Formate erm√∂glichen nahtlose Integration in Kunden-Systeme und vereinfachen Compliance-Prozesse.\n‚Ä¢ Proaktive Kommunikation √ºber Sicherheitsupdates und Komponenten-√Ñnderungen st√§rkt Kundenbeziehungen und reduziert Support-Aufwand.\n‚Ä¢ SBOM-basierte Service Level Agreements schaffen klare Erwartungen und messbare Qualit√§tskriterien.\n‚Ä¢ Collaborative Security-Ans√§tze mit Partnern erm√∂glichen gemeinsame Threat Intelligence und koordinierte Sicherheitsma√ünahmen.\n\nüìä Operative Effizienz und Kostenoptimierung:\n‚Ä¢ Automatisierte SBOM-Prozesse reduzieren manuellen Aufwand und eliminieren fehleranf√§llige manuelle Dokumentation.\n‚Ä¢ Zentrale SBOM-Repositories schaffen Single Source of Truth und eliminieren Datensilos zwischen verschiedenen Teams und Systemen.\n‚Ä¢ Integration mit DevOps-Pipelines erm√∂glicht kontinuierliche Compliance ohne Verlangsamung der Entwicklungszyklen.\n‚Ä¢ Standardisierte Prozesse und Tools reduzieren Schulungsaufwand und verbessern die Konsistenz √ºber verschiedene Projekte hinweg.\n‚Ä¢ Metriken und KPIs auf Basis von SBOM-Daten erm√∂glichen datengetriebene Optimierung von Entwicklungs- und Compliance-Prozessen."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 2),
        question: 'Wie k√∂nnen Unternehmen eine automatisierte SBOM-Generierung implementieren, die sowohl CRA-Anforderungen erf√ºllt als auch in bestehende Entwicklungsprozesse integriert werden kann?',
        answer: "Die erfolgreiche Automatisierung der SBOM-Generierung erfordert eine durchdachte Integration in bestehende Entwicklungsworkflows und Toolchains. Moderne Ans√§tze kombinieren verschiedene Technologien und Methoden, um kontinuierliche, pr√§zise und CRA-konforme SBOM-Erstellung zu gew√§hrleisten. Der Schl√ºssel liegt in der nahtlosen Integration ohne Disruption bestehender Prozesse bei gleichzeitiger Maximierung der Datenqualit√§t und Automatisierung.\n\nüîß DevOps-Pipeline Integration:\n‚Ä¢ Integration von SBOM-Generierung direkt in CI/CD-Pipelines erm√∂glicht automatische Erstellung bei jedem Build-Prozess ohne zus√§tzlichen manuellen Aufwand.\n‚Ä¢ Verwendung von Build-Tools und Package-Managern zur automatischen Extraktion von Dependency-Informationen aus verschiedenen Programmiersprachen und Frameworks.\n‚Ä¢ Implementation von Quality Gates, die SBOM-Vollst√§ndigkeit und -Qualit√§t vor Deployment-Freigaben √ºberpr√ºfen.\n‚Ä¢ Automatische Versionierung und Archivierung von SBOMs parallel zu Software-Releases f√ºr vollst√§ndige Nachverfolgbarkeit.\n‚Ä¢ Integration mit Artifact-Repositories zur zentralen Speicherung und Verwaltung von SBOMs als Teil der Software-Artefakte.\n\nüõ†Ô∏è Multi-Tool und Multi-Language Support:\n‚Ä¢ Einsatz spezialisierter SBOM-Tools wie Syft, SPDX-Tools oder CycloneDX-Generatoren f√ºr verschiedene Technologie-Stacks und Deployment-Szenarien.\n‚Ä¢ Kombination verschiedener Scanning-Methoden wie Static Analysis, Dynamic Analysis und Container-Scanning f√ºr vollst√§ndige Komponentenerfassung.\n‚Ä¢ Support f√ºr verschiedene Programmiersprachen, Package-Manager und Build-Systeme durch modulare Tool-Architekturen.\n‚Ä¢ Integration mit Container-Registries und Kubernetes-Umgebungen f√ºr Cloud-native Anwendungen und Microservices-Architekturen.\n‚Ä¢ Automatische Erkennung und Behandlung von verschiedenen Lizenzmodellen und Open-Source-Komponenten.\n\nüìã Standardisierung und Formatierung:\n‚Ä¢ Implementation standardisierter SBOM-Formate wie SPDX oder CycloneDX f√ºr Interoperabilit√§t und CRA-Compliance.\n‚Ä¢ Automatische Anreicherung von SBOM-Daten mit zus√§tzlichen Metadaten wie Lizenzinformationen, Vulnerability-Status und Supplier-Informationen.\n‚Ä¢ Konsistente Datenstrukturen und Naming-Conventions f√ºr vereinfachte Analyse und Reporting.\n‚Ä¢ Automatische Validierung gegen CRA-Anforderungen und Industriestandards vor Finalisierung der SBOMs.\n‚Ä¢ Export in verschiedene Formate f√ºr unterschiedliche Stakeholder und Use Cases.\n\nüîÑ Kontinuierliche Aktualisierung und Monitoring:\n‚Ä¢ Implementierung von Change-Detection-Mechanismen, die automatisch neue SBOMs generieren bei √Ñnderungen an Abh√§ngigkeiten oder Komponenten.\n‚Ä¢ Integration mit Vulnerability-Datenbanken f√ºr kontinuierliche Sicherheitsbewertung aller SBOM-Komponenten.\n‚Ä¢ Automatische Benachrichtigungen bei kritischen √Ñnderungen oder neu entdeckten Sicherheitsl√ºcken in verwendeten Komponenten.\n‚Ä¢ Historische Verfolgung von SBOM-√Ñnderungen f√ºr Audit-Zwecke und Compliance-Nachweis.\n‚Ä¢ Dashboard und Reporting-Funktionen f√ºr Echtzeit-√úbersicht √ºber SBOM-Status und Compliance-Metriken.\n\nüéØ Qualit√§tssicherung und Governance:\n‚Ä¢ Implementierung von Approval-Workflows f√ºr kritische SBOM-√Ñnderungen und neue Komponenten.\n‚Ä¢ Automatische √úberpr√ºfung gegen Unternehmensrichtlinien und Compliance-Anforderungen.\n‚Ä¢ Integration mit Enterprise Architecture und Governance-Prozessen f√ºr strategische Alignment.\n‚Ä¢ Metriken und KPIs zur kontinuierlichen Verbesserung der SBOM-Qualit√§t und Prozesseffizienz.\n‚Ä¢ Training und Change Management f√ºr erfolgreiche Adoption durch Entwicklungsteams."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 3),
        question: 'Welche kritischen Herausforderungen entstehen bei der SBOM-Implementierung in komplexen Enterprise-Umgebungen und wie k√∂nnen diese strategisch adressiert werden?',
        answer: "SBOM-Implementierung in Enterprise-Umgebungen bringt einzigartige Komplexit√§ten mit sich, die √ºber technische Aspekte hinausgehen und organisatorische, prozessuale und strategische Dimensionen umfassen. Erfolgreiche Implementierungen erfordern einen ganzheitlichen Ansatz, der technische Excellence mit Change Management, Governance und strategischer Planung verbindet. Die gr√∂√üten Herausforderungen liegen oft in der Koordination verschiedener Stakeholder und der Integration heterogener Systemlandschaften.\n\nüè¢ Organisatorische Komplexit√§t und Stakeholder-Management:\n‚Ä¢ Koordination zwischen verschiedenen Abteilungen wie Entwicklung, Security, Compliance, Legal und Procurement erfordert klare Governance-Strukturen und Kommunikationsprozesse.\n‚Ä¢ Etablierung von SBOM-Champions und Center of Excellence f√ºr konsistente Implementierung und kontinuierliche Verbesserung √ºber verschiedene Business Units hinweg.\n‚Ä¢ Change Management-Strategien zur √úberwindung von Widerst√§nden und F√∂rderung der Adoption neuer Prozesse und Tools.\n‚Ä¢ Definition klarer Rollen und Verantwortlichkeiten f√ºr SBOM-Erstellung, -Wartung und -Governance auf verschiedenen Organisationsebenen.\n‚Ä¢ Schulungs- und Awareness-Programme f√ºr verschiedene Zielgruppen von technischen Teams bis hin zu Management und Compliance-Verantwortlichen.\n\nüîó Technische Integration und Legacy-Systeme:\n‚Ä¢ Integration von SBOM-Prozessen in heterogene Toolchains und Legacy-Systeme ohne Disruption bestehender Workflows.\n‚Ä¢ Umgang mit verschiedenen Technologie-Stacks, Programmiersprachen und Deployment-Modellen in einer einheitlichen SBOM-Strategie.\n‚Ä¢ Migration von manuellen Prozessen zu automatisierten Systemen unter Ber√ºcksichtigung von Datenqualit√§t und Kontinuit√§t.\n‚Ä¢ Interoperabilit√§t zwischen verschiedenen SBOM-Tools und -Formaten f√ºr nahtlose Datenintegration und -austausch.\n‚Ä¢ Skalierung von SBOM-Prozessen f√ºr gro√üe Mengen von Anwendungen, Services und Komponenten ohne Performance-Einbu√üen.\n\nüìä Datenqualit√§t und Governance:\n‚Ä¢ Etablierung von Data Governance-Frameworks f√ºr konsistente SBOM-Datenqualit√§t und -integrit√§t √ºber verschiedene Systeme und Prozesse hinweg.\n‚Ä¢ Implementierung von Validierungs- und Qualit√§tssicherungsprozessen f√ºr automatisch generierte SBOM-Daten.\n‚Ä¢ Umgang mit unvollst√§ndigen oder ungenauen Dependency-Informationen in Legacy-Anwendungen und Third-Party-Komponenten.\n‚Ä¢ Standardisierung von Metadaten und Attributen f√ºr einheitliche SBOM-Strukturen und verbesserte Analysem√∂glichkeiten.\n‚Ä¢ Archivierung und Versionierung von historischen SBOM-Daten f√ºr Compliance und Audit-Zwecke.\n\nüîê Security und Compliance Integration:\n‚Ä¢ Integration von SBOM-Daten in bestehende Security Operations und Incident Response-Prozesse f√ºr verbesserte Threat Intelligence.\n‚Ä¢ Automatisierung von Vulnerability Assessment und Risk Scoring basierend auf SBOM-Informationen.\n‚Ä¢ Compliance-Mapping zwischen SBOM-Daten und verschiedenen regulatorischen Anforderungen wie CRA, GDPR und branchenspezifischen Standards.\n‚Ä¢ Secure Handling und Sharing von SBOM-Daten unter Ber√ºcksichtigung von Intellectual Property und Competitive Intelligence-Aspekten.\n‚Ä¢ Integration mit Enterprise Risk Management-Systemen f√ºr ganzheitliche Risikobewertung und -steuerung.\n\n‚öñÔ∏è Vendor Management und Supply Chain Coordination:\n‚Ä¢ Etablierung von SBOM-Anforderungen in Vendor-Vertr√§gen und Procurement-Prozessen f√ºr konsistente Supply Chain Transparency.\n‚Ä¢ Koordination mit Software-Lieferanten f√ºr standardisierte SBOM-Bereitstellung und kontinuierliche Updates.\n‚Ä¢ Management von SBOM-Daten f√ºr Third-Party-Komponenten und Commercial Off-The-Shelf Software.\n‚Ä¢ Implementierung von Supplier Assessment-Prozessen basierend auf SBOM-Qualit√§t und Security-Practices.\n‚Ä¢ Collaborative Approaches mit Partnern und Kunden f√ºr bidirektionale SBOM-Integration und Shared Responsibility-Modelle."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 4),
        question: 'Wie k√∂nnen Unternehmen SBOM-Analytics und Intelligence nutzen, um proaktive Entscheidungen f√ºr Supply Chain Security und Business Continuity zu treffen?',
        answer: "SBOM-Analytics transformiert statische Compliance-Dokumentation in dynamische Business Intelligence, die strategische Entscheidungen erm√∂glicht und proaktives Risikomanagement unterst√ºtzt. Moderne Analytics-Ans√§tze kombinieren SBOM-Daten mit externen Intelligence-Quellen, Machine Learning und Predictive Analytics, um actionable Insights f√ºr Supply Chain Security und Business Continuity zu generieren. Der Schl√ºssel liegt in der Transformation von Daten in strategische Erkenntnisse, die das Management bei kritischen Entscheidungen unterst√ºtzen.\n\nüìà Predictive Risk Analytics und Trend Analysis:\n‚Ä¢ Entwicklung von Predictive Models, die auf Basis historischer SBOM-Daten und Vulnerability-Trends zuk√ºnftige Risiken und Bedrohungen vorhersagen k√∂nnen.\n‚Ä¢ Trend-Analysen zur Identifikation von Mustern in der Komponentennutzung, Vulnerability-H√§ufigkeit und Supplier-Performance √ºber Zeit.\n‚Ä¢ Risk Scoring-Algorithmen, die verschiedene Faktoren wie Komponenten-Alter, Maintenance-Status, Vulnerability-Historie und Supplier-Reputation kombinieren.\n‚Ä¢ Scenario Planning und What-If-Analysen f√ºr verschiedene Supply Chain-Disruption-Szenarien und deren potenzielle Auswirkungen.\n‚Ä¢ Integration mit Threat Intelligence-Feeds f√ºr kontextuelle Risikobewertung basierend auf aktuellen Bedrohungslandschaften.\n\nüéØ Strategic Decision Support und Portfolio Management:\n‚Ä¢ Portfolio-Analysen zur Bewertung der Diversifikation und Konzentration von Softwarekomponenten und Suppliers √ºber verschiedene Anwendungen hinweg.\n‚Ä¢ Technology Roadmap-Unterst√ºtzung durch Analyse von Komponenten-Lifecycle, End-of-Life-Terminen und Migration-Pfaden.\n‚Ä¢ Investment-Priorisierung basierend auf Risk-Return-Analysen f√ºr verschiedene Modernisierungs- und Security-Initiativen.\n‚Ä¢ Vendor Consolidation-Strategien durch Analyse von Supplier-Performance, Kosten-Nutzen-Verh√§ltnissen und strategischen Abh√§ngigkeiten.\n‚Ä¢ Compliance-Kosten-Optimierung durch intelligente Priorisierung von Remediation-Ma√ünahmen basierend auf Business Impact und Aufwand.\n\nüîç Real-time Monitoring und Alerting:\n‚Ä¢ Implementierung von Real-time Dashboards f√ºr kontinuierliche √úberwachung kritischer SBOM-Metriken und Supply Chain Health-Indikatoren.\n‚Ä¢ Intelligente Alerting-Systeme, die automatisch kritische √Ñnderungen, neue Vulnerabilities oder Compliance-Abweichungen identifizieren und eskalieren.\n‚Ä¢ Anomaly Detection f√ºr ungew√∂hnliche Muster in der Komponentennutzung oder Supplier-Verhalten, die auf potenzielle Probleme hinweisen k√∂nnten.\n‚Ä¢ Integration mit Business Continuity-Systemen f√ºr automatische Aktivierung von Contingency-Pl√§nen bei kritischen Supply Chain-Ereignissen.\n‚Ä¢ Custom KPIs und Metriken f√ºr verschiedene Stakeholder-Gruppen von technischen Teams bis hin zu C-Level-Management.\n\nüåê Supply Chain Optimization und Resilience Planning:\n‚Ä¢ Network Analysis zur Visualisierung und Optimierung komplexer Dependency-Netzwerke und Identifikation kritischer Pfade und Single Points of Failure.\n‚Ä¢ Supplier Diversification-Strategien basierend auf Risiko-Konzentrations-Analysen und geografischen oder technologischen Abh√§ngigkeiten.\n‚Ä¢ Business Continuity Planning durch Simulation verschiedener Disruption-Szenarien und Bewertung alternativer Sourcing-Optionen.\n‚Ä¢ Cost-Benefit-Analysen f√ºr verschiedene Resilience-Ma√ünahmen wie Redundancy, Alternative Suppliers oder In-house Development.\n‚Ä¢ Integration mit Enterprise Risk Management f√ºr ganzheitliche Risikobewertung und strategische Planung.\n\nüí° Innovation und Competitive Intelligence:\n‚Ä¢ Technology Scouting durch Analyse von Komponenten-Trends und Emerging Technologies in der eigenen und Wettbewerber-Software.\n‚Ä¢ Open Source Intelligence f√ºr Bewertung von Community Health, Development Activity und Long-term Viability von verwendeten Komponenten.\n‚Ä¢ Competitive Analysis durch Vergleich von Technology Stacks und Architectural Patterns mit Branchenstandards und Best Practices.\n‚Ä¢ Innovation Opportunity Identification durch Gap-Analysen und Bewertung von Modernisierungs- und Optimierungspotenzialen.\n‚Ä¢ Strategic Partnership-Evaluation basierend auf Technology Alignment und komplement√§ren Capabilities verschiedener Supplier."
      }
    ]

    // Fetch the current document
    const currentDoc = await client.getDocument('cra-sbom')
    
    if (!currentDoc) {
      throw new Error('Document not found')
    }
    
    // Update the FAQ array
    const updatedDoc = {
      ...currentDoc,
      faq: [...(currentDoc.faq || []), ...faqBatch1]
    }

    // Update the document
    await client.createOrReplace(updatedDoc)

    console.log('‚úÖ FAQ Batch 1 added to CRA SBOM page successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
