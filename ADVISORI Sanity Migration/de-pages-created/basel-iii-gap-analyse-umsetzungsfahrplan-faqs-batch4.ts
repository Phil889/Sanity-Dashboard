import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating Basel III Gap-Analyse & Umsetzungsfahrplan page with FAQs batch 4...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'basel-iii-gap-analyse-umsetzungsfahrplan' })
    
    if (!existingDoc) {
      throw new Error('Document "basel-iii-gap-analyse-umsetzungsfahrplan" not found')
    }
    
    // Create new FAQs
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 1),
        question: "Welche Methoden setzt ADVISORI ein, um Engp√§sse und Hindernisse in der Basel III-Implementierung fr√ºhzeitig zu identifizieren und zu adressieren?",
        answer: "Die erfolgreiche Implementierung von Basel III h√§ngt ma√ügeblich von der fr√ºhzeitigen Identifikation und proaktiven Adressierung potenzieller Hindernisse ab. ADVISORI's pr√§ventiver Ansatz zur Engpasserkennung und -behebung kombiniert strukturierte Methoden, innovative Techniken und praktische Erfahrung, um Implementierungsrisiken systematisch zu minimieren und einen reibungslosen Umsetzungsprozess zu gew√§hrleisten.\n\nüîç Proaktive Methoden zur Engpassidentifikation:\n‚Ä¢ Implementierungsrisiko-Assessment: Systematische Bewertung potenzieller Risiken und Hindernisse auf verschiedenen Ebenen (organisatorisch, technisch, regulatorisch, ressourcenbezogen) mit standardisierten Bewertungsmodellen und -kriterien.\n‚Ä¢ Kritischer-Pfad-Analyse: Detaillierte Analyse des Implementierungszeitplans zur Identifikation von Aktivit√§ten mit geringen Pufferzeiten, hohen Abh√§ngigkeiten und erh√∂htem Risikopotenzial.\n‚Ä¢ Capability-Gap-Bewertung: Strukturierte Evaluation der verf√ºgbaren vs. ben√∂tigten F√§higkeiten und Ressourcen zur fr√ºhzeitigen Erkennung von Kompetenz- und Kapazit√§tsengp√§ssen.\n‚Ä¢ Stakeholder-Impact-Mapping: Analyse der Interessenlagen und potenziellen Widerst√§nde relevanter Stakeholder zur Antizipation von Change-Management-Herausforderungen.\n\n‚öôÔ∏è ADVISORI's integrierter Pr√§ventionsansatz:\n‚Ä¢ Early-Warning-System: Implementierung eines mehrstufigen Fr√ºhwarnsystems mit definierten Indikatoren und Schwellenwerten zur rechtzeitigen Signalisierung potenzieller Engp√§sse und Verz√∂gerungen.\n‚Ä¢ Pre-Implementation Workshops: Durchf√ºhrung strukturierter Workshops mit Fachexperten und Implementierungsteams zur kollaborativen Identifikation von Herausforderungen und Risiken vor Beginn der eigentlichen Implementierung.\n‚Ä¢ Implementierungs-Simulationen: Durchf√ºhrung von Gedankenexperimenten und Simulationen kritischer Implementierungsschritte zur Antizipation m√∂glicher Komplikationen und Entwicklung pr√§ventiver Ma√ünahmen.\n‚Ä¢ Lessons-Learned-Integration: Systematische Einbindung von Erfahrungen und Best Practices aus fr√ºheren Implementierungsprojekten zur Vermeidung wiederkehrender Problemmuster.\n\nüõ†Ô∏è Strategien zur effektiven Engpassbehebung:\n‚Ä¢ Eskalations- und Entscheidungspfade: Etablierung klarer Prozesse und Verantwortlichkeiten f√ºr die Eskalation und L√∂sung identifizierter Engp√§sse mit definierten Entscheidungskompetenzen und Reaktionszeiten.\n‚Ä¢ Flexibles Ressourcenmanagement: Aufbau eines adaptiven Ressourcenpools mit flexiblen Kapazit√§ten und Spezialkompetenzen, der bei Bedarf zur Bew√§ltigung von Engp√§ssen aktiviert werden kann.\n‚Ä¢ Modulare Implementierungsarchitektur: Gestaltung des Umsetzungsfahrplans in eigenst√§ndigen, aber koordinierten Modulen, die bei Engp√§ssen unabh√§ngig voneinander angepasst oder neu priorisiert werden k√∂nnen.\n‚Ä¢ Kontinuierlicher Verbesserungszyklus: Integration regelm√§√üiger Retrospektiven und Lessons-Learned-Sessions in den Implementierungsprozess zur fortlaufenden Optimierung des Vorgehens und Vermeidung wiederkehrender Probleme."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 2),
        question: "Wie unterst√ºtzt ADVISORI bei der Entwicklung von ma√ügeschneiderten Monitoring- und Steuerungsinstrumenten f√ºr die Basel III-Implementierung?",
        answer: "Die effektive Steuerung komplexer Basel III-Implementierungsprojekte erfordert ma√ügeschneiderte Monitoring- und Controllinginstrumente, die √ºber traditionelle Projektmanagement-Tools hinausgehen. ADVISORI entwickelt individuelle Steuerungssysteme, die sowohl die regulatorischen Besonderheiten als auch die spezifischen Anforderungen und Strukturen des jeweiligen Instituts ber√ºcksichtigen und eine pr√§zise, transparente Fortschrittskontrolle erm√∂glichen.\n\nüìä Mehrdimensionales Implementierungs-Monitoring:\n‚Ä¢ Integriertes Fortschritts-Dashboard: Entwicklung zielgruppenspezifischer Visualisierungen mit konsolidierten KPIs, die den Implementierungsfortschritt auf verschiedenen Ebenen (Arbeitspakete, Teilprojekte, Gesamtprogramm) transparent darstellen.\n‚Ä¢ Regulatorisches Compliance-Tracking: Implementierung eines systematischen Monitorings der Erf√ºllungsgrade regulatorischer Anforderungen mit klarer Visualisierung von L√ºcken, Fortschritten und verbleibenden Handlungsbedarfen.\n‚Ä¢ Risiko- und Issue-Monitoring: Etablierung eines proaktiven Fr√ºhwarnsystems f√ºr Implementierungsrisiken mit klaren Eskalationspfaden, Verantwortlichkeiten und Interventionsmechanismen.\n‚Ä¢ Ressourcen- und Budget-Controlling: Entwicklung granularer Tracking-Mechanismen f√ºr die √úberwachung der Ressourcenauslastung und Budgetverwendung, inklusive Prognosefunktionen und Szenarioanalysen.\n\nüéØ Ma√ügeschneiderte Steuerungsinstrumente:\n‚Ä¢ Implementierungs-Cockpit f√ºr die F√ºhrungsebene: Konzeption eines kompakten, entscheidungsorientierten Steuerungsinstruments f√ºr die C-Suite, das kritische Kennzahlen, Meilensteine und Entscheidungsbedarfe √ºbersichtlich darstellt.\n‚Ä¢ Operative Steuerungswerkzeuge: Entwicklung detaillierter, aktivit√§tenbezogener Tracking-Tools f√ºr Projektleiter und -teams, die t√§gliche Planungs- und Steuerungsentscheidungen unterst√ºtzen.\n‚Ä¢ Stakeholder-spezifische Berichtsformate: Gestaltung differenzierter Reporting-Formate f√ºr unterschiedliche Stakeholder-Gruppen (Vorstand, Fachbereiche, IT, externe Partner), die deren spezifische Informationsbed√ºrfnisse adressieren.\n‚Ä¢ Automatisierte Reporting-Mechanismen: Implementierung effizienter Datenerfassungs- und Berichtsgenerierungsprozesse, die den manuellen Aufwand minimieren und die Datenaktualit√§t maximieren.\n\n‚öôÔ∏è Technologische Umsetzungsoptionen:\n‚Ä¢ Integrierte Projektmanagement-Plattformen: Konfiguration und Anpassung moderner PM-Tools (z.B. Jira, Microsoft Project, Monday) f√ºr die spezifischen Anforderungen regulatorischer Implementierungsprojekte.\n‚Ä¢ Business Intelligence f√ºr Projektsteuerung: Entwicklung ma√ügeschneiderter BI-Dashboards und -Analysen zur multidimensionalen Auswertung und Visualisierung von Implementierungsdaten.\n‚Ä¢ Kollaborative Workspace-L√∂sungen: Implementation kollaborativer Plattformen f√ºr die effiziente Zusammenarbeit cross-funktionaler Teams, integriert mit Monitoring- und Steuerungsfunktionen.\n‚Ä¢ Mobile Monitoring-L√∂sungen: Bereitstellung mobiler Applikationen oder responsiver Web-Interfaces f√ºr den ortsunabh√§ngigen Zugriff auf kritische Steuerungsinformationen."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 3),
        question: "Wie gestaltet ADVISORI den Wissenstransfer und Kompetenzaufbau im Rahmen der Basel III Gap-Analyse und Umsetzungsplanung?",
        answer: "Ein nachhaltiger Wissenstransfer und systematischer Kompetenzaufbau sind essentiell, um die Abh√§ngigkeit von externen Beratern zu reduzieren und langfristige regulatorische Fitness zu gew√§hrleisten. ADVISORI integriert diese Aspekte daher als zentrale Komponenten in die Basel III Gap-Analyse und Umsetzungsplanung, mit dem Ziel, nicht nur Compliance zu schaffen, sondern auch die organisationale Kapazit√§t f√ºr zuk√ºnftige regulatorische Herausforderungen nachhaltig zu st√§rken.\n\nüéì Integrierte Wissensvermittlung im Projektverlauf:\n‚Ä¢ Collaborative Work Approach: Durchf√ºhrung aller Analyse- und Planungsaktivit√§ten in gemischten Teams aus ADVISORI-Experten und Bankmitarbeitern, die einen kontinuierlichen Know-how-Transfer durch gemeinsames Arbeiten an konkreten Aufgabenstellungen erm√∂glichen.\n‚Ä¢ Knowledge Shadowing: Gezielte Begleitung von Schl√ºsselpersonen durch ADVISORI-Experten, die methodisches und inhaltliches Wissen in der praktischen Anwendung vermitteln und gleichzeitig als Coaches und Mentoren fungieren.\n‚Ä¢ Progressive Expertise Transition: Schrittweise √úbergabe von Verantwortlichkeiten an interne Mitarbeiter, beginnend mit einfacheren Aufgaben und schrittweiser Steigerung der Komplexit√§t, unterst√ºtzt durch abnehmende Betreuungsintensit√§t.\n‚Ä¢ Expert Workshops und Clinics: Durchf√ºhrung gezielter Workshops zu spezifischen regulatorischen Themenkomplexen, erg√§nzt durch Experten-Sprechstunden f√ºr die praktische Anwendung des Gelernten und die L√∂sung konkreter Implementierungsfragen.\n\nüìö Strukturierte Wissensdokumentation und -bereitstellung:\n‚Ä¢ Comprehensive Knowledge Repository: Aufbau einer strukturierten Wissensdatenbank, die regulatorische Anforderungen, Interpretationen, Implementierungsleitf√§den und Best Practices in einer benutzerfreundlichen Form dokumentiert und zug√§nglich macht.\n‚Ä¢ Anwendungsorientierte Implementierungsleitf√§den: Entwicklung praxisnaher Dokumentation, die nicht nur das 'Was' der regulatorischen Anforderungen erkl√§rt, sondern insbesondere das 'Wie' der konkreten Umsetzung fokussiert.\n‚Ä¢ Decision Documentation und Rationale: Transparente Dokumentation von Entscheidungen, Annahmen und Begr√ºndungen im Rahmen der Gap-Analyse und Implementierungsplanung, um zuk√ºnftige Anpassungen auf fundierter Basis zu erm√∂glichen.\n‚Ä¢ Knowledge Maps und Navigation Tools: Erstellung visueller Orientierungshilfen, die komplexe regulatorische Zusammenh√§nge verdeutlichen und die Navigation durch umfangreiche Wissensinhalte erleichtern.\n\nüöÄ Strategischer Kompetenzaufbau f√ºr nachhaltige Regulatory Excellence:\n‚Ä¢ Skill Gap Assessment: Systematische Analyse der vorhandenen vs. ben√∂tigten Kompetenzen als Grundlage f√ºr einen zielgerichteten Kompetenzaufbau in regulatorischen Schl√ºsselbereichen.\n‚Ä¢ Role-based Qualification Paths: Entwicklung rollenspezifischer Qualifizierungspfade, die verschiedene Lernformate (Schulungen, Coaching, Selbststudium, praktische Anwendung) f√ºr unterschiedliche Zielgruppen kombinieren.\n‚Ä¢ Regulatory Knowledge Champions: Identifikation und gezielte F√∂rderung interner Experten, die als Multiplikatoren und Wissensvermittler in ihren jeweiligen Fachbereichen fungieren.\n‚Ä¢ Continuous Learning Infrastructure: Etablierung von Strukturen und Prozessen f√ºr kontinuierliches Lernen, um die regulatorische Expertise nachhaltig zu pflegen und weiterzuentwickeln, auch nach Abschluss des eigentlichen Implementierungsprojekts."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 4),
        question: "Welche Rolle spielt die Einbindung des Vorstands und anderer Stakeholder bei der Entwicklung eines Basel III Umsetzungsfahrplans, und wie unterst√ºtzt ADVISORI diesen Prozess?",
        answer: "Die aktive Einbindung des Vorstands und anderer Schl√ºsselstakeholder ist ein kritischer Erfolgsfaktor f√ºr die Entwicklung und Umsetzung eines effektiven Basel III-Implementierungsplans. ADVISORI verfolgt einen systematischen Stakeholder-Management-Ansatz, der strategische und operative Ebenen verbindet, relevante Perspektiven integriert und das notwendige Commitment f√ºr eine erfolgreiche Implementierung sicherstellt.\n\nüîù Strategische Vorstandseinbindung als Erfolgsfaktor:\n‚Ä¢ Executive Alignment Sessions: Durchf√ºhrung strukturierter Workshops mit dem Vorstand zur Schaffung eines gemeinsamen Verst√§ndnisses der Basel III-Anforderungen, ihrer gesch√§ftlichen Implikationen und der strategischen Implementierungsoptionen.\n‚Ä¢ Decision Framework f√ºr Schl√ºsselentscheidungen: Entwicklung eines klaren Entscheidungsrahmens, der definiert, welche Implementierungsentscheidungen auf Vorstandsebene getroffen werden m√ºssen, und diese Entscheidungen durch fundierte Entscheidungsvorlagen unterst√ºtzt.\n‚Ä¢ Strategic Impact Reporting: Etablierung eines vorstandsgerechten Berichtswesens, das die strategischen Auswirkungen der Basel III-Implementierung auf Gesch√§ftsmodell, Kapitalplanung und Profitabilit√§t transparent darstellt.\n‚Ä¢ Executive Sponsorship Model: Definition klarer Sponsorship-Rollen f√ºr Vorstandsmitglieder, die einzelne Schl√ºsselkomponenten der Basel III-Implementierung verantworten und als F√∂rderer innerhalb der Organisation fungieren.\n\nüë• Umfassendes Stakeholder-Management auf allen Ebenen:\n‚Ä¢ Stakeholder Mapping & Segmentation: Systematische Identifikation und Kategorisierung aller relevanten Stakeholder nach Einfluss, Interesse und erforderlichem Engagement, als Grundlage f√ºr eine differenzierte Einbindungsstrategie.\n‚Ä¢ Multilevel Engagement Model: Entwicklung eines mehrstufigen Einbindungsmodells, das unterschiedliche Formate und Intensit√§ten f√ºr verschiedene Stakeholder-Gruppen definiert ‚Äì von regelm√§√üigen Steering Committees bis hin zu punktuellen Informationsveranstaltungen.\n‚Ä¢ Cross-functional Working Groups: Etablierung interdisziplin√§rer Arbeitsgruppen, die Perspektiven aus verschiedenen Fachbereichen (Risiko, Finanzen, IT, Business) integrieren und ein gemeinsames Verst√§ndnis der Implementierungsanforderungen entwickeln.\n‚Ä¢ Transparent Communication Strategy: Implementierung einer klaren Kommunikationsstrategie, die alle relevanten Stakeholder regelm√§√üig und zielgruppengerecht √ºber den Fortschritt, anstehende Entscheidungen und potenzielle Herausforderungen informiert.\n\nüíº ADVISORI's Unterst√ºtzungsansatz f√ºr effektives Stakeholder-Management:\n‚Ä¢ Facilitation von Stakeholder-Workshops: Professionelle Moderation von Workshops und Entscheidungsmeetings, die einen strukturierten Dialog erm√∂glichen, unterschiedliche Perspektiven integrieren und zu konkreten Ergebnissen f√ºhren.\n‚Ä¢ Executive Communication Support: Entwicklung zielgruppengerechter Kommunikationsmaterialien f√ºr die Vorstandskommunikation, die komplexe regulatorische Sachverhalte verst√§ndlich darstellen und Handlungsoptionen klar aufzeigen.\n‚Ä¢ Stakeholder Coaching & Enablement: Unterst√ºtzung von Schl√ºsselstakeholdern bei der Wahrnehmung ihrer Rolle im Implementierungsprozess durch gezielte Vorbereitung, fachliche Unterst√ºtzung und kontinuierliches Feedback.\n‚Ä¢ Conflict Resolution & Consensus Building: Moderation bei der L√∂sung von Interessenskonflikten zwischen verschiedenen Stakeholder-Gruppen und Entwicklung konsensf√§higer Implementierungsans√§tze, die unterschiedliche Anforderungen ausbalancieren."
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQs batch 4 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
