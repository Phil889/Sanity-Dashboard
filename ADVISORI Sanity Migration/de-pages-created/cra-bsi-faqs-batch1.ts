import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating CRA BSI page with FAQs batch 1...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'cra-bsi' })
    
    if (!existingDoc) {
      throw new Error('Document "cra-bsi" not found')
    }
    
    // Create new FAQs
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 1),
        question: 'Welche spezifischen Anforderungen stellt das BSI als deutsche zust√§ndige Beh√∂rde f√ºr CRA-Compliance und wie unterscheiden sich diese von anderen EU-Mitgliedstaaten?',
        answer: "Das BSI als deutsche zust√§ndige Beh√∂rde f√ºr den Cyber Resilience Act entwickelt spezifische nationale Interpretationen und Implementierungsrichtlinien, die deutsche Cybersicherheitstraditionen mit EU-weiten Anforderungen harmonisieren. Diese BSI-spezifischen Ans√§tze reflektieren deutsche Gr√ºndlichkeitsstandards und etablierte Sicherheitsmethodiken, wodurch ein h√∂heres Sicherheitsniveau als EU-Mindestanforderungen entstehen kann.\n\nüèõÔ∏è BSI-spezifische Regulierungsinterpretation:\n‚Ä¢ Das BSI entwickelt detaillierte Auslegungshilfen und technische Leitlinien, die EU-Verordnungstext in konkrete, umsetzbare Anforderungen √ºbersetzen und dabei deutsche Cybersicherheitstraditionen und bew√§hrte Praktiken ber√ºcksichtigen.\n‚Ä¢ Spezifische BSI-Interpretationen zu kritischen Sicherheitsanforderungen, Schwachstellenmanagement und Incident Response, die oft strenger als EU-Mindeststandards sind und h√∂here Sicherheitsniveaus fordern.\n‚Ä¢ Integration deutscher IT-Sicherheitsstandards und BSI-Grundschutz-Methodik in CRA-Compliance-Bewertungen, wodurch etablierte deutsche Sicherheitsans√§tze mit neuen EU-Anforderungen harmonisiert werden.\n‚Ä¢ Besondere Betonung auf Lieferkettensicherheit und Supply Chain Risk Management, reflektierend deutsche Industriestrukturen und Abh√§ngigkeiten von komplexen Zulieferernetzwerken.\n‚Ä¢ Spezifische Anforderungen an Dokumentation und Nachweisf√ºhrung, die deutsche Gr√ºndlichkeits- und Qualit√§tsstandards widerspiegeln und √ºber EU-Mindestanforderungen hinausgehen.\n\nüìã Konformit√§tsbewertung und Zertifizierungsbesonderheiten:\n‚Ä¢ BSI-spezifische Konformit√§tsbewertungsverfahren, die deutsche Pr√ºftraditionen und Qualit√§tsstandards integrieren und dabei internationale Anerkennung gew√§hrleisten.\n‚Ä¢ Besondere Anforderungen an benannte Stellen und Pr√ºforganisationen, einschlie√ülich spezifischer Akkreditierungsstandards und Kompetenzanforderungen f√ºr deutsche Marktgegebenheiten.\n‚Ä¢ Integration von BSI-eigenen Zertifizierungsprogrammen und Sicherheitsevaluierungen in CRA-Compliance-Prozesse, wodurch Synergien zwischen bestehenden und neuen Anforderungen geschaffen werden.\n‚Ä¢ Spezifische Anforderungen an Risikoanalysen und Sicherheitsbewertungen, die deutsche Methodiken und Standards ber√ºcksichtigen und internationale Best Practices integrieren.\n‚Ä¢ Besondere Betonung auf kontinuierliche √úberwachung und regelm√§√üige Neubewertung von Sicherheitsma√ünahmen, reflektierend deutsche Ans√§tze zu proaktivem Risikomanagement.\n\nüîç Markt√ºberwachung und Enforcement-Besonderheiten:\n‚Ä¢ BSI-spezifische Markt√ºberwachungsstrategien und -methoden, die deutsche Verwaltungstraditionen und Rechtsprinzipien ber√ºcksichtigen und dabei effektive Durchsetzung gew√§hrleisten.\n‚Ä¢ Besondere Kooperationsanforderungen zwischen Herstellern und BSI, einschlie√ülich proaktiver Kommunikation und transparenter Informationsbereitstellung √ºber Sicherheitsma√ünahmen und Risikobewertungen.\n‚Ä¢ Spezifische Anforderungen an Incident Reporting und Schwachstellenmeldungen, die √ºber EU-Standards hinausgehen und deutsche Meldepflichten und Koordinationsmechanismen integrieren.\n‚Ä¢ Integration mit bestehenden deutschen Cybersicherheitsstrukturen und Koordinationsmechanismen, einschlie√ülich Verbindungen zu anderen Beh√∂rden und Sicherheitsakteuren.\n‚Ä¢ Besondere Betonung auf pr√§ventive Ma√ünahmen und proaktive Compliance-Unterst√ºtzung, reflektierend deutsche Ans√§tze zu kooperativer Regulierung und Stakeholder-Engagement."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 2),
        question: 'Wie gestaltet sich der BSI-Konformit√§tsbewertungsprozess f√ºr CRA-konforme Produkte und welche strategischen Vorbereitungen sind f√ºr eine erfolgreiche Zertifizierung erforderlich?',
        answer: "Der BSI-Konformit√§tsbewertungsprozess f√ºr CRA-konforme Produkte ist ein strukturierter, mehrstufiger Ansatz, der deutsche Qualit√§ts- und Sicherheitsstandards mit EU-Anforderungen kombiniert und dabei sowohl technische Exzellenz als auch administrative Gr√ºndlichkeit fordert. Erfolgreiche Zertifizierung erfordert strategische Vorbereitung, die technische Implementierung mit prozessualer Dokumentation und proaktiver BSI-Kommunikation verbindet.\n\nüìã Strukturierter Bewertungsprozess:\n‚Ä¢ Umfassende Vorab-Assessment-Phase, in der BSI-spezifische Anforderungen gegen Produktcharakteristika und Sicherheitsarchitektur abgeglichen werden, um potenzielle Compliance-L√ºcken fr√ºhzeitig zu identifizieren.\n‚Ä¢ Detaillierte technische Dokumentationserstellung, die nicht nur EU-Mindestanforderungen erf√ºllt, sondern auch BSI-spezifische Nachweisstandards und deutsche Dokumentationstraditionen ber√ºcksichtigt.\n‚Ä¢ Mehrstufige Risikobewertung und Sicherheitsanalyse, die deutsche Methodiken mit internationalen Standards kombiniert und dabei sowohl quantitative als auch qualitative Bewertungsans√§tze integriert.\n‚Ä¢ Strukturierte Pr√ºfung durch BSI-akkreditierte Konformit√§tsbewertungsstellen, die spezifische deutsche Kompetenzanforderungen und Qualit√§tsstandards erf√ºllen m√ºssen.\n‚Ä¢ Kontinuierliche Kommunikation und Abstimmung mit BSI w√§hrend des gesamten Bewertungsprozesses, um Transparenz zu gew√§hrleisten und potenzielle Probleme proaktiv zu adressieren.\n\nüéØ Strategische Vorbereitungsma√ünahmen:\n‚Ä¢ Entwicklung einer umfassenden Compliance-Strategie, die BSI-spezifische Anforderungen von Projektbeginn an ber√ºcksichtigt und dabei Produktentwicklung, Qualit√§tssicherung und Markteinf√ºhrung integriert.\n‚Ä¢ Aufbau interner Expertise und Kompetenzen f√ºr BSI-Compliance, einschlie√ülich Schulung von Entwicklungsteams, Qualit√§tsmanagern und Compliance-Verantwortlichen in deutschen Standards und Verfahren.\n‚Ä¢ Etablierung robuster Dokumentations- und Nachweissysteme, die deutsche Gr√ºndlichkeitsstandards erf√ºllen und dabei internationale Anerkennung und √úbertragbarkeit gew√§hrleisten.\n‚Ä¢ Proaktive Stakeholder-Kommunikation und Relationship-Building mit BSI, benannten Stellen und anderen relevanten deutschen Beh√∂rden und Organisationen.\n‚Ä¢ Integration von Compliance-Anforderungen in Produktentwicklungs- und Qualit√§tsmanagementsysteme, um nachtr√§gliche Anpassungen zu minimieren und Effizienz zu maximieren.\n\nüîß Technische und administrative Umsetzung:\n‚Ä¢ Implementierung BSI-konformer Sicherheitsarchitekturen und -kontrollen, die deutsche Standards und Best Practices ber√ºcksichtigen und dabei internationale Interoperabilit√§t gew√§hrleisten.\n‚Ä¢ Entwicklung umfassender Test- und Validierungsstrategien, die BSI-Anforderungen an Nachweisf√ºhrung und Qualit√§tssicherung erf√ºllen und dabei Effizienz und Kosteneffektivit√§t optimieren.\n‚Ä¢ Aufbau kontinuierlicher Monitoring- und Verbesserungsprozesse, die proaktive Compliance-√úberwachung erm√∂glichen und dabei Gesch√§ftskontinuit√§t und Innovation unterst√ºtzen.\n‚Ä¢ Etablierung effektiver Change Management-Prozesse f√ºr Produktupdates und Sicherheitspatches, die BSI-Anforderungen an kontinuierliche Compliance ber√ºcksichtigen.\n‚Ä¢ Integration von Incident Response und Schwachstellenmanagement-Prozessen, die deutsche Meldepflichten und Koordinationsmechanismen ber√ºcksichtigen und dabei internationale Koordination erm√∂glichen."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 3),
        question: 'Welche Rolle spielt das BSI bei der Markt√ºberwachung von CRA-konformen Produkten und wie k√∂nnen sich Unternehmen optimal auf BSI-Markt√ºberwachungsaktivit√§ten vorbereiten?',
        answer: "Das BSI √ºbernimmt als deutsche Markt√ºberwachungsbeh√∂rde f√ºr CRA-konforme Produkte eine zentrale Rolle bei der Durchsetzung und √úberwachung der Compliance-Anforderungen, wobei deutsche Verwaltungstraditionen mit EU-weiten Koordinationsmechanismen kombiniert werden. Effektive Vorbereitung auf BSI-Markt√ºberwachung erfordert proaktive Compliance-Strategien, transparente Kommunikation und kontinuierliche Verbesserungsprozesse.\n\nüîç BSI-Markt√ºberwachungsaktivit√§ten und -methoden:\n‚Ä¢ Systematische Marktanalysen und Produktbewertungen, die sowohl stichprobenartige Kontrollen als auch risikobasierte Pr√ºfungen umfassen und dabei deutsche Gr√ºndlichkeitsstandards mit EU-weiten Koordinationsanforderungen verbinden.\n‚Ä¢ Umfassende technische Evaluierungen und Sicherheitsbewertungen, die √ºber Dokumentenpr√ºfung hinausgehen und praktische Tests, Penetrationstests und Schwachstellenanalysen einschlie√üen k√∂nnen.\n‚Ä¢ Koordination mit anderen EU-Markt√ºberwachungsbeh√∂rden und internationalen Partnern, um grenz√ºberschreitende Compliance-Probleme zu adressieren und einheitliche Standards zu gew√§hrleisten.\n‚Ä¢ Proaktive Kommunikation mit Herstellern, Importeuren und anderen Marktakteuren, um Compliance-Verst√§ndnis zu f√∂rdern und pr√§ventive Ma√ünahmen zu unterst√ºtzen.\n‚Ä¢ Integration mit bestehenden deutschen Cybersicherheitsstrukturen und Koordinationsmechanismen, einschlie√ülich Verbindungen zu CERT-Bund und anderen Sicherheitsakteuren.\n\nüìä Vorbereitung auf Markt√ºberwachungsaktivit√§ten:\n‚Ä¢ Entwicklung umfassender Compliance-Dokumentation und Nachweissysteme, die nicht nur aktuelle Anforderungen erf√ºllen, sondern auch zuk√ºnftige Pr√ºfungsanforderungen antizipieren und dabei Transparenz und Nachvollziehbarkeit gew√§hrleisten.\n‚Ä¢ Etablierung proaktiver Kommunikationsstrategien mit BSI, einschlie√ülich regelm√§√üiger Updates √ºber Produktentwicklungen, Sicherheitsverbesserungen und potenzielle Risiken oder Herausforderungen.\n‚Ä¢ Implementierung robuster interner Audit- und Selbstbewertungsprozesse, die BSI-Markt√ºberwachungsmethoden simulieren und dabei interne Compliance-L√ºcken identifizieren und schlie√üen.\n‚Ä¢ Aufbau effektiver Incident Response und Crisis Management Capabilities, die schnelle und transparente Reaktionen auf Markt√ºberwachungsanfragen oder -probleme erm√∂glichen.\n‚Ä¢ Entwicklung von Stakeholder-Engagement-Strategien, die nicht nur BSI, sondern auch Kunden, Partner und andere relevante Akteure in Compliance-Kommunikation einbeziehen.\n\nü§ù Kooperative Compliance-Strategien:\n‚Ä¢ Proaktive Zusammenarbeit mit BSI bei der Entwicklung von Branchenstandards und Best Practices, um Thought Leadership zu demonstrieren und regulatorische Entwicklungen zu beeinflussen.\n‚Ä¢ Teilnahme an BSI-Konsultationsprozessen und Stakeholder-Engagement-Aktivit√§ten, um Branchenperspektiven einzubringen und regulatorisches Verst√§ndnis zu f√∂rdern.\n‚Ä¢ Aufbau von Peer-to-Peer-Netzwerken und Branchenkollaborationen, um gemeinsame Compliance-Herausforderungen zu adressieren und Best Practice Sharing zu f√∂rdern.\n‚Ä¢ Integration von Compliance-Exzellenz in Unternehmensreputation und Markenpositionierung, um Wettbewerbsvorteile durch √ºberlegene Compliance-Performance zu schaffen.\n‚Ä¢ Kontinuierliche Investition in Compliance-Innovation und -Verbesserung, um nicht nur aktuelle Anforderungen zu erf√ºllen, sondern auch zuk√ºnftige Entwicklungen zu antizipieren und zu gestalten."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 4),
        question: 'Wie k√∂nnen Unternehmen eine effektive Kommunikations- und Beziehungsstrategie mit dem BSI entwickeln, um langfristige CRA-Compliance-Erfolge zu gew√§hrleisten?',
        answer: "Eine effektive Kommunikations- und Beziehungsstrategie mit dem BSI ist fundamental f√ºr nachhaltigen CRA-Compliance-Erfolg und erfordert strategisches Stakeholder-Management, das deutsche Verwaltungskultur mit proaktiver Gesch√§ftskommunikation verbindet. Erfolgreiche BSI-Beziehungen basieren auf Transparenz, Vertrauen und gegenseitigem Verst√§ndnis, wodurch regulatorische Compliance zu einem strategischen Wettbewerbsvorteil wird.\n\nüéØ Strategische Beziehungsarchitektur:\n‚Ä¢ Entwicklung einer umfassenden Stakeholder-Mapping-Strategie, die verschiedene BSI-Abteilungen, Entscheidungstr√§ger und Einflussnehmer identifiziert und dabei formelle und informelle Kommunikationskan√§le ber√ºcksichtigt.\n‚Ä¢ Aufbau multi-level Engagement-Ans√§tze, die sowohl strategische F√ºhrungsebene als auch operative Arbeitsebene umfassen und dabei verschiedene Kommunikationsstile und -pr√§ferenzen ber√ºcksichtigen.\n‚Ä¢ Etablierung regelm√§√üiger Kommunikationsrhythmen und Touchpoints, die √ºber reaktive Compliance-Kommunikation hinausgehen und proaktive Informationsbereitstellung und Beziehungspflege erm√∂glichen.\n‚Ä¢ Integration von BSI-Beziehungsmanagement in √ºbergeordnete Stakeholder-Engagement-Strategien, um Synergien mit anderen Beh√∂rden, Branchenverb√§nden und Gesch√§ftspartnern zu schaffen.\n‚Ä¢ Entwicklung kultureller Sensibilit√§t und Verst√§ndnis f√ºr deutsche Verwaltungskultur, Entscheidungsprozesse und Kommunikationspr√§ferenzen, um effektive und respektvolle Interaktionen zu gew√§hrleisten.\n\nüí¨ Proaktive Kommunikationsstrategien:\n‚Ä¢ Implementierung transparenter und vorausschauender Kommunikationsans√§tze, die potenzielle Compliance-Herausforderungen fr√ºhzeitig adressieren und dabei Probleml√∂sungsorientierung und Kooperationsbereitschaft demonstrieren.\n‚Ä¢ Entwicklung strukturierter Reporting- und Update-Mechanismen, die BSI regelm√§√üig √ºber Produktentwicklungen, Sicherheitsverbesserungen und Compliance-Fortschritte informieren.\n‚Ä¢ Aufbau von Thought Leadership und Expertise-Demonstration durch Beitr√§ge zu Branchendiskussionen, Konsultationsprozessen und Standardentwicklungsaktivit√§ten.\n‚Ä¢ Etablierung effektiver Crisis Communication-Protokolle f√ºr Situationen, in denen Compliance-Probleme oder Sicherheitsvorf√§lle auftreten, um schnelle und transparente Reaktionen zu gew√§hrleisten.\n‚Ä¢ Integration von Feedback-Mechanismen und kontinuierlicher Verbesserung in Kommunikationsstrategien, um Effektivit√§t zu optimieren und Beziehungsqualit√§t zu steigern.\n\nüîÑ Langfristige Beziehungsentwicklung:\n‚Ä¢ Investition in kontinuierliche Beziehungspflege und Vertrauensaufbau durch konsistente, zuverl√§ssige und professionelle Interaktionen √ºber l√§ngere Zeitr√§ume hinweg.\n‚Ä¢ Entwicklung von Win-Win-Szenarien und Mehrwert-Propositionen, die nicht nur Compliance-Anforderungen erf√ºllen, sondern auch BSI-Ziele und -Priorit√§ten unterst√ºtzen.\n‚Ä¢ Aufbau von institutionellem Wissen und Beziehungskontinuit√§t, die Personalwechsel und organisatorische Ver√§nderungen √ºberdauern und dabei Stabilit√§t und Verl√§sslichkeit gew√§hrleisten.\n‚Ä¢ Integration von BSI-Feedback und -Perspektiven in Produktentwicklung und Gesch√§ftsstrategie, um regulatorische Anforderungen als Innovationstreiber und Qualit√§tsverbesserung zu nutzen.\n‚Ä¢ Etablierung von Branchennetzwerken und Peer-Beziehungen, die kollektive Stakeholder-Power schaffen und dabei gemeinsame Interessen und Herausforderungen adressieren."
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQs batch 1 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
