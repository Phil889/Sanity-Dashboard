import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating KRITIS Gap-Analyse Organisation & Technik page with C-Level FAQs batch 4...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'kritis-gap-analyse-organisation-technik' })
    
    if (!existingDoc) {
      throw new Error('Document "kritis-gap-analyse-organisation-technik" not found')
    }
    
    // Create new C-Level FAQs
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 13),
        question: "Welche Herausforderungen entstehen bei der Integration von Cloud-Services und hybriden Infrastrukturen in eine KRITIS Gap-Analyse?",
        answer: "Die zunehmende Nutzung von Cloud-Services und hybriden Infrastrukturen in kritischen Bereichen stellt neue Anforderungen an KRITIS-Compliance. Eine moderne Gap-Analyse muss die komplexen Sicherheits-, Governance- und Regulierungsaspekte von Cloud-Umgebungen verstehen und integrierte Strategien f√ºr hybride Infrastrukturen entwickeln, die sowohl On-Premises- als auch Cloud-Komponenten umfassen.\n\n‚òÅÔ∏è Cloud-spezifische KRITIS-Herausforderungen:\n‚Ä¢ Shared Responsibility Model: Klare Definition der Verantwortlichkeiten zwischen Cloud-Provider und KRITIS-Betreiber f√ºr verschiedene Sicherheitsaspekte und Compliance-Anforderungen.\n‚Ä¢ Data Sovereignty und Jurisdiction: Sicherstellung, dass kritische Daten und Systeme den deutschen und europ√§ischen Datenschutz- und Souver√§nit√§tsanforderungen entsprechen.\n‚Ä¢ Multi-Tenancy-Risiken: Bewertung der Sicherheitsrisiken durch geteilte Infrastrukturen und Isolation-Mechanismen in Cloud-Umgebungen.\n‚Ä¢ Provider-Abh√§ngigkeiten: Management der strategischen Abh√§ngigkeiten von Cloud-Providern und Entwicklung von Exit-Strategien f√ºr kritische Services.\n‚Ä¢ Compliance-Nachweisf√ºhrung: Herausforderungen bei der Dokumentation und dem Nachweis von Compliance in dynamischen Cloud-Umgebungen.\n\nüîó Hybride Infrastruktur-Komplexit√§ten:\n‚Ä¢ Cross-Environment-Security-Orchestration: Koordination von Sicherheitsma√ünahmen zwischen On-Premises- und Cloud-Komponenten f√ºr konsistenten Schutz.\n‚Ä¢ Network-Connectivity-Security: Sichere Anbindung zwischen lokalen Systemen und Cloud-Services unter Ber√ºcksichtigung von Latenz- und Verf√ºgbarkeitsanforderungen.\n‚Ä¢ Identity-and-Access-Management-Integration: Nahtlose Integration von IAM-Systemen zwischen verschiedenen Umgebungen mit einheitlichen Sicherheitsrichtlinien.\n‚Ä¢ Data-Flow-Governance: Kontrolle und √úberwachung von Datenfl√ºssen zwischen verschiedenen Infrastruktur-Komponenten unter Compliance-Gesichtspunkten.\n‚Ä¢ Disaster-Recovery-Coordination: Koordinierte Backup- und Recovery-Strategien f√ºr hybride Umgebungen mit verschiedenen RTO/RPO-Anforderungen.\n\nüõ°Ô∏è Cloud-Security-Assessment-Dimensionen:\n‚Ä¢ Provider-Security-Maturity: Bewertung der Sicherheits-Reife und Compliance-F√§higkeiten von Cloud-Providern anhand KRITIS-spezifischer Kriterien.\n‚Ä¢ Configuration-Drift-Management: Kontinuierliche √úberwachung und Management von Konfigurations√§nderungen in dynamischen Cloud-Umgebungen.\n‚Ä¢ API-Security-Governance: Bewertung der Sicherheit von APIs und Schnittstellen, die f√ºr die Integration kritischer Services genutzt werden.\n‚Ä¢ Container-and-Orchestration-Security: Spezielle Sicherheitsbewertung f√ºr containerisierte Anwendungen und Orchestrierungs-Plattformen.\n‚Ä¢ DevSecOps-Integration: Assessment der Integration von Sicherheitskontrollen in moderne Entwicklungs- und Deployment-Pipelines.\n\nüåê ADVISORI's Cloud-Integration-Expertise:\n‚Ä¢ Cloud-Native-Security-Frameworks: Entwicklung spezialisierter Sicherheitsframeworks f√ºr Cloud-basierte kritische Infrastrukturen.\n‚Ä¢ Provider-Neutral-Assessment: Unabh√§ngige Bewertung verschiedener Cloud-Provider und -Services ohne Vendor-Lock-in-Risiken.\n‚Ä¢ Hybrid-Cloud-Roadmaps: Strategische Planung f√ºr die sichere Migration und Integration von Cloud-Services in bestehende KRITIS-Umgebungen."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 14),
        question: "Wie ber√ºcksichtigt eine KRITIS Gap-Analyse die Anforderungen an Cyber-Resilience und die F√§higkeit zur schnellen Recovery nach Angriffen?",
        answer: "Cyber-Resilience geht √ºber traditionelle Cybersecurity hinaus und fokussiert auf die F√§higkeit, trotz erfolgreicher Angriffe die kritischen Funktionen aufrechtzuerhalten und schnell zu normalen Betriebszust√§nden zur√ºckzukehren. Eine umfassende KRITIS Gap-Analyse muss Resilience-Capabilities systematisch bewerten und Strategien f√ºr operative Kontinuit√§t auch unter Angriffsbedingungen entwickeln.\n\nüîÑ Resilience-Dimensionen f√ºr kritische Infrastrukturen:\n‚Ä¢ Graceful Degradation: F√§higkeit zur kontrollierten Reduzierung von Services unter Angriffsbedingungen, um kritische Kernfunktionen aufrechtzuerhalten.\n‚Ä¢ Adaptive Defense: Dynamische Anpassung von Sicherheitsma√ünahmen basierend auf aktuellen Bedrohungslagen und Angriffsindikatoren.\n‚Ä¢ Self-Healing-Capabilities: Automatisierte Erkennungs- und Reparaturmechanismen f√ºr kompromittierte Systeme und Services.\n‚Ä¢ Rapid-Recovery-Mechanisms: F√§higkeit zur schnellen Wiederherstellung normaler Betriebszust√§nde nach Sicherheitsvorf√§llen.\n‚Ä¢ Mission-Assurance: Sicherstellung, dass gesellschaftskritische Funktionen auch bei partiellen Systemausf√§llen aufrechterhalten werden k√∂nnen.\n\n‚ö° Recovery-Time-Optimization-Strategien:\n‚Ä¢ RTO/RPO-Optimization: Systematische Minimierung von Recovery Time Objectives und Recovery Point Objectives f√ºr gesch√§ftskritische Prozesse.\n‚Ä¢ Hot-Standby-Systems: Implementierung von sofort verf√ºgbaren Backup-Systemen f√ºr kritische Infrastrukturen ohne Ausfallzeiten.\n‚Ä¢ Automated-Failover-Mechanisms: Entwicklung intelligenter Failover-Systeme, die automatisch auf alternative Systeme umschalten k√∂nnen.\n‚Ä¢ Geographically-Distributed-Recovery: Verteilung von Recovery-Kapazit√§ten √ºber verschiedene geografische Standorte zur Risikominimierung.\n‚Ä¢ Cross-Infrastructure-Coordination: Koordination von Recovery-Ma√ünahmen zwischen verschiedenen kritischen Infrastrukturen und Abh√§ngigkeiten.\n\nüîç Resilience-Assessment-Methoden:\n‚Ä¢ Chaos-Engineering-for-KRITIS: Kontrollierte Simulation von Ausf√§llen und Angriffen zur Bewertung der tats√§chlichen Resilience-F√§higkeiten.\n‚Ä¢ Business-Impact-Tolerance-Testing: Systematische Tests zur Bestimmung der maximalen tolerierbaren Ausfallzeiten f√ºr verschiedene Services.\n‚Ä¢ Recovery-Playbook-Validation: Regelm√§√üige √úberpr√ºfung und Aktualisierung von Recovery-Verfahren durch realistische Simulationen.\n‚Ä¢ Cross-Team-Coordination-Assessment: Bewertung der Zusammenarbeit verschiedener Teams w√§hrend Crisis-Response-Situationen.\n‚Ä¢ Technology-Resilience-Benchmarking: Vergleich der Resilience-F√§higkeiten mit Branchenstandards und Best Practices.\n\nüõ†Ô∏è Advanced Resilience Technologies:\n‚Ä¢ AI-Powered-Incident-Response: Nutzung k√ºnstlicher Intelligenz f√ºr automatisierte Incident-Erkennung und -Response zur Beschleunigung der Recovery.\n‚Ä¢ Immutable-Infrastructure-Concepts: Implementierung unver√§nderlicher Infrastrukturen, die schnell neu deployed werden k√∂nnen anstatt repariert zu werden.\n‚Ä¢ Zero-Downtime-Deployment-Strategies: Entwicklung von Update- und Wartungsstrategien ohne Unterbrechung kritischer Services.\n‚Ä¢ Distributed-Ledger-for-Integrity: Nutzung von Blockchain-Technologien f√ºr die Sicherstellung der Integrit√§t kritischer Daten und Konfigurationen.\n‚Ä¢ Quantum-Resistant-Recovery-Systems: Vorbereitung auf quantensichere Recovery-Mechanismen f√ºr langfristige Resilience."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 15),
        question: "Welche Rolle spielen Mitarbeiterkompetenzen und Human Factors bei einer KRITIS Gap-Analyse und wie k√∂nnen diese systematisch entwickelt werden?",
        answer: "Human Factors sind oft der schw√§chste Link in der Sicherheitskette kritischer Infrastrukturen. Eine ganzheitliche KRITIS Gap-Analyse muss die menschlichen Aspekte der Cybersecurity systematisch bewerten und umfassende Strategien f√ºr Kompetenzentwicklung, Risikominimierung und kulturelle Ver√§nderungen entwickeln, die nachhaltigen Sicherheitserfolg gew√§hrleisten.\n\nüë• Human-Factor-Risikodimensionen in kritischen Infrastrukturen:\n‚Ä¢ Insider-Threat-Vulnerabilities: Bewertung der Risiken durch privilegierte Nutzer, unzufriedene Mitarbeiter und unbeabsichtigte Sicherheitsverletzungen.\n‚Ä¢ Social-Engineering-Susceptibility: Analyse der Anf√§lligkeit von Mitarbeitern f√ºr Phishing, Vishing und andere Social-Engineering-Angriffe.\n‚Ä¢ Operational-Error-Potential: Bewertung der Wahrscheinlichkeit menschlicher Fehler bei kritischen Betriebsabl√§ufen und deren potenzielle Auswirkungen.\n‚Ä¢ Crisis-Performance-under-Pressure: Assessment der Leistungsf√§higkeit von Personal in Stresssituationen und Notf√§llen.\n‚Ä¢ Knowledge-Transfer-Risks: Bewertung der Risiken durch Wissensabgang, unzureichende Dokumentation und Single-Points-of-Knowledge.\n\nüéì Kompetenzentwicklungs-Strategien f√ºr KRITIS-Umgebungen:\n‚Ä¢ Role-Based-Security-Training: Entwicklung spezifischer Schulungsprogramme f√ºr verschiedene Rollen und Verantwortungsebenen in kritischen Infrastrukturen.\n‚Ä¢ Simulation-Based-Learning: Nutzung realistischer Simulationen und Cyber-Range-Umgebungen f√ºr praxisnahes Training ohne Risiko f√ºr produktive Systeme.\n‚Ä¢ Continuous-Competency-Assessment: Implementierung regelm√§√üiger Kompetenzbewertungen und gezielter Nachschulungen basierend auf identifizierten Wissensl√ºcken.\n‚Ä¢ Cross-Functional-Security-Education: Interdisziplin√§re Schulungen, die IT, OT und Business-Teams gemeinsam f√ºr integrierte Sicherheitsans√§tze sensibilisieren.\n‚Ä¢ Executive-Security-Awareness: Spezialisierte Programme f√ºr F√ºhrungskr√§fte zur Entwicklung strategischen Sicherheitsbewusstseins und Entscheidungskompetenz.\n\nüîí Cultural-Change-Management f√ºr Security-Excellence:\n‚Ä¢ Security-Culture-Assessment: Systematische Bewertung der bestehenden Sicherheitskultur und Identifikation von Verbesserungspotenzialen.\n‚Ä¢ Behavioral-Change-Programs: Entwicklung langfristiger Programme zur nachhaltigen Ver√§nderung sicherheitsrelevanter Verhaltensweisen.\n‚Ä¢ Incentive-and-Recognition-Systems: Implementierung von Anreizsystemen, die sicherheitsbewusstes Verhalten f√∂rdern und belohnen.\n‚Ä¢ Communication-and-Engagement-Strategies: Entwicklung effektiver Kommunikationsstrategien f√ºr kontinuierliche Sicherheitssensibilisierung.\n‚Ä¢ Leadership-Modeling: Etablierung von F√ºhrungsverhalten, das Sicherheitsexzellenz vorlebt und f√∂rdert.\n\nüìä Human-Performance-Monitoring und -Optimization:\n‚Ä¢ Security-Behavior-Analytics: Nutzung von Datenanalysen zur √úberwachung und Verbesserung sicherheitsrelevanter Verhaltensweisen.\n‚Ä¢ Stress-and-Fatigue-Management: Ber√ºcksichtigung von Stress- und Erm√ºdungsfaktoren bei der Gestaltung sicherheitskritischer Arbeitspl√§tze.\n‚Ä¢ Error-Prevention-System-Design: Entwicklung von Systemen und Prozessen, die menschliche Fehler minimieren oder deren Auswirkungen begrenzen.\n‚Ä¢ Team-Collaboration-Optimization: Verbesserung der Zusammenarbeit zwischen verschiedenen Teams f√ºr effektivere Sicherheitsma√ünahmen.\n‚Ä¢ Knowledge-Management-Systems: Implementierung systematischer Ans√§tze zur Erfassung, Speicherung und √úbertragung sicherheitsrelevanten Wissens."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 16),
        question: "Wie integriert ADVISORI emerging Technologies wie KI, IoT und Industry 4.0 in die KRITIS Gap-Analyse und deren Zukunftsf√§higkeit?",
        answer: "Emerging Technologies revolutionieren kritische Infrastrukturen und schaffen neue M√∂glichkeiten, aber auch neue Risiken. ADVISORI entwickelt zukunftsf√§hige Gap-Analysen, die sowohl die Potenziale als auch die Sicherheitsherausforderungen von KI, IoT und Industry 4.0 systematisch bewerten und Strategien f√ºr sichere Innovation in kritischen Umgebungen schaffen.\n\nü§ñ KI-Integration in kritischen Infrastrukturen:\n‚Ä¢ AI-Security-Risk-Assessment: Bewertung spezifischer Risiken durch KI-Systeme, einschlie√ülich Adversarial Attacks, Data Poisoning und Model Manipulation.\n‚Ä¢ Explainable-AI-Requirements: Sicherstellung der Nachvollziehbarkeit und Auditierbarkeit von KI-Entscheidungen in regulierten Umgebungen.\n‚Ä¢ AI-Governance-Frameworks: Entwicklung spezialisierter Governance-Strukturen f√ºr den Einsatz von KI in kritischen Infrastrukturen unter Ber√ºcksichtigung ethischer und rechtlicher Aspekte.\n‚Ä¢ Human-AI-Collaboration-Design: Optimale Integration von KI-Systemen in menschliche Entscheidungsprozesse f√ºr kritische Infrastrukturen.\n‚Ä¢ AI-Bias-and-Fairness-Assessment: Bewertung und Minimierung von Verzerrungen in KI-Systemen, die kritische Entscheidungen beeinflussen k√∂nnten.\n\nüåê IoT und Industrial IoT (IIoT) Sicherheitsintegration:\n‚Ä¢ IoT-Device-Lifecycle-Security: Bewertung der Sicherheit von IoT-Ger√§ten √ºber ihren gesamten Lebenszyklus, von der Beschaffung bis zur Entsorgung.\n‚Ä¢ Edge-Computing-Security-Architecture: Entwicklung sicherer Edge-Computing-Architekturen f√ºr IoT-Datenverarbeitung in kritischen Umgebungen.\n‚Ä¢ IoT-Network-Segmentation-Strategies: Implementierung effektiver Netzwerk-Segmentierung f√ºr IoT-Devices zur Risikominimierung.\n‚Ä¢ Device-Identity-and-Authentication: Robuste Authentifizierungs- und Identit√§tsmanagement-Systeme f√ºr gro√üe IoT-Deployments.\n‚Ä¢ IoT-Data-Privacy-and-Integrity: Schutz der Privatsph√§re und Integrit√§t von IoT-generierten Daten in kritischen Anwendungen.\n\nüè≠ Industry 4.0 und Smart Infrastructure Security:\n‚Ä¢ Digital-Twin-Security-Models: Entwicklung sicherer Digital-Twin-Implementierungen f√ºr kritische Infrastrukturen mit angemessenen Zugriffskontrollen.\n‚Ä¢ Cyber-Physical-System-Integration: Sichere Integration von Cyber-Physical Systems (CPS) unter Ber√ºcksichtigung der Wechselwirkungen zwischen digitalen und physischen Komponenten.\n‚Ä¢ Predictive-Maintenance-Security: Sicherheitsaspekte bei der Implementierung von KI-gest√ºtzter pr√§diktiver Wartung f√ºr kritische Systeme.\n‚Ä¢ Smart-Grid-Cybersecurity: Spezielle Sicherheitsanforderungen f√ºr intelligente Stromnetze und deren Integration in bestehende Energieinfrastrukturen.\n‚Ä¢ Autonomous-System-Governance: Governance-Rahmen f√ºr autonome Systeme in kritischen Infrastrukturen mit angemessenen manuellen √úbersteuerungsm√∂glichkeiten.\n\nüîÆ Future-Technology-Readiness-Assessment:\n‚Ä¢ Quantum-Computing-Impact-Analysis: Bewertung der Auswirkungen von Quantum Computing auf bestehende Sicherheitssysteme und Vorbereitung auf Quantum-Safe-Kryptografie.\n‚Ä¢ Blockchain-Integration-Opportunities: Identifikation sinnvoller Anwendungen von Blockchain-Technologien f√ºr Sicherheit und Transparenz in kritischen Infrastrukturen.\n‚Ä¢ 5G/6G-Network-Security-Implications: Assessment der Sicherheitsimplikationen neuer Mobilfunkstandards f√ºr kritische Kommunikationsinfrastrukturen.\n‚Ä¢ Extended-Reality-Security-Considerations: Bewertung der Sicherheitsaspekte von AR/VR-Technologien f√ºr Wartung und Training in kritischen Umgebungen."
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new C-Level FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ C-Level FAQs batch 4 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
