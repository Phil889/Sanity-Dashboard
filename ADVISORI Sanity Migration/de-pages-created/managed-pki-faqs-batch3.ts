import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating Managed PKI page with FAQ batch 3...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'managed-pki' })
    
    if (!existingDoc) {
      throw new Error('Document "managed-pki" not found')
    }
    
    // Create new FAQs for HSM services and specialized applications
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 9),
        question: 'Welche Rolle spielen Hardware Security Modules (HSMs) in Managed PKI Services?',
        answer: "Hardware Security Modules sind das Herzst√ºck professioneller Managed PKI Services und bieten h√∂chste Sicherheit f√ºr kryptographische Operationen und Schl√ºsselverwaltung. HSMs gew√§hrleisten, dass kritische PKI-Operationen in tamper-resistant Hardware-Umgebungen ausgef√ºhrt werden.\n\nüîê FIPS-zertifizierte Hardware-Sicherheit:\n‚Ä¢ FIPS 140-2 Level 3 und Level 4 zertifizierte HSMs bieten h√∂chste Sicherheitsstandards f√ºr Root Key Protection\n‚Ä¢ Tamper-resistant und tamper-evident Hardware sch√ºtzt vor physischen Angriffen und unbefugtem Zugriff\n‚Ä¢ Hardware-basierte Zufallszahlengenerierung gew√§hrleistet kryptographisch sichere Schl√ºsselgenerierung\n‚Ä¢ Sichere Schl√ºsselspeicherung mit Hardware-level Encryption und Access Controls\n‚Ä¢ Common Criteria EAL4+ Evaluierungen f√ºr zus√§tzliche Sicherheitsvalidierung\n\n‚ö° Hochperformante Kryptographie-Operations:\n‚Ä¢ Dedizierte Hardware-Beschleunigung f√ºr RSA, ECC und symmetrische Kryptographie-Operationen\n‚Ä¢ Parallel Processing Capabilities f√ºr hohe Durchsatzraten bei Zertifikatsausstellung\n‚Ä¢ Load Balancing zwischen mehreren HSM-Instanzen f√ºr optimale Performance\n‚Ä¢ Hardware-optimierte Implementierungen aktueller Kryptographie-Standards\n‚Ä¢ Skalierbare Architektur f√ºr wachsende Anforderungen ohne Performance-Einbu√üen\n\nüèóÔ∏è Hochverf√ºgbare HSM-Cluster:\n‚Ä¢ Redundante HSM-Konfigurationen mit automatischem Failover bei Hardware-Ausf√§llen\n‚Ä¢ Geografisch verteilte HSM-Cluster f√ºr maximale Ausfallsicherheit\n‚Ä¢ Load Balancing und Health Monitoring f√ºr kontinuierliche Verf√ºgbarkeit\n‚Ä¢ Hot-Standby Systeme f√ºr minimale Recovery Time Objectives\n‚Ä¢ Cluster-weite Key Synchronisation f√ºr konsistente Kryptographie-Operations\n\nüîë Professionelle Key Lifecycle Management:\n‚Ä¢ Sichere Key Generation mit echten Hardware-Zufallszahlengeneratoren\n‚Ä¢ Multi-Person Control und Dual Control f√ºr kritische Key Management Operationen\n‚Ä¢ Key Escrow und Recovery Procedures f√ºr Business Continuity Szenarien\n‚Ä¢ Automated Key Rotation mit nahtloser Integration in PKI-Workflows\n‚Ä¢ Secure Key Destruction f√ºr End-of-Life Key Management\n\nüõ°Ô∏è Root CA Protection und Offline Storage:\n‚Ä¢ Offline Root CA Keys in air-gapped HSM-Umgebungen f√ºr maximale Sicherheit\n‚Ä¢ Ceremony-basierte Root Key Operations mit Multi-Person Authorization\n‚Ä¢ Secure Key Transport zwischen verschiedenen HSM-Standorten\n‚Ä¢ Time-limited Key Activation f√ºr kontrollierte Root CA Operations\n‚Ä¢ Comprehensive Audit Trails f√ºr alle Root Key Activities\n\nüìä Compliance und Audit-Unterst√ºtzung:\n‚Ä¢ Detaillierte Logging aller HSM-Operationen f√ºr Compliance-Nachweise\n‚Ä¢ Role-based Access Controls mit granularen Berechtigungen\n‚Ä¢ Separation of Duties f√ºr kritische kryptographische Operationen\n‚Ä¢ Regular Security Assessments und Penetration Testing\n‚Ä¢ Compliance Reporting f√ºr regulatorische Anforderungen\n\nüåê Cloud und Hybrid HSM Services:\n‚Ä¢ Cloud-basierte HSM Services f√ºr flexible und skalierbare Deployments\n‚Ä¢ Hybrid HSM Architectures f√ºr Kombination aus On-Premises und Cloud-HSMs\n‚Ä¢ Dedicated HSM Instances f√ºr h√∂chste Sicherheitsanforderungen\n‚Ä¢ Multi-Tenant HSM Services mit strikter Mandantentrennung\n‚Ä¢ API-basierte HSM Integration f√ºr moderne Anwendungsarchitekturen\n\nüîß Spezialisierte HSM-Anwendungen:\n‚Ä¢ Code Signing HSMs f√ºr Software-Authentizit√§t und Integrit√§t\n‚Ä¢ SSL/TLS Certificate HSMs f√ºr Web-Server und Load Balancer\n‚Ä¢ Document Signing HSMs f√ºr qualifizierte elektronische Signaturen\n‚Ä¢ IoT Device HSMs f√ºr sichere Machine-to-Machine Kommunikation\n‚Ä¢ Blockchain und Cryptocurrency HSMs f√ºr Digital Asset Protection"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 10),
        question: 'Wie unterst√ºtzen Managed PKI Services moderne Cloud-native und Container-Umgebungen?',
        answer: "Managed PKI Services sind speziell f√ºr moderne Cloud-native Architekturen und Container-Umgebungen optimiert und bieten nahtlose Integration in DevOps-Workflows und dynamische Infrastrukturen. Diese Services erm√∂glichen sichere und skalierbare PKI-Operations in hochdynamischen Umgebungen.\n\n‚òÅÔ∏è Cloud-native PKI-Architekturen:\n‚Ä¢ Microservices-basierte PKI-Services mit API-first Design f√ºr maximale Flexibilit√§t\n‚Ä¢ Container-native PKI-Deployments mit Kubernetes-Operatoren f√ºr automatisierte Verwaltung\n‚Ä¢ Serverless PKI-Functions f√ºr event-driven Certificate Management\n‚Ä¢ Multi-Cloud PKI-Services f√ºr Vendor-unabh√§ngige Deployments\n‚Ä¢ Edge Computing Integration f√ºr verteilte PKI-Services mit geringer Latenz\n\nüê≥ Kubernetes und Container Integration:\n‚Ä¢ Native Kubernetes Operators f√ºr automatisierte PKI-Lifecycle-Verwaltung\n‚Ä¢ Cert-Manager Integration f√ºr automatische Certificate Provisioning\n‚Ä¢ Service Mesh Integration f√ºr mTLS und Service-to-Service Authentication\n‚Ä¢ Container Image Signing f√ºr Supply Chain Security\n‚Ä¢ Pod-level Certificate Management mit automatischer Rotation\n\nüîÑ DevSecOps und CI/CD Integration:\n‚Ä¢ Pipeline-integrierte Certificate Management f√ºr automatisierte Deployments\n‚Ä¢ Infrastructure as Code Integration f√ºr deklarative PKI-Konfiguration\n‚Ä¢ GitOps-basierte Certificate Deployment mit versionskontrollierter Verwaltung\n‚Ä¢ Automated Security Testing mit Certificate Validation in Build-Pipelines\n‚Ä¢ Continuous Compliance Monitoring f√ºr Container-basierte Workloads\n\n‚ö° Dynamic Certificate Provisioning:\n‚Ä¢ Just-in-Time Certificate Issuance f√ºr kurzlebige Container-Workloads\n‚Ä¢ Auto-scaling Certificate Services basierend auf Workload-Anforderungen\n‚Ä¢ Ephemeral Certificate Management f√ºr tempor√§re Services\n‚Ä¢ Dynamic Service Discovery Integration f√ºr automatische Certificate Assignment\n‚Ä¢ Load-based Certificate Caching f√ºr optimale Performance\n\nüõ°Ô∏è Zero-Trust Security Integration:\n‚Ä¢ Identity-based Certificate Issuance f√ºr Zero-Trust Architekturen\n‚Ä¢ Workload Identity Management mit automatischer Certificate Binding\n‚Ä¢ Policy-based Access Controls f√ºr granulare Sicherheitsrichtlinien\n‚Ä¢ Continuous Authentication mit Certificate-based Identity Verification\n‚Ä¢ Micro-segmentation Support durch Certificate-based Network Policies\n\nüì± API-first und Event-driven Architecture:\n‚Ä¢ RESTful APIs f√ºr programmatische PKI-Integration in Cloud-native Applications\n‚Ä¢ GraphQL Support f√ºr flexible Certificate Data Queries\n‚Ä¢ Webhook-basierte Event Notifications f√ºr Real-time Certificate Updates\n‚Ä¢ Message Queue Integration f√ºr asynchrone Certificate Processing\n‚Ä¢ Event Sourcing f√ºr auditierbare Certificate Lifecycle Events\n\nüîß Container Security und Image Signing:\n‚Ä¢ Docker Content Trust Integration f√ºr sichere Container Image Distribution\n‚Ä¢ Notary Integration f√ºr Container Image Signature Verification\n‚Ä¢ OCI Artifact Signing f√ºr erweiterte Container Security\n‚Ä¢ Supply Chain Security mit Certificate-based Provenance Tracking\n‚Ä¢ Vulnerability Scanning Integration mit Certificate-based Access Controls\n\nüåê Multi-Cloud und Hybrid Deployments:\n‚Ä¢ Cloud-agnostic PKI Services f√ºr Multi-Cloud Strategien\n‚Ä¢ Cross-Cloud Certificate Management f√ºr hybride Architekturen\n‚Ä¢ Cloud Provider Integration f√ºr native PKI Services\n‚Ä¢ Federated PKI f√ºr Multi-Cloud Identity Management\n‚Ä¢ Disaster Recovery zwischen verschiedenen Cloud-Umgebungen\n\nüìä Observability und Monitoring:\n‚Ä¢ Prometheus Metrics Integration f√ºr PKI Performance Monitoring\n‚Ä¢ Distributed Tracing f√ºr Certificate Request Lifecycle Tracking\n‚Ä¢ Cloud-native Logging mit structured Certificate Event Data\n‚Ä¢ Alerting Integration f√ºr proaktive Certificate Management\n‚Ä¢ Dashboard Integration f√ºr Real-time PKI Operations Visibility"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 11),
        question: 'Welche spezialisierten Anwendungsf√§lle unterst√ºtzen Managed PKI Services?',
        answer: "Managed PKI Services unterst√ºtzen eine Vielzahl spezialisierter Anwendungsf√§lle, die √ºber traditionelle SSL/TLS Zertifikate hinausgehen und branchenspezifische sowie technologiespezifische Anforderungen abdecken. Diese Services erm√∂glichen sichere digitale Transformation in verschiedenen Bereichen.\n\nüì± IoT und Industrial IoT Security:\n‚Ä¢ Device Identity Management f√ºr Millionen von IoT-Ger√§ten mit eindeutigen Zertifikaten\n‚Ä¢ Lightweight Certificate Protocols f√ºr ressourcenbeschr√§nkte IoT-Devices\n‚Ä¢ Over-the-Air Certificate Updates f√ºr Remote Device Management\n‚Ä¢ Industrial Protocol Security f√ºr OT-Umgebungen und SCADA-Systeme\n‚Ä¢ Edge Computing Certificate Management f√ºr verteilte IoT-Infrastrukturen\n\nüè• Healthcare und Medical Device Security:\n‚Ä¢ HIPAA-konforme Certificate Management f√ºr medizinische Ger√§te und Systeme\n‚Ä¢ Medical Device Authentication f√ºr FDA-regulierte Umgebungen\n‚Ä¢ Patient Data Encryption mit Certificate-based Key Management\n‚Ä¢ Telemedicine Security f√ºr sichere Remote-Konsultationen\n‚Ä¢ Electronic Health Record Signing f√ºr rechtskonforme Dokumentation\n\nüöó Automotive und Connected Vehicle Security:\n‚Ä¢ Vehicle-to-Everything (V2X) Communication Security mit speziellen Automotive-Zertifikaten\n‚Ä¢ Over-the-Air Update Security f√ºr Connected Vehicle Software\n‚Ä¢ Electronic Control Unit (ECU) Authentication f√ºr Fahrzeug-interne Kommunikation\n‚Ä¢ Fleet Management Security f√ºr kommerzielle Fahrzeugflotten\n‚Ä¢ Autonomous Vehicle Security f√ºr selbstfahrende Fahrzeugtechnologien\n\nüí∞ Financial Services und Digital Banking:\n‚Ä¢ PCI DSS konforme Certificate Management f√ºr Zahlungssysteme\n‚Ä¢ Open Banking API Security mit OAuth und Certificate-based Authentication\n‚Ä¢ Digital Wallet Security f√ºr Mobile Payment Applications\n‚Ä¢ Cryptocurrency Exchange Security f√ºr Digital Asset Protection\n‚Ä¢ Regulatory Compliance f√ºr Basel III und andere Finanzregulierungen\n\nüè≠ Manufacturing und Supply Chain Security:\n‚Ä¢ Industrial Control System Security f√ºr Produktionsumgebungen\n‚Ä¢ Supply Chain Integrity mit Certificate-based Product Authentication\n‚Ä¢ Quality Management System Integration f√ºr ISO-konforme Prozesse\n‚Ä¢ Intellectual Property Protection durch Document und Code Signing\n‚Ä¢ Vendor Management Security f√ºr sichere Lieferantenintegration\n\nüìß Email Security und Digital Communication:\n‚Ä¢ S/MIME Certificate Management f√ºr sichere Email-Kommunikation\n‚Ä¢ Digital Signature Services f√ºr rechtsg√ºltige elektronische Dokumente\n‚Ä¢ Secure Messaging Platforms mit End-to-End Encryption\n‚Ä¢ Document Workflow Security f√ºr digitale Genehmigungsprozesse\n‚Ä¢ Archive Security f√ºr langfristige digitale Dokumentenaufbewahrung\n\nüéì Education und Research Security:\n‚Ä¢ Student Identity Management f√ºr Campus-weite Authentifizierung\n‚Ä¢ Research Data Protection mit Certificate-based Encryption\n‚Ä¢ Online Learning Platform Security f√ºr E-Learning Umgebungen\n‚Ä¢ Academic Collaboration Security f√ºr institutions√ºbergreifende Projekte\n‚Ä¢ Intellectual Property Protection f√ºr Forschungsergebnisse\n\nüèõÔ∏è Government und Public Sector Security:\n‚Ä¢ eGovernment Services mit qualifizierten elektronischen Signaturen\n‚Ä¢ Citizen Identity Management f√ºr digitale B√ºrgerdienste\n‚Ä¢ Inter-agency Communication Security f√ºr beh√∂rden√ºbergreifende Zusammenarbeit\n‚Ä¢ Critical Infrastructure Protection f√ºr nationale Sicherheitsinteressen\n‚Ä¢ Public Safety Communication Security f√ºr Notfalldienste\n\n‚öñÔ∏è Legal und Compliance Applications:\n‚Ä¢ eDiscovery Security f√ºr rechtskonforme Datensammlung\n‚Ä¢ Contract Management Security f√ºr digitale Vertragsabwicklung\n‚Ä¢ Regulatory Reporting Security f√ºr Compliance-Dokumentation\n‚Ä¢ Audit Trail Protection f√ºr manipulationssichere Protokollierung\n‚Ä¢ Legal Document Authentication f√ºr Gerichtsverfahren"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 12),
        question: 'Wie gew√§hrleisten Managed PKI Services Interoperabilit√§t und Standards-Compliance?',
        answer: "Managed PKI Services basieren auf internationalen Standards und gew√§hrleisten umfassende Interoperabilit√§t zwischen verschiedenen Systemen, Plattformen und Anbietern. Diese Standards-Compliance erm√∂glicht nahtlose Integration und langfristige Kompatibilit√§t.\n\nüìã Internationale PKI-Standards:\n‚Ä¢ X.509 v3 Certificate Standard f√ºr universelle Zertifikatskompatibilit√§t\n‚Ä¢ RFC 5280 Internet X.509 Public Key Infrastructure Certificate und CRL Profile\n‚Ä¢ RFC 3647 Internet X.509 Public Key Infrastructure Certificate Policy und Certification Practices Framework\n‚Ä¢ PKCS Standards f√ºr kryptographische Token und Algorithmus-Spezifikationen\n‚Ä¢ ASN.1 und DER Encoding f√ºr standardisierte Datenrepr√§sentation\n\nüîê Kryptographische Standards und Algorithmen:\n‚Ä¢ NIST-approved Cryptographic Algorithms f√ºr Federal Information Processing Standards\n‚Ä¢ FIPS 186-4 Digital Signature Standard f√ºr RSA, DSA und ECDSA Signaturen\n‚Ä¢ FIPS 140-2 Hardware Security Module Standards f√ºr kryptographische Module\n‚Ä¢ Suite B Cryptography f√ºr NSA-approved Algorithmen\n‚Ä¢ Post-Quantum Cryptography Readiness f√ºr zuk√ºnftige Quantencomputer-Bedrohungen\n\nüåê Protocol Standards und Interoperabilit√§t:\n‚Ä¢ SCEP (Simple Certificate Enrollment Protocol) f√ºr automatische Zertifikatsanforderung\n‚Ä¢ EST (Enrollment over Secure Transport) f√ºr sichere Certificate Enrollment\n‚Ä¢ ACME (Automatic Certificate Management Environment) f√ºr vollautomatisierte Certificate Management\n‚Ä¢ OCSP (Online Certificate Status Protocol) f√ºr Real-time Certificate Validation\n‚Ä¢ CMP (Certificate Management Protocol) f√ºr umfassende PKI-Management-Operations\n\nüèõÔ∏è Regulatorische und Compliance Standards:\n‚Ä¢ eIDAS Regulation Compliance f√ºr qualifizierte Vertrauensdienste in der EU\n‚Ä¢ Common Criteria Evaluations f√ºr Sicherheitszertifizierungen\n‚Ä¢ WebTrust for Certificate Authorities f√ºr √∂ffentlich vertrauensw√ºrdige CAs\n‚Ä¢ ETSI Standards f√ºr elektronische Signaturen und Zeitstempel\n‚Ä¢ CA/Browser Forum Baseline Requirements f√ºr SSL/TLS Zertifikate\n\nüîÑ Cross-Platform Integration:\n‚Ä¢ Microsoft Active Directory Certificate Services Integration\n‚Ä¢ OpenSSL und Open Source PKI Library Compatibility\n‚Ä¢ Java Cryptography Architecture (JCA) Support\n‚Ä¢ .NET Cryptography Framework Integration\n‚Ä¢ Mobile Platform Integration f√ºr iOS und Android Certificate Management\n\nüìä Industry-Specific Standards:\n‚Ä¢ Healthcare: HIPAA, HITECH und FDA Medical Device Standards\n‚Ä¢ Financial Services: PCI DSS, SOX und Basel III Compliance\n‚Ä¢ Automotive: ISO 26262 Functional Safety und AUTOSAR Security\n‚Ä¢ Manufacturing: IEC 62443 Industrial Communication Networks Security\n‚Ä¢ Government: FIPS 201 Personal Identity Verification und Common Access Card\n\nüõ°Ô∏è Security Framework Integration:\n‚Ä¢ ISO 27001 Information Security Management System Integration\n‚Ä¢ NIST Cybersecurity Framework Alignment\n‚Ä¢ COBIT IT Governance Framework Support\n‚Ä¢ ITIL Service Management Framework Integration\n‚Ä¢ Zero Trust Architecture Compatibility\n\nüîß API Standards und Integration:\n‚Ä¢ RESTful API Design mit OpenAPI Specifications\n‚Ä¢ OAuth 2.0 und OpenID Connect f√ºr moderne Authentication\n‚Ä¢ SAML 2.0 f√ºr Enterprise Single Sign-On Integration\n‚Ä¢ JSON Web Token (JWT) f√ºr moderne Web Applications\n‚Ä¢ GraphQL Support f√ºr flexible Data Queries\n\nüìà Future-Proofing und Evolution:\n‚Ä¢ Quantum-Safe Cryptography Migration Paths\n‚Ä¢ Blockchain Integration f√ºr Distributed Ledger Applications\n‚Ä¢ AI/ML Integration f√ºr Predictive Certificate Management\n‚Ä¢ Edge Computing Optimization f√ºr IoT und 5G Networks\n‚Ä¢ Cloud-Native Architecture Evolution f√ºr moderne Deployments"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 3 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
