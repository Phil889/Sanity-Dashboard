import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating IAM Manager page with FAQ batch 2...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'iam-manager' })
    
    if (!existingDoc) {
      throw new Error('Document "iam-manager" not found')
    }
    
    // Create new FAQs for IAM Manager advanced topics
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 5),
        question: 'Wie implementiert man Role-based Access Control und Governance-Frameworks in einer IAM Manager Plattform f√ºr optimale Sicherheit und Compliance?',
        answer: "Role-based Access Control und Governance-Frameworks bilden das strategische R√ºckgrat einer IAM Manager Plattform und erm√∂glichen es Unternehmen, granulare Zugriffskontrollen zu implementieren, w√§hrend sie gleichzeitig operative Effizienz und regulatorische Compliance gew√§hrleisten. Diese Systeme transformieren komplexe Berechtigungsstrukturen in intelligente, selbstverwaltende Frameworks, die sich dynamisch an Gesch√§ftsanforderungen anpassen.\n\nüéØ Advanced Role Management und Dynamic Structures:\n‚Ä¢ Hierarchical Role Models mit Vererbungsstrukturen f√ºr effiziente Berechtigungsverwaltung\n‚Ä¢ Dynamic Role Assignment basierend auf Organisationsstrukturen und Gesch√§ftsregeln\n‚Ä¢ Context-aware Role Activation mit zeitbasierten und standortabh√§ngigen Kontrollen\n‚Ä¢ Role Mining und Analytics f√ºr kontinuierliche Optimierung von Rollenmodellen\n‚Ä¢ Composite Roles f√ºr komplexe Gesch√§ftsanforderungen und Projektarbeit\n\nüîê Sophisticated Access Control Mechanisms:\n‚Ä¢ Attribute-based Access Control f√ºr granulare, kontextbasierte Entscheidungen\n‚Ä¢ Policy-driven Authorization mit Business-Rule-Integration\n‚Ä¢ Risk-based Access Controls mit kontinuierlicher Bewertung von Benutzerverhalten\n‚Ä¢ Conditional Access mit Multi-Factor-Authentication und Device-Trust\n‚Ä¢ Emergency Access Procedures mit umfassender Audit-Trail-Dokumentation\n\n‚öñÔ∏è Comprehensive Governance und Compliance Framework:\n‚Ä¢ Segregation of Duties Engine mit automatischer Konfliktdetektion und -aufl√∂sung\n‚Ä¢ Access Certification Campaigns mit intelligenten Empfehlungen und Risk-Scoring\n‚Ä¢ Continuous Compliance Monitoring f√ºr Real-time √úberwachung regulatorischer Anforderungen\n‚Ä¢ Policy Lifecycle Management mit Versionierung und Change-Tracking\n‚Ä¢ Regulatory Mapping f√ºr automatische Anpassung an neue Compliance-Anforderungen\n\nüìä Intelligent Analytics und Risk Assessment:\n‚Ä¢ Access Pattern Analysis f√ºr Identifikation anomaler Berechtigungsnutzung\n‚Ä¢ Risk Scoring Algorithms mit Machine Learning f√ºr pr√§diktive Risikobewertung\n‚Ä¢ Entitlement Analytics f√ºr Optimierung von Berechtigungsstrukturen\n‚Ä¢ Compliance Dashboards mit Real-time Monitoring und Alerting\n‚Ä¢ Behavioral Analytics f√ºr Erkennung von Insider-Threats und Missbrauch\n\nüîÑ Automated Governance Processes:\n‚Ä¢ Intelligent Recertification mit Risk-based Priorisierung und Workflow-Automation\n‚Ä¢ Automated Remediation f√ºr Policy-Violations und Compliance-Verst√∂√üe\n‚Ä¢ Exception Management mit Approval-Workflows und Zeitlimits\n‚Ä¢ Audit Preparation mit automatischer Dokumentation und Berichtsgenerierung\n‚Ä¢ Change Impact Analysis f√ºr Bewertung von Rollen√§nderungen und Policy-Updates\n\nüåê Enterprise Integration und Scalability:\n‚Ä¢ Multi-System Role Synchronization f√ºr konsistente Berechtigungen √ºber alle Anwendungen\n‚Ä¢ Federation-ready Architecture f√ºr Cross-Domain-Governance\n‚Ä¢ API-driven Policy Management f√ºr Integration in DevOps und CI/CD-Pipelines\n‚Ä¢ Cloud-native Deployment f√ºr Skalierbarkeit und globale Verf√ºgbarkeit\n‚Ä¢ Disaster Recovery und Business Continuity f√ºr kritische Governance-Prozesse"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 6),
        question: 'Welche strategischen Vorteile bieten Self-Service Portale und User Experience Optimization in einer modernen IAM Manager Umgebung?',
        answer: "Self-Service Portale und User Experience Optimization sind strategische Differenziatoren in modernen IAM Manager Umgebungen und transformieren traditionelle IT-Service-Modelle in benutzerorientierte, autonome Systeme. Diese Ans√§tze reduzieren nicht nur operative Kosten und IT-Belastung, sondern erh√∂hen auch Benutzerproduktivit√§t und -zufriedenheit, w√§hrend sie gleichzeitig Sicherheitsstandards und Compliance-Anforderungen erf√ºllen.\n\nüéØ Strategic Self-Service Architecture und Business Impact:\n‚Ä¢ Autonomous User Empowerment mit intelligenten Self-Service-Funktionen f√ºr alle Identit√§tsaktivit√§ten\n‚Ä¢ Reduced IT Overhead durch Automatisierung routinem√§√üiger Benutzeranfragen und -aktivit√§ten\n‚Ä¢ Accelerated Business Processes mit sofortiger Verf√ºgbarkeit ben√∂tigter Zugriffe und Ressourcen\n‚Ä¢ Enhanced User Satisfaction durch intuitive, responsive Benutzeroberfl√§chen\n‚Ä¢ Cost Optimization durch Reduzierung manueller IT-Interventionen und Support-Tickets\n\nüñ•Ô∏è Advanced Portal Design und User Experience:\n‚Ä¢ Responsive Web Design mit optimaler Performance auf allen Ger√§tetypen und Bildschirmgr√∂√üen\n‚Ä¢ Personalized Dashboards mit rollenbasierten Ansichten und benutzerdefinierten Widgets\n‚Ä¢ Intuitive Navigation mit kontextueller Hilfe und Guided Workflows\n‚Ä¢ Mobile-first Architecture f√ºr moderne Arbeitspl√§tze und Remote-Access\n‚Ä¢ Accessibility Compliance f√ºr inklusive Benutzererfahrungen und regulatorische Anforderungen\n\n‚ö° Intelligent Self-Service Capabilities:\n‚Ä¢ Password Self-Service mit sicheren Recovery-Mechanismen und Multi-Factor-Authentication\n‚Ä¢ Access Request Management mit intelligenten Empfehlungen und Approval-Routing\n‚Ä¢ Profile Management mit Self-Update-Funktionen und Data-Quality-Validierung\n‚Ä¢ Application Catalog mit Self-Provisioning und automatischer Berechtigung\n‚Ä¢ Certificate Management mit Self-Enrollment und Renewal-Automation\n\nüîÑ Workflow Integration und Process Automation:\n‚Ä¢ Seamless Integration in Gesch√§ftsprozesse mit API-driven Connectivity\n‚Ä¢ Intelligent Request Routing basierend auf Benutzerkontext und Organisationsstrukturen\n‚Ä¢ Automated Approval Workflows mit Delegation und Escalation-Management\n‚Ä¢ Real-time Status Tracking f√ºr Transparenz und Benutzerinformation\n‚Ä¢ Exception Handling mit intelligenter Weiterleitung an Support-Teams\n\nüìä Analytics und Continuous Improvement:\n‚Ä¢ User Behavior Analytics f√ºr Optimierung von Portal-Design und -Funktionalit√§t\n‚Ä¢ Performance Metrics mit SLA-Monitoring und Benutzer-Feedback-Integration\n‚Ä¢ A/B Testing f√ºr kontinuierliche Verbesserung der User Experience\n‚Ä¢ Self-Service Adoption Tracking f√ºr ROI-Messung und Business-Case-Validierung\n‚Ä¢ Predictive Analytics f√ºr proaktive Identifikation von Benutzeranforderungen\n\nüõ°Ô∏è Security und Compliance Integration:\n‚Ä¢ Secure Authentication mit adaptiven Sicherheitsanforderungen\n‚Ä¢ Audit-compliant Self-Service mit umfassender Protokollierung aller Aktivit√§ten\n‚Ä¢ Risk-based Controls mit automatischer Eskalation kritischer Anfragen\n‚Ä¢ Data Privacy Protection mit Privacy-by-Design-Prinzipien\n‚Ä¢ Fraud Detection mit Anomaly Detection in Self-Service-Aktivit√§ten"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 7),
        question: 'Wie gew√§hrleistet eine IAM Manager Plattform kontinuierliche Compliance-√úberwachung und automatisierte Audit-Bereitschaft f√ºr regulatorische Exzellenz?',
        answer: "Kontinuierliche Compliance-√úberwachung und automatisierte Audit-Bereitschaft sind kritische Erfolgsfaktoren f√ºr moderne IAM Manager Plattformen und erm√∂glichen es Unternehmen, proaktiv regulatorische Anforderungen zu erf√ºllen, w√§hrend sie gleichzeitig operative Effizienz maximieren. Diese Systeme transformieren traditionelle, reaktive Compliance-Ans√§tze in intelligente, vorausschauende Frameworks, die Risiken minimieren und Audit-Exzellenz gew√§hrleisten.\n\nüéØ Proactive Compliance Architecture und Regulatory Intelligence:\n‚Ä¢ Real-time Compliance Monitoring mit kontinuierlicher √úberwachung aller identit√§tsbezogenen Aktivit√§ten\n‚Ä¢ Regulatory Mapping Engine f√ºr automatische Anpassung an neue und ge√§nderte Vorschriften\n‚Ä¢ Policy-driven Compliance mit Business-Rule-Integration und automatischer Durchsetzung\n‚Ä¢ Risk-based Compliance Assessment mit pr√§diktiver Analyse potenzieller Verst√∂√üe\n‚Ä¢ Multi-jurisdictional Support f√ºr globale Compliance-Anforderungen und lokale Regulierungen\n\nüìä Advanced Monitoring und Detection Capabilities:\n‚Ä¢ Continuous Control Monitoring mit Real-time Alerting bei Policy-Violations\n‚Ä¢ Anomaly Detection f√ºr Identifikation ungew√∂hnlicher Zugriffsmuster und Compliance-Risiken\n‚Ä¢ Segregation of Duties Monitoring mit automatischer Konfliktdetektion\n‚Ä¢ Access Pattern Analysis f√ºr Erkennung von Compliance-relevanten Abweichungen\n‚Ä¢ Behavioral Analytics f√ºr Identifikation von Insider-Threats und Missbrauch\n\nüîç Comprehensive Audit Trail Management:\n‚Ä¢ Immutable Audit Logs mit kryptographischer Integrit√§t und Tamper-Evidence\n‚Ä¢ Granular Activity Tracking f√ºr l√ºckenlose Nachverfolgung aller IAM-Aktivit√§ten\n‚Ä¢ Contextual Audit Information mit Business-Process-Korrelation\n‚Ä¢ Long-term Retention Management mit automatischer Archivierung und Retrieval\n‚Ä¢ Forensic Capabilities f√ºr detaillierte Analyse von Sicherheitsvorf√§llen\n\nüìã Automated Reporting und Documentation:\n‚Ä¢ Regulatory Report Generation mit automatischer Erstellung compliance-spezifischer Berichte\n‚Ä¢ Executive Dashboards mit Real-time Compliance-Status und KPI-Monitoring\n‚Ä¢ Exception Reporting mit automatischer Identifikation und Dokumentation von Abweichungen\n‚Ä¢ Trend Analysis f√ºr proaktive Identifikation von Compliance-Risiken\n‚Ä¢ Custom Report Builder f√ºr spezifische Audit-Anforderungen und Stakeholder-Bed√ºrfnisse\n\n‚öñÔ∏è Intelligent Remediation und Response:\n‚Ä¢ Automated Remediation f√ºr Standard-Compliance-Verst√∂√üe und Policy-Violations\n‚Ä¢ Workflow-driven Remediation mit Approval-Prozessen f√ºr kritische √Ñnderungen\n‚Ä¢ Escalation Management mit automatischer Benachrichtigung relevanter Stakeholder\n‚Ä¢ Impact Assessment f√ºr Bewertung von Remediation-Ma√ünahmen\n‚Ä¢ Continuous Improvement mit Feedback-Loops f√ºr Policy-Optimierung\n\nüåê Enterprise Integration und Scalability:\n‚Ä¢ Multi-System Compliance Aggregation f√ºr ganzheitliche Sicht auf Compliance-Status\n‚Ä¢ API-driven Integration f√ºr nahtlose Anbindung an GRC-Systeme\n‚Ä¢ Cloud-native Architecture f√ºr Skalierbarkeit und globale Deployment-F√§higkeiten\n‚Ä¢ Third-party Integration f√ºr spezialisierte Compliance-Tools und -Services\n‚Ä¢ Disaster Recovery f√ºr Business Continuity kritischer Compliance-Funktionen"
      },
      {
        _type: 'object',
        _key: generateKey('faq', 8),
        question: 'Welche Rolle spielen Analytics und Intelligence in einer IAM Manager Plattform f√ºr datengetriebene Identit√§tsverwaltung und strategische Entscheidungsfindung?',
        answer: "Analytics und Intelligence sind das strategische Nervensystem moderner IAM Manager Plattformen und transformieren rohe Identit√§tsdaten in wertvolle Gesch√§ftseinblicke, die operative Exzellenz erm√∂glichen und strategische Entscheidungsfindung unterst√ºtzen. Diese Systeme nutzen fortschrittliche Datenanalytik, maschinelles Lernen und k√ºnstliche Intelligenz, um proaktive Identit√§tsverwaltung zu erm√∂glichen und Gesch√§ftswert zu maximieren.\n\nüéØ Strategic Data-driven Identity Management:\n‚Ä¢ Identity Analytics Dashboard f√ºr Real-time Einblicke in Identit√§tslandschaften und Nutzungsmuster\n‚Ä¢ Predictive Analytics f√ºr proaktive Identifikation von Sicherheitsrisiken und Compliance-Problemen\n‚Ä¢ Business Intelligence Integration f√ºr Korrelation von Identit√§tsdaten mit Gesch√§ftskennzahlen\n‚Ä¢ Data-driven Decision Making mit evidenzbasierten Empfehlungen f√ºr IAM-Strategien\n‚Ä¢ ROI Analytics f√ºr Messung und Optimierung des Gesch√§ftswerts von IAM-Investitionen\n\nüìä Advanced Analytics Capabilities und Machine Learning:\n‚Ä¢ Behavioral Analytics f√ºr Erkennung anomaler Benutzeraktivit√§ten und Insider-Threats\n‚Ä¢ Access Pattern Mining f√ºr Optimierung von Rollenmodellen und Berechtigungsstrukturen\n‚Ä¢ Risk Scoring Algorithms mit Machine Learning f√ºr intelligente Risikobewertung\n‚Ä¢ Anomaly Detection mit KI-gest√ºtzter Identifikation ungew√∂hnlicher Identit√§tsaktivit√§ten\n‚Ä¢ Predictive Modeling f√ºr Vorhersage von Benutzerverhalten und Sicherheitsrisiken\n\nüîç Comprehensive Identity Intelligence:\n‚Ä¢ Identity Lifecycle Analytics f√ºr Optimierung von Onboarding- und Offboarding-Prozessen\n‚Ä¢ Entitlement Analytics f√ºr Identifikation von √úber- und Unterberechtigungen\n‚Ä¢ Orphaned Account Detection mit automatischer Identifikation verwaister Identit√§ten\n‚Ä¢ Role Effectiveness Analysis f√ºr kontinuierliche Verbesserung von Rollenmodellen\n‚Ä¢ Access Utilization Metrics f√ºr Optimierung von Anwendungs- und Ressourcenzuweisungen\n\n‚ö° Real-time Intelligence und Automated Response:\n‚Ä¢ Stream Processing f√ºr Real-time Analyse von Identit√§tsereignissen\n‚Ä¢ Intelligent Alerting mit kontextbasierten Benachrichtigungen und Priorisierung\n‚Ä¢ Automated Response Triggers f√ºr sofortige Reaktion auf kritische Ereignisse\n‚Ä¢ Dynamic Risk Assessment mit kontinuierlicher Neubewertung von Sicherheitsrisiken\n‚Ä¢ Adaptive Controls mit automatischer Anpassung von Sicherheitsma√ünahmen\n\nüìà Performance Optimization und Continuous Improvement:\n‚Ä¢ IAM Process Analytics f√ºr Identifikation von Engp√§ssen und Optimierungspotenzialen\n‚Ä¢ User Experience Analytics f√ºr Verbesserung von Self-Service-Portalen und Workflows\n‚Ä¢ System Performance Monitoring mit Capacity Planning und Resource Optimization\n‚Ä¢ Compliance Analytics f√ºr kontinuierliche Verbesserung von Governance-Prozessen\n‚Ä¢ Cost Analytics f√ºr Optimierung von IAM-Betriebskosten und Ressourcenallokation\n\nüåê Enterprise-wide Intelligence Integration:\n‚Ä¢ Cross-platform Analytics f√ºr ganzheitliche Sicht auf Identit√§tslandschaften\n‚Ä¢ Business Context Integration f√ºr Korrelation von Identit√§tsdaten mit Gesch√§ftsprozessen\n‚Ä¢ Third-party Intelligence Feeds f√ºr Enhanced Threat Detection und Risk Assessment\n‚Ä¢ Data Lake Integration f√ºr Advanced Analytics und Big Data Processing\n‚Ä¢ API-driven Intelligence Sharing f√ºr Integration in Enterprise-Analytics-Plattformen"
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new FAQs to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ FAQ batch 2 added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
