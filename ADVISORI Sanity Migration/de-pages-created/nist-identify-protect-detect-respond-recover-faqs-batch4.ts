import 'dotenv/config'
import { createClient } from '@sanity/client'

// Create client with direct credentials
const client = createClient({
  projectId: 'wwmm9rbb',
  dataset: 'production',
  apiVersion: '2024-02-14',
  token: process.env.SANITY_API_TOKEN,
  useCdn: false,
})

// Helper function to generate unique keys
function generateKey(prefix: string, index: number): string {
  return `${prefix}_${Date.now()}_${index}`
}

const run = async () => {
  try {
    console.log('Updating NIST Identify, Protect, Detect, Respond, Recover page with C-Level FAQs batch 4 (German)...')
    
    // First, get the existing document
    console.log('Fetching existing document...')
    const existingDoc = await client.fetch('*[_id == $id][0]', { id: 'nist-identify-protect-detect-respond-recover' })
    
    if (!existingDoc) {
      throw new Error('Document "nist-identify-protect-detect-respond-recover" not found')
    }
    
    // Create new C-Level FAQs in German
    const newFaqs = [
      {
        _type: 'object',
        _key: generateKey('faq', 13),
        question: "Wie implementiert ADVISORI eine sektorspezifische NIST CSF-Anpassung f√ºr regulierte Industrien wie Finanzdienstleistungen, Healthcare und Critical Infrastructure?",
        answer: "Regulierte Industrien stehen vor einzigartigen Cybersicherheitsherausforderungen, die sektorspezifische Anpassungen des NIST CSF erfordern. ADVISORI entwickelt ma√ügeschneiderte Framework-Implementierungen, die branchenspezifische Regularien, Bedrohungsmodelle und Gesch√§ftsanforderungen optimal adressieren und dabei h√∂chste Compliance-Standards gew√§hrleisten.\n\nüè¶ Financial Services-Spezialisierung und DORA-Integration:\n‚Ä¢ IDENTIFY: Enhanced Asset Classification mit speziellem Fokus auf kritische Zahlungssysteme, Trading Platforms und Customer Data-Repositories unter DORA-Compliance.\n‚Ä¢ PROTECT: Implementation fortgeschrittener Fraud Detection-Systeme, Anti-Money Laundering-Integration und PCI DSS-konforme Sicherheitsarchitekturen.\n‚Ä¢ DETECT: Real-time Transaction Monitoring mit AI-basierter Anomalieerkennung f√ºr Market Manipulation und Financial Crime Detection.\n‚Ä¢ RESPOND: Specialized Incident Response f√ºr Financial Crime mit automatisierter Regulatory Reporting und Cross-Border Cooperation-Protokollen.\n‚Ä¢ RECOVER: Accelerated Recovery f√ºr kritische Zahlungsinfrastrukturen mit Systemically Important Payment Systems (SIPS)-konformen RTO/RPO-Zielen.\n\nüè• Healthcare Industry-Adaptation und HIPAA-Excellence:\n‚Ä¢ Medical Device Security: Comprehensive IoT Security f√ºr Medical Devices mit FDA-konformen Vulnerability Management und Patient Safety-Priorisierung.\n‚Ä¢ Patient Data Protection: Advanced HIPAA-konforme Datenschutzma√ünahmen mit Breach Detection und Patient Notification-Automatisierung.\n‚Ä¢ Clinical Operations Continuity: Specialized Business Continuity f√ºr Life-Critical Systems mit Emergency Response-Integration.\n‚Ä¢ Research Data Security: Secure Collaboration Platforms f√ºr Medical Research mit IP Protection und International Data Transfer-Compliance.\n\nüîß Critical Infrastructure Protection und NIS2-Alignment:\n‚Ä¢ SCADA/ICS Security: Specialized Security f√ºr Industrial Control Systems mit Air-Gap-Strategien und OT/IT-Convergence-Management.\n‚Ä¢ Supply Chain Resilience: Extended Supply Chain Security Assessment mit Focus auf Single Points of Failure in kritischen Infrastrukturen.\n‚Ä¢ Nation-State Threat Defense: Advanced APT Detection speziell f√ºr State-Sponsored Attacks auf kritische Infrastrukturen.\n‚Ä¢ Cross-Sector Coordination: Integration mit nationalen Cybersicherheitszentren und Sector-specific Information Sharing-Initiativen.\n\nüéØ Regulatory Excellence und Compliance Automation:\n‚Ä¢ Multi-Regulatory Framework: Unified Approach zur gleichzeitigen Erf√ºllung multipler regulatorischer Anforderungen mit Overlap-Optimization.\n‚Ä¢ Automated Compliance Monitoring: Real-time Compliance-Dashboards mit Predictive Non-Compliance Detection und Remediation-Workflows.\n‚Ä¢ Regulatory Change Management: Systematic Monitoring regulatorischer Entwicklungen mit Impact Assessment und Implementation-Planning.\n‚Ä¢ Cross-Border Compliance: Specialized Strategies f√ºr internationale Unternehmen mit Multi-Jurisdictional Compliance-Anforderungen."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 14),
        question: "Welche Rolle spielt Supply Chain Security in der NIST CSF-Implementierung und wie adressiert ADVISORI Third-Party-Risiken √ºber alle f√ºnf Kernfunktionen hinweg?",
        answer: "Supply Chain Security ist zu einer kritischen Komponente moderner Cybersicherheitsstrategien geworden, da Angreifer zunehmend schw√§chere Glieder in der Lieferkette ausnutzen. ADVISORI entwickelt umfassende Supply Chain Security-Frameworks, die Third-Party-Risiken systematisch √ºber alle f√ºnf NIST CSF-Kernfunktionen hinweg adressieren und dabei Gesch√§ftskontinuit√§t mit Sicherheitsexzellenz verbinden.\n\nüîç IDENTIFY-basierte Supply Chain Risk Assessment:\n‚Ä¢ Comprehensive Vendor Inventory: Vollst√§ndige Kartierung aller Third-Party-Relationships mit Business Impact-Assessment und Dependency-Mapping.\n‚Ä¢ Tiered Risk Classification: Multi-dimensionale Klassifizierung von Vendors basierend auf Data Access, Business Criticality und Geographic Risk-Factors.\n‚Ä¢ Continuous Risk Monitoring: Real-time Monitoring der Sicherheitshaltung aller Supply Chain-Partner mit Automated Risk Score-Updates.\n‚Ä¢ Fourth-Party Risk Extension: Assessment der Supply Chain-Partner der Partner (Fourth Parties) f√ºr Complete Ecosystem-Visibility.\n\nüõ°Ô∏è PROTECT-Strategien f√ºr Supply Chain Resilience:\n‚Ä¢ Zero Trust Supply Chain: Implementation von Zero-Trust-Prinzipien f√ºr alle Third-Party-Connections mit Continuous Verification und Least-Privilege-Access.\n‚Ä¢ Contractual Security Requirements: Development standardisierter Security Clauses und SLA-Requirements f√ºr alle Vendor-Contracts.\n‚Ä¢ Secure Integration Architecture: Design sicherer Integration-Patterns mit API Security, Data Encryption und Network Segmentation.\n‚Ä¢ Vendor Security Training: Comprehensive Security Awareness-Programme f√ºr alle Supply Chain-Partner mit Certification-Requirements.\n\nüîé DETECT-Capabilities f√ºr Third-Party Threats:\n‚Ä¢ Extended Detection Coverage: Monitoring von Third-Party-Activities innerhalb der eigenen Infrastruktur mit Behavioral Analytics und Anomaly Detection.\n‚Ä¢ Supply Chain Threat Intelligence: Specialized Threat Intelligence-Feeds f√ºr Supply Chain-spezifische Bedrohungen und Compromise-Indicators.\n‚Ä¢ Cross-Organizational Visibility: Shared Security Information mit Key Vendors f√ºr Collective Defense gegen Advanced Threats.\n‚Ä¢ Vendor Incident Correlation: Automated Correlation zwischen Vendor Security Incidents und Internal Security Events.\n\n‚ö° RESPOND und RECOVER f√ºr Supply Chain Incidents:\n‚Ä¢ Multi-Organizational Incident Response: Coordinated Incident Response-Procedures mit Key Supply Chain-Partnern f√ºr Joint Threat Mitigation.\n‚Ä¢ Vendor Isolation Capabilities: Rapid Isolation-Mechanisms f√ºr Compromised Vendors mit Business Continuity-Maintaining Workarounds.\n‚Ä¢ Alternative Supplier Activation: Pre-established Alternative Supplier-Relationships mit Rapid Onboarding-Capabilities f√ºr Business Continuity.\n‚Ä¢ Supply Chain Recovery Planning: Comprehensive Recovery-Strategien, die sowohl Internal Recovery als auch Vendor Recovery-Support umfassen.\n\nüéØ Strategic Supply Chain Security Excellence:\n‚Ä¢ Supply Chain Security Governance: Board-Level Governance f√ºr Supply Chain Security mit Executive Oversight und Strategic Decision-Making.\n‚Ä¢ Vendor Security Maturity Development: Proactive Support f√ºr Vendor Security Maturity-Improvement mit Shared Investment-Models.\n‚Ä¢ Industry Collaboration: Participation in Industry Supply Chain Security-Initiatives und Standards-Development f√ºr Collective Security Enhancement.\n‚Ä¢ Innovation Partnership Security: Specialized Security Frameworks f√ºr Innovation Partnerships und Joint Development-Initiatives."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 15),
        question: "Wie entwickelt ADVISORI eine Cloud-native NIST CSF-Implementierung, die Multi-Cloud-Umgebungen, Container-Security und DevSecOps-Praktiken integriert?",
        answer: "Cloud-native Architekturen erfordern eine fundamentale Neugestaltung traditioneller Cybersicherheitsans√§tze. ADVISORI entwickelt Cloud-native NIST CSF-Implementierungen, die die dynamische Natur von Cloud-Umgebungen, Container-Technologien und DevOps-Praktiken optimal nutzen und dabei h√∂chste Sicherheitsstandards in allen f√ºnf Kernfunktionen gew√§hrleisten.\n\n‚òÅÔ∏è Cloud-Native IDENTIFY-Strategien:\n‚Ä¢ Dynamic Asset Discovery: Continuous Discovery und Classification von Cloud-Ressourcen √ºber Multiple Cloud-Provider mit Automated Tagging und Lifecycle-Management.\n‚Ä¢ Cloud Security Posture Management (CSPM): Real-time Assessment der Cloud-Configuration-Security mit Automated Compliance-Checking und Drift-Detection.\n‚Ä¢ Multi-Cloud Visibility: Unified Security Dashboard √ºber AWS, Azure, GCP und Private Clouds mit Centralized Risk Assessment.\n‚Ä¢ Container und Kubernetes Security: Specialized Security Assessment f√ºr Container-Workloads, Kubernetes Clusters und Serverless Functions.\n\nüîí Advanced PROTECT-Implementation f√ºr Cloud-Native:\n‚Ä¢ Infrastructure as Code (IaC) Security: Security-by-Design in IaC-Templates mit Automated Security Testing und Policy-as-Code-Implementation.\n‚Ä¢ DevSecOps Integration: Seamless Integration von Security-Controls in CI/CD-Pipelines mit Shift-Left-Security und Automated Vulnerability Scanning.\n‚Ä¢ Zero Trust Cloud Architecture: Implementation von Zero-Trust-Principles in Cloud-Native Applications mit Micro-Segmentation und Identity-Centric Security.\n‚Ä¢ Cloud-Native Encryption: Advanced Encryption-Strategies f√ºr Data-at-Rest, In-Transit und In-Use mit Cloud-Provider-Native und Third-Party-Solutions.\n\nüîç DETECT-Excellence in Dynamic Cloud-Environments:\n‚Ä¢ Cloud-Native SIEM: Implementation spezialisierter SIEM-Solutions f√ºr Cloud-Native Environments mit Auto-Scaling Detection-Capabilities.\n‚Ä¢ Container Runtime Security: Real-time Monitoring von Container-Behavior mit Machine Learning-basierter Anomaly Detection f√ºr Container-Specific Threats.\n‚Ä¢ Serverless Security Monitoring: Specialized Monitoring f√ºr Serverless Functions mit Event-driven Security Analytics und Lambda-specific Threat Detection.\n‚Ä¢ Multi-Cloud Threat Correlation: Advanced Correlation von Security Events √ºber Multiple Cloud-Providers f√ºr Comprehensive Threat Visibility.\n\n‚ö° RESPOND und RECOVER in Cloud-Native Environments:\n‚Ä¢ Automated Cloud Incident Response: Cloud-Native Response-Automation mit Infrastructure-as-Code-based Recovery und Auto-Scaling Response-Capabilities.\n‚Ä¢ Container Incident Isolation: Rapid Container Isolation und Replacement-Strategies mit Kubernetes-Native Security Policies und Automated Remediation.\n‚Ä¢ Multi-Cloud Disaster Recovery: Advanced Disaster Recovery-Strategies mit Cross-Cloud Replication und Automated Failover-Mechanisms.\n‚Ä¢ DevOps-Integrated Recovery: Integration von Recovery-Processes in DevOps-Workflows mit Automated Rollback-Capabilities und Continuous Recovery-Testing.\n\nüöÄ Strategic Cloud-Native Security Innovation:\n‚Ä¢ AI-Driven Cloud Security: Integration von Machine Learning und AI f√ºr Predictive Security Analytics und Automated Threat Response in Cloud-Environments.\n‚Ä¢ Cloud Security Automation: Comprehensive Automation von Security-Operations mit Cloud-Native Tools und Custom Automation-Frameworks.\n‚Ä¢ EdgeComputing Security: Extension der NIST CSF-Implementation auf Edge Computing-Environments mit Distributed Security-Architectures.\n‚Ä¢ Cloud Security Economics: Cost-Optimization von Cloud Security mit Resource-Right-Sizing und Security-ROI-Optimization."
      },
      {
        _type: 'object',
        _key: generateKey('faq', 16),
        question: "Wie integriert ADVISORI Business Continuity Management (BCM) und Crisis Management in die RECOVER-Funktion f√ºr ganzheitliche Organisationsresilienz?",
        answer: "Die Integration von Business Continuity Management und Crisis Management in die RECOVER-Funktion des NIST CSF schafft eine ganzheitliche Organisationsresilienz, die √ºber reine IT-Recovery hinausgeht. ADVISORI entwickelt umfassende Resilience-Frameworks, die technische Wiederherstellung mit strategischem Crisis Management und Business Continuity verbinden.\n\nüèóÔ∏è Integrated Business Continuity Architecture:\n‚Ä¢ Holistic Impact Assessment: Comprehensive Analysis der Interdependenzen zwischen IT-Systems, Business Processes und External Dependencies f√ºr Complete Recovery-Planning.\n‚Ä¢ Tiered Recovery Strategies: Multi-Level Recovery-Approaches von System-Level √ºber Process-Level bis zu Strategic Business-Level mit Synchronized Recovery-Execution.\n‚Ä¢ Stakeholder-Centric Recovery: Recovery-Prioritization basierend auf Stakeholder-Impact mit Customer-First, Employee-Safety und Investor-Confidence-Focus.\n‚Ä¢ Cross-Functional Recovery Teams: Integration von IT, Operations, HR, Legal, Communications und Executive Teams in Unified Recovery-Command-Structures.\n\nüì± Crisis Communication und Reputation Management:\n‚Ä¢ Multi-Channel Communication: Coordinated Communication-Strategies √ºber Internal Channels, Customer Communication, Media Relations und Regulatory Reporting.\n‚Ä¢ Real-Time Stakeholder Updates: Automated Stakeholder Notification-Systems mit Customized Messaging f√ºr Different Stakeholder-Groups.\n‚Ä¢ Social Media Crisis Management: Proactive Social Media Monitoring und Response-Strategies mit Brand Protection und Public Sentiment-Management.\n‚Ä¢ Executive Crisis Communication: C-Level Communication-Training und Prepared Statements f√ºr Media Interviews und Public Appearances.\n\nüéØ Strategic Recovery und Market Position:\n‚Ä¢ Competitive Recovery Advantage: Recovery-Strategies, die Competitive Advantage schaffen durch Demonstrated Resilience und Superior Customer Service.\n‚Ä¢ Market Confidence Restoration: Systematic Approaches zur Restoration von Market Confidence mit Investor Relations und Analyst Communication.\n‚Ä¢ Customer Retention Strategies: Proactive Customer Retention-Programs w√§hrend Recovery mit Value-Added Services und Enhanced Support.\n‚Ä¢ Business Model Adaptation: Flexible Business Model-Adjustments w√§hrend Recovery f√ºr Continued Value Delivery und Market Presence.\n\n‚ö° Operational Excellence in Crisis Situations:\n‚Ä¢ Remote Work Enablement: Rapid Deployment von Remote Work-Capabilities f√ºr Business Continuity mit Security-First-Approach.\n‚Ä¢ Supply Chain Resilience: Alternative Supply Chain-Activation mit Pre-established Vendor Relationships und Emergency Procurement-Procedures.\n‚Ä¢ Financial Resilience Management: Cash Flow-Management, Emergency Funding-Access und Financial Recovery-Planning f√ºr Sustained Operations.\n‚Ä¢ Regulatory Compliance Continuity: Maintained Regulatory Compliance auch w√§hrend Crisis-Situations mit Automated Compliance-Monitoring.\n\nüîÑ Continuous Resilience Improvement:\n‚Ä¢ Recovery Performance Analytics: Comprehensive Measurement der Recovery-Effectiveness mit Business Impact-Metrics und Stakeholder Satisfaction-Surveys.\n‚Ä¢ Lessons Learned Integration: Systematic Integration von Crisis-Learnings in Business Processes und Recovery-Plans f√ºr Continuous Improvement.\n‚Ä¢ Scenario-Based Training: Regular Crisis Simulation-Exercises mit Cross-Functional Teams f√ºr Enhanced Crisis-Readiness.\n‚Ä¢ Resilience Culture Development: Organizational Culture-Building, die Resilience als Core-Value etabliert und Crisis-Readiness als Competitive Advantage positioniert."
      }
    ]
    
    // Update the document with new FAQs
    const updatedFaqs = [...(existingDoc.faq || []), ...newFaqs]
    
    console.log(`Adding ${newFaqs.length} new C-Level FAQs (German) to the document...`)
    const transaction = client.transaction()
    transaction.patch(existingDoc._id, {
      set: {
        faq: updatedFaqs
      }
    })
    
    await transaction.commit()
    console.log('‚úÖ C-Level FAQs batch 4 (German) added successfully')
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

run()
